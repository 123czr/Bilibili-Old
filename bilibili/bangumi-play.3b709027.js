webpackJsonp([0],[,function(t,e,i){"use strict";function n(t){if("undefined"!=typeof window){if(window.location.href.toLowerCase().indexOf("https")>-1&&t&&t.toLowerCase().indexOf("https")<0)return t.replace("http","https")}return t}function s(t){return t?t.replace(/^http:/,""):""}function a(t,e,i){if(!t)return t;var n=t.match(/(.*\.(jpg|jpeg|gif|png))(\?.*)?/),a=-1!==t.indexOf("/bfs/");if(!n||"gif"===n[2]||!a)return s(t);e=Math.ceil(e),i=Math.ceil(i);var o=e&&i?"@"+e+"w_"+i+"h":"@",r=n[3]?n[3]:"";return s(P?n[1]+o+".webp"+r:n[1]+o+"."+n[2]+r)}function o(){var t=1;return"undefined"==typeof window?t:(void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),1===t?2:t)}function r(t,e){if(t){var i=t.getBoundingClientRect(),n=e||0;return i.x+i.y+i.width+i.height!==0&&(i.top<window.innerHeight+n&&i.bottom>=0)}}function c(t,e,i){var n=null,s=0;return function(){var a=this,o=arguments,r=+new Date;clearTimeout(n),s||(s=r),r-s>=i?(t.apply(a,o),s=r):n=setTimeout(function(){t.apply(a,o)},e)}}function l(t){return"{}"===JSON.stringify(t)}function u(t,e,i){if(!t)return t;if(t=n(t),/i[0-2]/.test(t)){var s=void 0,a="";if(t.indexOf("?")>=0&&(s=t.split("?"),t=s[0],a="?"+s[1]),t.indexOf("/bfs/")>=0||t.indexOf("/group1/")>=0){if(/_+[0-9]+x[0-9]/.test(t))return t;var o=t.split(".");t+="_"+e+"x"+i+"."+o[o.length-1]}else{var r=/\d+_\d+\//;r.test(t)&&(t=t.replace(r,"")),t=t.replace("com/","com/"+e+"_"+i+"/")}t+=a}return t}function d(t){if(t&&"object"===(void 0===t?"undefined":C(t))){var e=[];for(var i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]){var n="object"===C(t[i])?JSON.stringify(t[i]):t[i];e.push(i+"="+encodeURIComponent(n))}return e.join("&")}return""}function f(t){var e={};if(t&&"string"==typeof t){t.split("&").forEach(function(t){if(t){var i=t.split("="),n=decodeURIComponent(i[1]);n.indexOf("{")>-1&&(n=JSON.parse(n)),e[i[0]]=n}})}return e}function p(){return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop}function h(){0!==document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop=0}function _(){var t=p(),e=parseInt(t/30);!function i(){if(t-=e,t<0&&(t=0),0===document.body.scrollTop&&0!==t?document.documentElement.scrollTop=t:0!==t&&(document.body.scrollTop=t),0===t)return void(document.documentElement.scrollTop=document.body.scrollTop=t);window.requestAnimationFrame(i)}()}function m(){return window.innerHeight||document.documentElement.clientHeight}function v(t,e,i){var n=i&&i.protocol?i.protocol+":":window.location.protocol,s=d(e),a=n+"//"+t;return s&&(a+="?"+s),a}function g(t){if(!t)return"";var e=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");return e=e.replace(/(\r\n)|(\n)|(\r)/g,"<br/>"),e=e.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/ /g,"&nbsp;")}function I(t,e){var i=document.createElement("script");i.type="text/javascript",i.src=t,i.onload=e,document.body.appendChild(i)}function y(t){return"number"!=typeof t&&(t=Number(t)),void 0===t||isNaN(t)||t<=0?"-":Math.abs(t)<=1e4?t:Math.abs(t)<=1e8?Math.round(t/1e3)/10+"万":Math.round(t/1e7)/10+"亿"}function w(t,e){if(window.spmReportData){var i=e||t;window.spmReportData[t]=i}}function b(t,e){if(t){var i=t.className.split(" ");(e||"").split(" ").forEach(function(t){i.indexOf(t)<0&&i.push(t)}),t.className=i.join(" ")}}function E(t,e){if(t&&e){var i=e.split(" "),n=t.className.split(" ");i.forEach(function(t){if(n.indexOf(t)>-1){var e=n.indexOf(t);n.splice(e,1)}}),t.className=n.join(" ")}}function S(){"function"==typeof window.biliQuickLogin?window.biliQuickLogin(function(){window.location.reload()}):I("//static.hdslb.com/account/bili_quick_login.js",function(){window.biliQuickLogin(function(){window.location.reload()})})}function O(t){if("undefined"!=typeof window){if(/MSIE/i.test(window.navigator.userAgent)||/Trident/i.test(window.navigator.userAgent))try{var e=window.document.createElement("iframe");e.className="bangumi-pay-layout",e.frameBorder="0",t.appendChild(e)}catch(t){}}}Object.defineProperty(e,"__esModule",{value:!0});var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.httpsChk=n,e.trimHttp=s,e.webpImg=a,e.drp=o,e.checkInView=r,e.throttle=c,e.isEmptyObject=l,e.bfsImage=u,e.paramsToKvp=d,e.kvpToParams=f,e.getScrollTop=p,e.jumpToTop=h,e.animeScrollTop=_,e.getWindowH=m,e.getAxiosUrl=v,e.filterText=g,e.getScript=I,e.biliNumFormat=y,e.customReport=w,e.addClass=b,e.removeClass=E,e.quickLogin=S,e.loadDialogFrame=O;var P=e.webp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}()},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.REAL_NAME_SHOW="REAL_NAME_SHOW",e.SHOW_1080P="SHOW_1080P",e.RESET_SLIDER_STAT="RESET_SLIDER_STAT",e.SLIDER_TO_INDEX="SLIDER_TO_INDEX",e.SLIDER_TO_END="SLIDER_TO_END",e.RESET_SLIDER_INDEX="RESET_SLIDER_INDEX",e.SHOW_VIDEO_CARD="SHOW_VIDEO_CARD",e.HIDE_VIDEO_CARD="HIDE_VIDEO_CARD",e.TRIGGER_PAY_PROCESS="TRIGGER_PAY_PROCESS",e.TRIGGER_PAY_ENTRY="TRIGGER_PAY_ENTRY",e.COIN_DIALOG="COIN_DIALOG",e.COIN_SUCCESS="COIN_SUCCESS",e.SIX_MIN_MASK_SHOW="SIX_MIN_MASK_SHOW",e.SHOW_SPONSOR_RANK="SHOW_SPONSOR_RANK",e.RANK_TAB_CHANGE="RANK_TAB_CHANGE",e.TRIGGER_FOLLOW_ANIME="TRIGGER_FOLLOW_ANIME",e.FETCH_SPONSOR_RANK="FETCH_SPONSOR_RANK",e.SPONSOR_PAY_SUCCESS="SPONSOR_PAY_SUCCESS",e.RELOAD_PLAYER_SOURCE="RELOAD_PLAYER_SOURCE",e.TRIGGER_REVIEW_OPEN="TRIGGER_REVIEW_OPEN",e.TRIGGER_SHORT_REVIEW="TRIGGER_SHORT_REVIEW",e.SHORT_REVIEW_SUCCESS="SHORT_REVIEW_SUCCESS",e.REVIEW_OPEN_SUCCESS="REVIEW_OPEN_SUCCESS",e.TRIGGER_REPORT_DIALOG="TRIGGER_REPORT_DIALOG"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=new s.default;e.default=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(){return b.default.get("bili_jct")||""}function a(t,e,i,n){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a="";if(i=void 0===i?"番剧":i,e&&i)if(s&&t){var o=c(t,i);a=e+"："+o+"_"+i+(n?"_bilibili":"")+"_哔哩哔哩"}else a=e+"_"+i+(n?"_bilibili":"")+"_哔哩哔哩";else a="番剧"+(n?"_bilibili":"")+"_哔哩哔哩";if("undefined"!=typeof window){var r=window.document.createElement("div");r.innerHTML=a,a=r.innerText||r.textContent,r=null}return a}function o(t,e,i,n,s){var a=e||"";if(n&&t){var o=c(t,s);a=(e||"")+"："+o+" "+(i||"")}if("undefined"!=typeof window){var r=window.document.createElement("div");r.innerHTML=a,a=r.innerText||r.textContent,r=null}return a}function r(t){var e=Number(t);return isNaN(e)?t:"第"+e+"话"}function c(t,e){var i=Number(t),n=1===e||4===e||"番剧"===e||"国创"===e?"话":"集";return isNaN(i)?t:"第"+i+n}function l(t){var e=b.default.get("BANGUMI_SS_"+t+"_REC");return e||(e=b.default.get(t)),Number(e)}function u(t,e){b.default.set("BANGUMI_SS_"+t+"_REC",e,"d7")}function d(t,e,i,n){var a=window.location.protocol,o=i?"follow":"unfollow";return S.default.fetchPost("//bangumi.bilibili.com/follow/web_api/season/"+o,{season_id:t,season_type:e,csrf:s()},!1,!0).then(function(e){return 0!==e.code&&(0,P.report)({requestUrl:a+"//bangumi.bilibili.com/follow/web_api/season/"+o,errMsg:"追番接口失败(type: "+o+", seasonId: "+t,mid:n||void 0},e),Promise.resolve(e)},function(e){return(0,P.report)({requestUrl:a+"//bangumi.bilibili.com/follow/web_api/season/"+o,errMsg:"追番接口失败(type: "+o+", seasonId: "+t,mid:n||void 0},e),Promise.resolve(e)})}function f(t,e,i,n){return new Promise(function(s,a){_({fid:i.mid,act:t?1:2===e?2:4,re_src:14},function(e){0===e.code?(t&&h(i),s(t)):(0,M.default)({el:n,msg:e.message,cd:1e3,type:"error"})})})}function p(t,e,i){return new Promise(function(n,a){S.default.fetchPost("//bangumi.bilibili.com/review/web_api/"+(t?"like":"dislike"),{media_id:e,review_id:i,review_type:1,csrf:s()},!1,!0).then(function(t){0===t.code?n(1===t.result.status):a(new Error)}).catch(a)})}function h(t){var e=function(){window.followGroupDialog(t.mid,t.uname,{showErrMsgInDialog:!1,onAddTagError:function(t){(0,M.default)({el:".follow-dialog-window .submit",msg:t||"添加分组失败",cd:1e3,type:"error"})},onSubmitError:function(t){(0,M.default)({el:".follow-dialog-window .submit-move",msg:t||"移动分组失败",cd:1e3,type:"error"})},onSubmitSuccess:function(){(0,M.default)({el:".follow-dialog-window",msg:"加入分组成功",cd:1e3})},onEmptyTagSubmit:function(){(0,M.default)({el:".follow-dialog-window",msg:"加入分组成功",cd:1e3})}})};try{void 0===window.followGroupDialog?(0,T.getScript)("//static.hdslb.com/common/js/followGroupDialog.js",e):e()}catch(t){}}function _(t,e){(0,C.default)({url:A.default.API+"/x/relation/modify",type:"POST",data:{fid:t.fid,act:t.act,re_src:t.re_src,cross_domain:!0,csrf:s()},xhrFields:{withCredentials:!0}}).then(function(t){t&&e(t)})}function m(t,e,i,n){var s=0,a=!1,o=(1===n.vipType||2===n.vipType)&&1===n.vipStatus,r="number"==typeof i?i:-1;return 1===e?s=0:6===t||7===t?s=n.isLogin?o?0:1:2:8===t||9===t?(s=n.isLogin?1:2,a=!0):12===t?s=n.isLogin?1===r?0:1:2:13===t&&(s=n.isLogin?o?0:1:2),{status:s,isPay:6===t||7===t||8===t||9===t||12===t||13===t,isVip:o,vipNeedPay:a,payPack:r}}function v(t,e){return t=Number(t),isNaN(t)&&(t=0),1===e?"已有<span>"+(0,T.biliNumFormat)(t-1)+"</span>人和你一起承包":t<=0?"成为第一个承包人吧！":"已有<span>"+(0,T.biliNumFormat)(t)+"</span>人承包"}function g(t,e){return t=Number(t),isNaN(t)&&(t=0),1===e?"<span>"+(0,T.biliNumFormat)(t-1)+"</span>人和你一起承包":t<=0?"成为第一个承包人吧！":"已有<span>"+(0,T.biliNumFormat)(t)+"</span>人承包"}function I(t){return{1:"番剧",2:"电影",3:"纪录片",4:"国创",5:"电视剧"}[t]||"番剧"}function y(t){var e=t.split("-");return 3===e.length&&4===e[0].length?parseInt(e[1])+"月"+parseInt(e[2])+"日":2!==e.length?t:2===e[0].length?parseInt(e[0])+"月"+parseInt(e[1])+"日":4===e[0].length?e[0]+"年"+parseInt(e[1])+"月":void 0}Object.defineProperty(e,"__esModule",{value:!0}),e.getCsrf=s,e.formatTitle=a,e.formatH1Title=o,e.formatIndex=r,e.formatShortTitle=c,e.getSeasonClickRec=l,e.setSeasonClickRec=u,e.bangumiFollow=d,e.userAttention=f,e.reviewLikeOrNot=p,e.showFollowGroupDialog=h,e.relation=_,e.payStatusCheck=m,e.formatSponsorTip=v,e.formatSponsorTipReview=g,e.getSeasonTypeName=I,e.formatPubDate=y;var w=i(15),b=n(w),E=i(7),S=n(E),O=i(21),C=n(O),P=i(33),T=i(1),N=i(22),A=n(N),k=i(23),M=n(k)},function(t,e,i){"use strict";function n(t,e,i){if(window.reportObserver){e=e||{};var s=window.reportConfig&&window.reportConfig.msgObjects?window.reportConfig.msgObjects:"";if(window[s]){t=t||{};for(var a in t)if(t.hasOwnProperty(a)){i?(null!==e&&void 0!==e&&""!==e&&"{}"!==JSON.stringify(e)&&window.reportObserver.setSpeicalMsg(JSON.stringify(e),window.bsource||""),window[s][a]=t[a]):window[s][a+"_"+t[a]]=e;try{window.reportObserver.forceCommit()}catch(t){}}}}else setTimeout(function(){n(t,e)},1e3)}function s(t){return 0===t.indexOf("//")?window.location.protocol+t:0===t.indexOf("/")?location.origin+t:0===t.indexOf("http")?t:location.href+t}t.exports={report:n,parseUrl:s}},function(t,e,i){"use strict";function n(t){var e=t.status||-1;return new r.Promise(function(i,n){t.json().then(function(t){"object"===(void 0===t?"undefined":s(t))&&(t.httpCode=e),i(t)}).catch(function(t){n(t)})})}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i(153);var a=i(154),o=function(t){return t&&t.__esModule?t:{default:t}}(a),r=i(32),c=i(1),l={};l.fetchGet=function(t,e){var i={method:"GET",credentials:"include"};if(e){var s=[];for(var a in e)e.hasOwnProperty(a)&&s.push(a+"="+e[a]);t+="?"+s.join("&")}return new r.Promise(function(e,s){window.fetch(t,i).then(function(t){return n(t)}).then(function(t){e(t)}).catch(function(t){s(t)})})},l.fetchJson=function(t,e){var i={method:"GET"};if(e){var s=[];for(var a in e)e.hasOwnProperty(a)&&s.push(a+"="+e[a]);t+="?"+s.join("&")}return new r.Promise(function(e,s){window.fetch(t,i).then(function(t){return n(t)}).then(function(t){e(t)}).catch(function(t){s(t)})})},l.fetchPost=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={method:"POST",credentials:"include"};return i&&(a.mode="cors"),s?(a.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},a.body=(0,c.paramsToKvp)(e)):(a.headers={"Content-Type":"application/json"},a.body=JSON.stringify(e)),new r.Promise(function(e,i){window.fetch(t,a).then(function(t){return n(t)}).then(function(t){e(t)}).catch(function(t){i(t)})})},l.fetchJsonp=function(t,e,i){return new r.Promise(function(s,a){var r=(0,c.paramsToKvp)(i);r=r?"?"+r:"";var l={type:e.type,jsonpCallbackFunction:e.callBack,nocache:e.nocache||!1};(0,o.default)(t+r,l).then(function(t){return n(t)}).then(function(t){s(t)}).catch(function(t){a(t)})})},l.getWithToken=function(t,e){return e=void 0===e?{}:e,new r.Promise(function(i,n){l.fetchGet("//bangumi.bilibili.com/web_api/get_token").then(function(s){0===s.code?(e.token=s.result.token,l.fetchGet(t,e).then(function(t){i(t)},function(t){n(t)})):n(s.message)},function(t){n(t)})})},l.postWithToken=function(t,e){return e=e||{},new r.Promise(function(i,n){l.fetchGet("//bangumi.bilibili.com/web_api/get_token").then(function(s){0===s.code?(e.token=s.result.token,l.fetchPost(t,e,!1,!0).then(function(t){i(t)},function(t){n(t)})):n(s.message)},function(t){n(t)})})},l.postImage=function(t){return new r.Promise(function(e,i){var s={method:"POST",credentials:"include"};s.body=t,window.fetch("//bangumi.bilibili.com/uploader/moe/2017/character",s).then(function(t){return n(t)}).then(function(t){e(t)}).catch(function(t){i(t)})})},l.postFormData=function(t,e){return new r.Promise(function(i,s){var a={method:"POST",credentials:"include"};a.body=e,window.fetch(t,a).then(function(t){return n(t)}).then(function(t){i(t)}).catch(function(t){s(t)})})},e.default=l},,function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.CORE=e.FETCH_VIDEO_STAT=e.FETCH_REVIEW_DATA=e.FETCH_USER_COINED=e.USER_OPEN_CHANGE=e.SHORT_REVIEW_CHANGE=e.FETCH_USER_REVIEW=e.CHANGE_PLAYER_TRIGGER_STAT=e.SPONSOR_STAT_CHANGE=e.CHANGE_MINI_ON=e.FETCH_SPONSOR_WEEK=e.FETCH_SPONSOR_TOTAL=e.FETCH_COIN_SPEND=e.FETCH_PLAYER_RECOMMEND=e.FETCH_RECOMMEND=e.EP_INFO_CHANGE=e.FOLLOW_STAT_CHANGE=e.FETCH_USER_STAT=e.FETCH_MEDIA_INFO=e.FETCH_LOGIN=e.VERSION_LOAD=void 0;var s,a=i(25),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),r=i(126),c=function(t){return t&&t.__esModule?t:{default:t}}(r),l=i(1),u=e.VERSION_LOAD="VERSION_LOAD",d=e.FETCH_LOGIN="FETCH_LOGIN",f=e.FETCH_MEDIA_INFO="FETCH_MEDIA_INFO",p=e.FETCH_USER_STAT="FETCH_USER_STAT",h=e.FOLLOW_STAT_CHANGE="FOLLOW_STAT_CHANGE",_=e.EP_INFO_CHANGE="EP_INFO_CHANGE",m=e.FETCH_RECOMMEND="FETCH_RECOMMEND",v=e.FETCH_PLAYER_RECOMMEND="FETCH_PLAYER_RECOMMEND",g=e.FETCH_COIN_SPEND="FETCH_COIN_SPEND",I=e.FETCH_SPONSOR_TOTAL="FETCH_SPONSOR_TOTAL",y=e.FETCH_SPONSOR_WEEK="FETCH_SPONSOR_WEEK",w=e.CHANGE_MINI_ON="CHANGE_MINI_ON",b=e.SPONSOR_STAT_CHANGE="SPONSOR_STAT_CHANGE",E=e.CHANGE_PLAYER_TRIGGER_STAT="CHANGE_PLAYER_TRIGGER_STAT",S=e.FETCH_USER_REVIEW="FETCH_USER_REVIEW",O=e.SHORT_REVIEW_CHANGE="SHORT_REVIEW_CHANGE",C=e.USER_OPEN_CHANGE="USER_OPEN_CHANGE",P=e.FETCH_USER_COINED="FETCH_USER_COINED",T=e.FETCH_REVIEW_DATA="FETCH_REVIEW_DATA",N=e.FETCH_VIDEO_STAT="FETCH_VIDEO_STAT";e.CORE=(s={},n(s,u,function(t,e){(0,t.commit)(o.SET_VERSION,e)}),n(s,d,function(t,e){var i=t.commit;return(0,c.default)({url:(0,l.getAxiosUrl)("api.bilibili.com/x/web-interface/nav",null,e),include:!0}).then(function(t){var e={};200===t.status&&t.data&&(e=t.data.data||{}),i(o.SET_LOGIN_INFO,e)}).catch(function(){return Promise.resolve()})}),n(s,f,function(t,e){var i=t.commit,n={};return"ep"===e.viewType?n.ep_id=e.id:"ss"===e.viewType?n.season_id=e.id:n.media_id=e.id,(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/view/web_api/season",null,e),data:n,cookies:e.cookies,timeout:800}).then(function(t){if(200!==t.status||0!==t.data.code)throw 200===t.status&&-404===t.data.code?new Error(-404):new Error(JSON.stringify(t.data));if(e.epOnly){var n=t.data.result||{};return Promise.resolve(n.episodes||[])}i(o.SET_MEDIA_INFO,t.data.result||{})}).catch(function(t){var e=t.message?Number(t.message):-500;throw isNaN(e)||-404!==e?new Error(t.message):new Error(-404)})}),n(s,p,function(t,e){var i=t.commit;return e.ssId>0?(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/view/web_api/season/user/status",null,e),data:{season_id:e.ssId,season_type:e.ssType||1},include:!0}).then(function(t){200===t.status&&0===t.data.code?i(o.SET_USER_STAT,t.data.result||{}):i(o.SET_USER_STAT,{})}).catch(function(t){i(o.SET_USER_STAT,{})}):(i(o.SET_USER_STAT,{}),Promise.resolve())}),n(s,h,function(t,e){(0,t.commit)(o.SET_FOLLOW_STAT,e.stat)}),n(s,_,function(t,e){(0,t.commit)(o.SET_EP_INFO,e.epId)}),n(s,m,function(t,e){var i=t.commit;if(e.aid>0)return(0,c.default)({url:(0,l.getAxiosUrl)("comment.bilibili.com/recommendnew,"+e.aid,null,e)}).then(function(t){200===t.status&&t.data&&0===t.data.code&&i(o.SET_RECOM_LIST,t.data.data||[])})}),n(s,v,function(t,e){var i=t.commit;if(e.ssId>0)return(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/web_api/season/v2/recommend/"+e.ssType+"/"+e.ssId+".json",null,e)}).then(function(t){if(200===t.status&&0===t.data.code){var e=t.data.result?t.data.result.list||[]:[];i(o.SET_PLAYER_RECOMMEND,e)}}).catch(function(){return Promise.resolve()})}),n(s,g,function(t,e){(0,t.commit)(o.SET_COIN_SPEND,e.spending)}),n(s,I,function(t,e){var i=t.commit;if(e.ssId>0)return(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/sponsor/web_api/v2/rank/total",null,e),data:{season_type:e.ssType,season_id:e.ssId,page:1,pagesize:e.pageSize},include:!0}).then(function(t){200===t.status&&t.data?i(o.SET_SPONSOR_TOTAL,t.data):i(o.SET_SPONSOR_TOTAL,{code:-500})}).catch(function(){i(o.SET_SPONSOR_TOTAL,{code:-500})});i(o.SET_SPONSOR_TOTAL,{code:-500})}),n(s,y,function(t,e){var i=t.commit;if(e.ssId>0)return(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/sponsor/web_api/v2/rank/week",null,e),data:{season_type:e.ssType,season_id:e.ssId,page:1,pagesize:e.pageSize},include:!0}).then(function(t){200===t.status&&t.data?i(o.SET_SPONSOR_WEEK,t.data):i(o.SET_SPONSOR_WEEK,{code:-500})}).catch(function(){i(o.SET_SPONSOR_WEEK,{code:-500})});i(o.SET_SPONSOR_WEEK,{code:-500})}),n(s,w,function(t,e){(0,t.commit)(o.SET_MINI_ON,e.isOn)}),n(s,b,function(t,e){(0,t.commit)(o.SET_SPONSOR_STAT,e.stat)}),n(s,E,function(t,e){(0,t.commit)(o.SET_PLAYER_TRIGGER_STAT,e.stat)}),n(s,S,function(t,e){var i=t.commit;return e.mediaId>0?(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/review/web_api/media/user/review",null,e),data:{media_id:e.mediaId},include:!0}).then(function(t){return 200===t.status&&0===t.data.code&&i(o.SET_USER_REVIEW,t.data.result||{}),Promise.resolve()}).catch(function(){return i(o.SET_USER_REVIEW,{}),Promise.resolve()}):(i(o.SET_USER_REVIEW,{}),Promise.resolve())}),n(s,O,function(t,e){(0,t.commit)(o.SET_SHORT_REVIEW,e.result||{})}),n(s,C,function(t,e){(0,t.commit)(o.SET_USER_OPEN,e.isOpen||!1)}),n(s,P,function(t,e){var i=t.commit;return e.mediaId>0?(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/review/web_api/media/user/status",null,e),data:{media_id:e.mediaId},include:!0}).then(function(t){return i(o.SET_USER_COINED,t.data&&t.data.result?t.data.result:{}),Promise.resolve()}).catch(function(){return Promise.resolve()}):Promise.resolve()}),n(s,T,function(t,e){t.commit;return e.mediaId>0?(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/review/web_api/media/play",null,e),data:{media_id:e.mediaId}}).then(function(t){var e={longList:[],shortList:[],feedList:[]};if(200===t.status&&t.data&&0===t.data.code){var i=t.data.result||{};e.shortList=i.short_review&&i.short_review.list?i.short_review.list:[],e.longList=i.long_review&&i.long_review.list?i.long_review.list:[],e.feedList=i.feed||[]}return Promise.resolve(e)}).catch(function(t){return Promise.resolve({longList:[],shortList:[],feedList:[]})}):Promise.resolve({longList:[],shortList:[],feedList:[]})}),n(s,N,function(t,e){var i=t.commit;if(e.ssId>0)return(0,c.default)({url:(0,l.getAxiosUrl)("bangumi.bilibili.com/ext/web_api/season_count",null,e),data:{season_id:e.ssId,season_type:e.ssType}}).then(function(t){200===t.status&&t.data&&0===t.data.code&&i(o.SET_VIDEO_STAT,t.data.result||{})})}),s)},,function(t,e,i){"use strict";function n(t){i(277)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(82),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(278),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PAY_DIALOG:-1,PAY_INDEX:0,QUICK_PAY:1,QRCODE:2,PAY_SUCCESS:3,PAY_FAILED:4,PAY_OTHER:5,PAY_SHARE:6,PAY_INFO:7}},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getSec:function(t){var e=1*t.substring(1,t.length),i=t.substring(0,1);return"s"===i?1e3*e:"h"===i?60*e*60*1e3:"d"===i?24*e*60*60*1e3:void 0},set:function(t,e,i){i=void 0===i?"d7":i;var n=this.getSec(i),s=new Date;s.setTime(s.getTime()+1*n),document.cookie=t+"="+escape(e)+";expires="+s.toGMTString()+";path=/;domain=.bilibili.com"},get:function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=document.cookie.match(e);return i?unescape(i[2]):null},delete:function(t){var e=new Date;e.setTime(e.getTime()-1);var i=this.get(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toGMTString())}}},function(t,e,i){"use strict";function n(t,e){return e=void 0===e?{}:e,new Promise(function(i,n){f.default.fetchGet("//bangumi.bilibili.com/web_api/get_token").then(function(s){0===s.code?(e.token=s.result.token,f.default.fetchGet(t,e).then(function(t){i(t)},function(t){n(t)})):n(s.message)},function(t){n(t)})})}function s(t,e){return e=void 0===e?{}:e,new Promise(function(i,n){f.default.fetchGet("//bangumi.bilibili.com/web_api/get_token").then(function(s){0===s.code?(e.token=s.result.token,f.default.fetchPost(t,e,!1,!0).then(function(t){i(t)},function(t){n(t)})):n(s.message)},function(t){n(t)})})}function a(t,e){return f.default.fetchGet(t,e)}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return f.default.fetchPost(t,e,i,n)}function r(t){var e=["webkit","Moz","ms","o"],i=void 0,n=[],s=document.documentElement.style,a=function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})};for(i in e)n.push(a(e[i]+"-"+t));n.push(a(t));for(i in n)if(n[i]in s)return!0;return!1}function c(t,e){return(Math.floor(100*parseFloat(t))-Math.floor(100*parseFloat(e)))/100}function l(t,e){return t=Number(t),isNaN(t)&&(t=0),e=Number(e),isNaN(e)&&(e=0),t*e}function u(t){if("undefined"!=typeof window){if(/MSIE/i.test(window.navigator.userAgent)||/Trident/i.test(window.navigator.userAgent))try{var e=window.document.createElement("iframe");e.className="bangumi-pay-layout",e.frameBorder="0",t.appendChild(e)}catch(t){}}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadDialogFrame=e.fetchPost=e.fetchGet=e.postWithToken=e.getWithToken=e.supportCss3=e.bpSub=e.bpCal=void 0;var d=i(7),f=function(t){return t&&t.__esModule?t:{default:t}}(d);e.bpCal=l,e.bpSub=c,e.supportCss3=r,e.getWithToken=n,e.postWithToken=s,e.fetchGet=a,e.fetchPost=o,e.loadDialogFrame=u},,,,,function(t,e,i){"use strict";function n(t){return window.$.ajax(t)}function s(){return window.$.Deferred()}function a(t,e){var i=void 0,a=s(),c=(t.type||"")+t.url+JSON.stringify(t.data);return e&&r[c]?a.resolve(r[c]):o[c]?o[c]:(i=n(t),o[c]=i,i.done(function(t){delete o[c],e?0===t.code&&(r[c]=t):delete r[c]}),i.fail(function(){delete o[c]}),i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o={},r={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={API:"//api.bilibili.com",WWW:"//www.bilibili.com"};e.default=n},function(t,e,i){"use strict";function n(t){var e=window.$(t.el),i=t.el?e.offset().left+e.width()/2:window.$(window).width()/2,n=t.el?e.offset().top:window.$(window).height()/2+window.$(window).scrollTop(),s=t.msg||"",a=t.cd||2e3,o=t.type||"success";window.$(".bili-msg").length>0&&window.$(".bili-msg").remove();var r=window.$('<div class="bili-msg"></div>');r.appendTo("body"),r.text(s).css({left:i-r.outerWidth()/2,top:n-(r.outerHeight()+10)}),r.addClass("show"),"error"===o&&r.addClass("error"),r[0].timer=setTimeout(function(){r.fadeOut(600,function(){r.remove()})},a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,i){"use strict";function n(t){i(309)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(94),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(310),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var s,a=e.SET_VERSION="SET_VERSION",o=e.SET_LOGIN_INFO="SET_LOGIN_INFO",r=e.SET_MEDIA_INFO="SET_MEDIA_INFO",c=e.SET_USER_STAT="SET_USER_STAT",l=e.SET_FOLLOW_STAT="SET_FOLLOW_STAT",u=e.SET_EP_INFO="SET_EP_INFO",d=e.SET_RECOM_LIST="SET_RECOM_LIST",f=e.SET_PLAYER_RECOMMEND="SET_PLAYER_RECOMMEND",p=e.SET_COIN_SPEND="SET_COIN_SPEND",h=e.SET_SPONSOR_TOTAL="SET_SPONSOR_TOTAL",_=e.SET_SPONSOR_WEEK="SET_SPONSOR_WEEK",m=e.SET_MINI_ON="SET_MINI_ON",v=e.SET_SPONSOR_STAT="SET_SPONSOR_STAT",g=e.SET_PLAYER_TRIGGER_STAT="SET_PLAYER_TRIGGER_STAT",I=e.SET_USER_REVIEW="SET_USER_REVIEW",y=e.SET_USER_OPEN="SET_USER_OPEN",w=e.SET_SHORT_REVIEW="SET_SHORT_REVIEW",b=e.SET_USER_COINED="SET_USER_COINED",E=e.SET_VIDEO_STAT="SET_VIDEO_STAT";e.CORE=(s={},n(s,a,function(t,e){var i=e.ver;void 0!==i&&(t.ver=i)}),n(s,o,function(t,e){t.loginInfo=e}),n(s,r,function(t,e){var i=JSON.parse(JSON.stringify(e));delete i.episodes,delete i.seasons,delete i.up_info,delete i.rights,delete i.publish,delete i.newest_ep,delete i.rating,delete i.pay_pack,delete i.payment,delete i.activity,t.mediaInfo=i,t.mediaInfo.bkg_cover&&(t.special=!0),t.ssId=e.season_id||-1,t.mdId=e.media_id,t.epList=e.episodes||[],t.seasonList=e.seasons||[],t.upInfo=e.up_info||{},t.rightsInfo=e.rights||{},t.app=1===t.rightsInfo.watch_platform,t.pubInfo=e.publish||{},t.newestEp=e.newest_ep||{},t.mediaRating=e.rating||{},t.payPack=e.pay_pack||{},t.payMent=e.payment||{},t.activity=e.activity||{}}),n(s,c,function(t,e){var i=e.watch_progress?e.watch_progress.last_ep_id:-1,n=e.watch_progress?e.watch_progress.last_ep_index:"",s=e.watch_progress?e.watch_progress.last_time:0;t.userStat={loaded:!0,error:void 0===e.pay,follow:e.follow||0,pay:e.pay||0,payPackPaid:e.pay_pack_paid||0,sponsor:e.sponsor||0,watchProgress:{lastEpId:0===i?-1:i,lastEpIndex:n,lastTime:s}},e.paster&&(t.paster=e.paster||{}),t.area=1===e.area_limit?e.ban_area_show:0,3===t.area&&(window.location.href="/404"),t.seasonFollowed=1===e.follow}),n(s,l,function(t,e){t.seasonFollowed=e}),n(s,u,function(t,e){var i=!1;t.epList.forEach(function(n){n.ep_id===e&&(i=!0,t.epInfo=n)}),i?t.epId=e:t.epList[0]&&(t.epId=t.epList[0].ep_id)}),n(s,d,function(t,e){t.recomList=e.length>8?e.slice(0,8):e}),n(s,f,function(t,e){var i=[];e.forEach(function(t){i.push({cover:t.cover,title:t.title,link:"//www.bilibili.com/bangumi/play/ss"+t.season_id+"/"})}),t.playerRecomList=i}),n(s,p,function(t,e){t.spending=e}),n(s,h,function(t,e){t.sponsorTotal.code=e.code,t.sponsorTotal.result=e.result||{ep_bp:0,users:0,mine:{},list:[]},t.sponsorTotalCount=e.result?e.result.users:0}),n(s,_,function(t,e){t.sponsorWeek.code=e.code,t.sponsorWeek.result=e.result||{ep_bp:0,users:0,mine:{},list:[]}}),n(s,m,function(t,e){t.miniOn=e,"undefined"!=typeof window&&(window.localStorage.b_miniplayer=e?"1":"0")}),n(s,v,function(t,e){t.userStat.sponsor=e?1:0}),n(s,g,function(t,e){t.isPlayerTrigger=e}),n(s,I,function(t,e){t.userScore=e.score||-1,t.userShortReview=e.short_review||{},t.userLongReview=e.long_review||{},t.canReview=1===e.is_open}),n(s,y,function(t,e){t.canReview=e}),n(s,w,function(t,e){t.userShortReview.review_id=e.review_id||void 0,t.userShortReview.content=e.content||"",void 0!==e.score&&(t.userScore=e.score)}),n(s,b,function(t,e){t.userCoined=0===e.is_coin?1:0}),n(s,E,function(t,e){t.seasonStat={views:e.views||0,danmakus:e.danmakus||0,favorites:e.favorites||0,coins:e.coins||0}}),s)},,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(9),r=i(1),c=i(5),l=i(6),u=i(4),d=n(u),f=i(3),p=i(155),h=n(p);e.default={data:function(){return{timer:null}},computed:s({},(0,a.mapGetters)(["APP","EP_ID","SS_ID","MD_ID","USER_STAT","EP_LIST","LOGIN_INFO","MEDIA_INFO","EP_INFO","UP_INFO","SEASON_FOLLOWED","PLAYER_RECOM_LIST","SPONSOR_TOTAL_COUNT","SPONSOR_TOTAL","SPONSOR_WEEK","PASTER","PUB_INFO","RIGHTS_INFO"]),{ssPayStatus:function(){return(0,c.payStatusCheck)(this.MEDIA_INFO.season_status,this.USER_STAT.pay,this.USER_STAT.payPackPaid,this.LOGIN_INFO)},epPayStatus:function(){return(0,c.payStatusCheck)(this.EP_INFO.episode_status||this.MEDIA_INFO.season_status,this.USER_STAT.pay,this.USER_STAT.payPackPaid,this.LOGIN_INFO)},playerEpNeedPay:function(){return 1===this.PUB_INFO.is_started?1===this.epPayStatus.status||2===this.epPayStatus.status&&this.epPayStatus.isPay:1===this.ssPayStatus.status||2===this.ssPayStatus.status&&this.ssPayStatus.isPay},canPlay1080P:function(){return!!this.LOGIN_INFO.isLogin&&(1===this.USER_STAT.pay||1===this.USER_STAT.sponsor||1===this.USER_STAT.payPackPaid||0!==this.LOGIN_INFO.vipType&&1===this.LOGIN_INFO.vipStatus)}}),created:function(){var t=this;d.default.$on(f.SHOW_SPONSOR_RANK,function(){(0,l.report)({click:"bp_ranking"},{season_id:t.SS_ID,ep_id:t.EP_ID,businesstype:t.MEDIA_INFO.season_type,title:t.MEDIA_INFO.title})}),d.default.$on(f.RANK_TAB_CHANGE,function(){(0,l.report)({click:"bp_switch"},{season_id:t.SS_ID,ep_id:t.EP_ID,businesstype:t.MEDIA_INFO.season_type,title:t.MEDIA_INFO.title})})},mounted:function(){var t=this;(0,h.default)(),window.showRealNameBind=function(t,e){d.default.$emit(f.REAL_NAME_SHOW,t,e)};var e=[this.$store.dispatch({type:o.FETCH_LOGIN}),this.$store.dispatch({type:o.FETCH_USER_STAT,ssId:this.SS_ID,ssType:this.MEDIA_INFO.season_type||1})];this.APP||(e.push(this.$store.dispatch({type:o.FETCH_USER_REVIEW,mediaId:this.MD_ID})),e.push(this.$store.dispatch({type:o.FETCH_USER_COINED,mediaId:this.MD_ID}))),Promise.all(e).then(function(){if(-1===t.EP_ID&&t.EP_LIST.length>0){var e=window.location.href.match(/#([0-9]+)/),i=e?isNaN(Number(e[1]))?-1:Number(e[1]):-1,n=i>-1?i:t.USER_STAT.watchProgress.lastEpId>-1?t.USER_STAT.watchProgress.lastEpId:t.EP_INFO.ep_id||-1;t.$store.dispatch({type:o.EP_INFO_CHANGE,epId:n})}}),this.bindCallbacks()},methods:{bindCallbacks:function(){var t=this;window.bangumiCallNext=function(e){window.playerTriggerChange=!0,e!==t.EP_ID&&(t.$store.dispatch({type:o.CHANGE_PLAYER_TRIGGER_STAT,stat:!0}),t.$router.push({name:"webplay",params:{id:"ep"+e}}))},window.attentionTrigger=function(e){(0,c.userAttention)(e,1,t.UP_INFO,window.document.querySelector("body")).then(function(t){})},window.show1080p=function(e){t.LOGIN_INFO.isLogin?(window.player1080pCallback=e,d.default.$emit(f.SHOW_1080P,!0)):(0,r.quickLogin)()},window.showPay=function(){t.LOGIN_INFO.isLogin?d.default.$emit(f.TRIGGER_PAY_PROCESS,!0):(0,r.quickLogin)()},window.showVipPay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.LOGIN_INFO.isLogin?((0,l.report)({click:"big"},{season_id:t.SS_ID,ep_id:t.EP_ID,businesstype:t.MEDIA_INFO.season_type,title:t.MEDIA_INFO.title}),"function"==typeof window.vipPopup?new window.vipPopup({type:2,appid:e,subid:t.MEDIA_INFO.season_type+"-"+t.SS_ID+"-"+t.EP_ID},function(){window.location.reload(!0)}):(0,r.getScript)("//static.hdslb.com/vip/dist/js/vipPlugin.js",function(){new window.vipPopup({type:2,appid:e,subid:t.MEDIA_INFO.season_type+"-"+t.SS_ID+"-"+t.EP_ID},function(){window.location.reload(!0)})})):(0,r.quickLogin)()},window.playerCallback=function(){if(t.epPayStatus.isPay&&0!==t.epPayStatus.status&&1===t.RIGHTS_INFO.is_preview){var e=window.document.querySelector("#player_placeholder");t.timer=setInterval(function(){"function"==typeof e.jwAddEventListener&&(e.jwAddEventListener("jwplayerMediaComplete","function(){ window.playerEndCallback();}"),clearInterval(t.timer),t.timer=null)},1e3)}},window.playerEndCallback=function(){d.default.$emit(f.SIX_MIN_MASK_SHOW)},window.GNS={playerCallSendCoin:function(){d.default.$emit(f.COIN_DIALOG,!0)}},window.playerCallSendCoin=window.GNS.playerCallSendCoin,window.getPlayerExtraParams=function(){return{mediaTitle:t.MEDIA_INFO.title,epTitle:t.EP_INFO.index_title,epIndex:(0,c.formatIndex)(t.EP_INFO.index),epCover:t.EP_INFO.cover,epStat:t.EP_INFO.episode_status||t.MEDIA_INFO.season_status,squarePic:t.MEDIA_INFO.square_cover?(0,r.trimHttp)(t.MEDIA_INFO.square_cover):"//static.hdslb.com/images/square-cover-default.png",record:t.MEDIA_INFO.paster_text?encodeURIComponent(t.MEDIA_INFO.paster_text):"",shareText:(0,c.formatH1Title)(t.EP_INFO.index,t.MEDIA_INFO.title,t.EP_INFO.index_title,2===t.MEDIA_INFO.mode,t.MEDIA_INFO.season_type)+" #哔哩哔哩#",sharePic:(0,r.trimHttp)(t.MEDIA_INFO.cover),shareUrl:"//www.bilibili.com/bangumi/play/ss"+t.SS_ID+"/",isStart:1===t.PUB_INFO.is_started,isPreview:1===t.RIGHTS_INFO.is_preview&&t.playerEpNeedPay,canPlay1080:t.canPlay1080P,allowSponsor:1===t.RIGHTS_INFO.allow_bp,multiMode:2===t.MEDIA_INFO.mode,epNeedPay:t.playerEpNeedPay,isFollow:t.SEASON_FOLLOWED,sponsorWeekList:t.SPONSOR_WEEK.result,sponsorTotalList:t.SPONSOR_TOTAL.result,sponsorCount:t.SPONSOR_TOTAL_COUNT,paster:{aid:t.EP_INFO.aid||0,cid:t.PASTER.aid||0,type:t.PASTER.type||0,duration:t.PASTER.duration||0,allow_jump:t.PASTER.allow_jump||0,url:(0,r.trimHttp)(t.PASTER.url||"")},pubTime:t.PUB_INFO.pub_time_show,recommend:t.PLAYER_RECOM_LIST}},window.callBangumiFollow=function(e,i){t.LOGIN_INFO.isLogin?(0,c.bangumiFollow)(t.SS_ID,t.MEDIA_INFO.season_type,e,t.LOGIN_INFO.mid).then(function(e){0===e.code&&(t.$store.dispatch({type:o.FOLLOW_STAT_CHANGE,stat:!t.SEASON_FOLLOWED}),d.default.$emit(f.TRIGGER_FOLLOW_ANIME),i&&i())}):(0,r.quickLogin)()},window.objBPPlugin={open:function(){t.LOGIN_INFO.isLogin?t.$root.$emit("trigger-sponsor-pay",!0):(0,r.quickLogin)()}},window.bangumiPlayerLogin=function(){}}}}},,function(t,e,i){"use strict";function n(t,e){if(void 0===t.requestUrl)return!1;var i={version:1,error_code:0,http_code:t.httpCode||e&&e.status||-1,crash_time:e&&a(e)||t.crash||(new Date).getTime(),uid:t.mid||0,error_msg:t.errMsg?encodeURIComponent(t.errMsg):"",request_url:encodeURIComponent(t.requestUrl),user_agent:encodeURIComponent(window.navigator.userAgent)},n=(0,s.paramsToKvp)(i);new Image(1,1).src="//misaka-sw.mincdn.com/misaka.gif?"+n}Object.defineProperty(e,"__esModule",{value:!0}),e.report=n;var s=i(1),a=function(t){var e=t.getResponseHeader("Date"),i=new Date(e);return i.getTime()+60*(i.getTimezoneOffset()+480)*1e3}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(1),r=i(5),c=i(6),l=i(4),u=n(l),d=i(3),f=i(9),p=i(159),h=n(p),_=i(189),m=n(_),v=i(234),g=n(v),I=i(260),y=n(I),w=i(266),b=n(w),E=i(272),S=i(53),O=i(46),C=i(326),P=n(C),T=i(329),N=n(T),A=i(21),k=n(A),M=i(332),D=n(M),R=i(335),F=n(R),x=i(338);e.default={asyncData:function(t){var e=t.store,i=(t.route,t.context);return e.dispatch({type:f.FETCH_MEDIA_INFO,protocol:i.protocol,cookies:i.cookie,viewType:i.params.type,id:i.params.id})},data:function(){return{payConf:{},commentJump:""}},computed:s({},(0,a.mapGetters)(["AREA","APP","SPECIAL","SPENDING","EP_ID","SS_ID","MD_ID","CAN_REVIEW","USER_SHORT_REVIEW","USER_SCORE","USER_COINED","MEDIA_INFO","EP_INFO","EP_LIST","RIGHTS_INFO","USER_STAT","SPONSOR_TOTAL","SPONSOR_WEEK","SPONSOR_TOTAL_COUNT","NEWEST_EP","ACTIVITY","PAY_MENT","PAY_PACK","PUB_INFO","SEASON_FOLLOWED","LOGIN_INFO"]),{limit:function(){return 0!==this.AREA||this.APP},sponsorShow:function(){return!this.limit&&1===this.RIGHTS_INFO.allow_bp},commentShow:function(){return!this.limit&&this.EP_ID>-1},alignRecomShow:function(){return!this.commentShow&&this.EP_ID>-1},sponsorTip:function(){return(0,r.formatSponsorTip)(this.SPONSOR_TOTAL_COUNT,this.USER_STAT.sponsor)},sponsorBtnText:function(){return 1===this.USER_STAT.sponsor?"继续承包":"我要承包"},bigCover:function(){return this.SPECIAL&&!this.limit?"url("+(0,o.trimHttp)(this.MEDIA_INFO.bkg_cover)+")":"none"},sponsorConf:function(){return{seasonType:this.MEDIA_INFO.season_type||1,seasonId:this.SS_ID,epId:this.EP_ID,title:this.MEDIA_INFO.title,loginInfo:this.LOGIN_INFO,rankTotal:this.SPONSOR_TOTAL,rankWeek:this.SPONSOR_WEEK}},sponsorPayConf:function(){return{seasonId:this.SS_ID,seasonType:this.MEDIA_INFO.season_type||1,activity:this.ACTIVITY,loginInfo:this.LOGIN_INFO,share:{name:this.MEDIA_INFO.title,title:this.MEDIA_INFO.title,pic:this.MEDIA_INFO.cover,desc:"我在bilibili承包了《"+this.MEDIA_INFO.title+"》，因为喜爱所以承包～#哔哩哔哩#",url:"https://www.bilibili.com/bangumi/play/ss"+this.SS_ID+"/",weibo:{title:"我在bilibili承包了《"+this.MEDIA_INFO.title+"》，因为喜爱所以承包～#哔哩哔哩#"}}}},payDialogConfig:function(){return{styleType:"float",price:this.PAY_MENT.price||5,payPackTitle:this.PAY_PACK.title||"",payPackUrl:this.PAY_PACK.pay_pack_url||"",seasonStatus:this.MEDIA_INFO.season_status,promotion:this.PAY_MENT.promotion,seasonId:this.SS_ID,seasonType:this.MEDIA_INFO.season_type||1,isStarted:this.PUB_INFO.is_started,title:this.MEDIA_INFO.title,isfollow:this.SEASON_FOLLOWED,time:this.PUB_INFO.pub_time_show}},activityImage:function(){return this.ACTIVITY&&this.ACTIVITY.pendant_ops_img?"background-image: url("+(0,o.trimHttp)(this.ACTIVITY.pendant_ops_img)+");":""},activityLink:function(){return this.ACTIVITY.pendant_ops_link||"javascript:;"},editMediaInfo:function(){return{media_id:this.MD_ID,cover:this.MEDIA_INFO.cover,title:this.MEDIA_INFO.title}},editReviewInfo:function(){return{review_id:this.USER_SHORT_REVIEW.review_id||0,content:this.USER_SHORT_REVIEW.content||"",is_open:this.CAN_REVIEW,is_coin:this.USER_COINED,user_rating:{score:this.USER_SCORE}}}}),watch:{EP_ID:function(t){t>-1&&(!window.playerTriggerChange&&window.reportObserver&&(window.reportObserver.sendPV(),window.playerTriggerChange=!1),window.document.title=(0,r.formatTitle)(this.EP_INFO.index,this.MEDIA_INFO.title,(0,r.getSeasonTypeName)(this.MEDIA_INFO.season_type),!0,2===this.MEDIA_INFO.mode),this.EP_INFO.ep_id===this.NEWEST_EP.id&&1===this.NEWEST_EP.is_new&&(0,r.setSeasonClickRec)(this.SS_ID,this.EP_ID)),this.loadCoinStat(),this.loadRecomList(),this.loadComment()},SS_ID:function(){this.payConf={csrf:(0,r.getCsrf)(),seasonId:this.SS_ID,amount:this.PAY_MENT.price,seasonType:this.MEDIA_INFO.season_type||1},this.loadSponsorTotal(),this.loadSponsorWeek(),this.loadPlayerRecom()},"MEDIA_INFO.season_type":{handler:function(t,e){if(t!==e){var i={1:13,2:23,3:23,4:167,5:23};window.bid=i[t],window.setTid&&window.setTid(i[t])}},deep:!0},"LOGIN_INFO.isLogin":{handler:function(t,e){t!==e&&t&&this.loadCoinStat()},deep:!0}},mounted:function(){var t=this,e=window.location.href.match(/reply([0-9]+)$/);this.commentJump=e&&e[1]?e[1]:"",this.payConf={csrf:(0,r.getCsrf)(),seasonId:this.SS_ID,amount:this.PAY_MENT.price,seasonType:this.MEDIA_INFO.season_type||1},this.EP_ID>-1&&(this.EP_INFO.ep_id===this.NEWEST_EP.id&&1===this.NEWEST_EP.is_new&&(0,r.setSeasonClickRec)(this.SS_ID,this.EP_ID),this.loadCoinStat(),this.loadRecomList(),this.loadComment()),this.loadSponsorTotal(),this.loadSponsorWeek(),this.loadPlayerRecom(),u.default.$on(d.FETCH_SPONSOR_RANK,function(e,i){"total"===e?t.loadSponsorTotal(i):t.loadSponsorWeek(i)}),u.default.$on(d.SPONSOR_PAY_SUCCESS,function(e){t.$store.dispatch({type:f.SPONSOR_STAT_CHANGE,stat:!0}),e&&u.default.$emit(d.RELOAD_PLAYER_SOURCE)}),this.$root.$on(d.REVIEW_OPEN_SUCCESS,function(e,i){t.$store.dispatch({type:f.USER_OPEN_CHANGE,isOpen:!0})})},methods:{loadSponsorTotal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;this.sponsorShow&&this.$store.dispatch({type:f.FETCH_SPONSOR_TOTAL,ssId:this.SS_ID,ssType:this.MEDIA_INFO.season_type,pageSize:t})},loadSponsorWeek:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;this.sponsorShow&&this.$store.dispatch({type:f.FETCH_SPONSOR_WEEK,ssId:this.SS_ID,ssType:this.MEDIA_INFO.season_type,pageSize:t})},loadCoinStat:function(){var t=this;this.LOGIN_INFO.isLogin&&this.EP_INFO.aid&&(0,k.default)({url:"//api.bilibili.com/x/web-interface/archive/coins",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp",aid:this.EP_INFO.aid}}).then(function(e){var i=e&&e.data&&e.data.multiply;t.$store.dispatch({type:f.FETCH_COIN_SPEND,spending:i})})},loadRecomList:function(){this.$store.dispatch({type:f.FETCH_RECOMMEND,aid:this.EP_INFO.aid})},loadPlayerRecom:function(){this.$store.dispatch({type:f.FETCH_PLAYER_RECOMMEND,ssType:this.MEDIA_INFO.season_type,ssId:this.SS_ID})},loadComment:function(){var t=this;this.commentShow&&this.EP_INFO.aid&&(void 0===window.bbComment?(0,o.getScript)("//static.hdslb.com/phoenix/dist/js/comment.min.js",function(){new window.bbComment(".comm",t.EP_INFO.aid,1,null,t.commentJump),t.commentJump=""}):(new window.bbComment(".comm",this.EP_INFO.aid,1,null,this.commentJump),this.commentJump=""))},showSponsorPay:function(){this.LOGIN_INFO.isLogin?((0,c.report)({click:"bp"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),this.$root.$emit("trigger-sponsor-pay",!0)):(0,o.quickLogin)()},reportPay:function(){(0,c.report)({click:"pay"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})},followCallback:function(t){this.$store.dispatch({type:f.FOLLOW_STAT_CHANGE,stat:t}),u.default.$emit(d.TRIGGER_FOLLOW_ANIME)}},components:{BangumiHeader:h.default,BangumiPlayer:m.default,BangumiInfo:g.default,BangumiRecom:y.default,BangumiMedia:b.default,SponsorRankView:E.SponsorRankView,SponsorRankDialog:E.SponsorRankDialog,SponsorPayDialog:E.SponsorPayDialog,PayWatchProcess:S.PayWatchProcess,PayWatchEntry:S.PayWatchEntry,CoinDialog:O.CoinDialog,RealName:P.default,Popup1080:N.default,NavRight:D.default,SixmPayMask:F.default,OpenDialog:x.OpenDialog,ShortReviewDialog:x.ShortReviewDialog}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(5),r=i(161),c=n(r),l=i(166),u=n(l),d=i(169),f=n(d),p=i(42),h=n(p),_=i(44),m=n(_);e.default={computed:s({},(0,a.mapGetters)(["AREA","APP","EP_INFO","MEDIA_INFO","USER_STAT","LOGIN_INFO","UP_INFO","RIGHTS_INFO"]),{payStatus:function(){return(0,o.payStatusCheck)(this.MEDIA_INFO.season_status,this.USER_STAT.pay,this.USER_STAT.payPackPaid,this.LOGIN_INFO)},h1Title:function(){return(0,o.formatH1Title)(this.EP_INFO.index,this.MEDIA_INFO.title,this.EP_INFO.index_title,2===this.MEDIA_INFO.mode,this.MEDIA_INFO.season_type)},payBannerShow:function(){return this.USER_STAT.loaded&&0===this.AREA&&!this.APP||"uper"===this.funcType},funcType:function(){return 12===this.MEDIA_INFO.season_status||13===this.MEDIA_INFO.season_status?"pay":0===this.payStatus.status||8!==this.MEDIA_INFO.season_status&&9!==this.MEDIA_INFO.season_status?6===this.MEDIA_INFO.season_status||7===this.MEDIA_INFO.season_status?this.payStatus.isVip?"pay":0===this.payStatus.status?1===this.RIGHTS_INFO.allow_bp?"sponsor":"uper":"pay":1===this.RIGHTS_INFO.allow_bp?"sponsor":"uper":"pay"}}),components:{UperInfo:c.default,BtnPay:u.default,BtnSponsor:f.default,BreadThumb:h.default,BangumiCount:m.default}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(22),r=n(o),c=i(1),l=i(5),u=i(37),d=n(u),f=i(7),p=n(f),h=i(6);e.default={data:function(){return{extraUpInfo:{},followHover:!1,following:{is:!1,type:0}}},computed:s({},(0,a.mapGetters)(["LOGIN_INFO","UP_INFO","SS_ID","EP_ID","MEDIA_INFO"]),{pendantImage:function(){return this.UP_INFO&&this.UP_INFO.pendant&&this.UP_INFO.pendant.image},verify:function(){return this.extraUpInfo.card&&this.extraUpInfo.card.official_verify?this.extraUpInfo.card.official_verify.type:-1},followText:function(){return this.following.is?this.followHover?"取消关注":"已关注":"+ 关注"},archiveCount:function(){return this.extraUpInfo.archive_count?"投稿："+(0,c.biliNumFormat)(this.extraUpInfo.archive_count):"投稿：-"},fans:function(){return this.extraUpInfo.follower?"粉丝："+(0,c.biliNumFormat)(this.extraUpInfo.follower):"粉丝：-"},sign:function(){return this.extraUpInfo.card&&this.extraUpInfo.card.sign?this.extraUpInfo.card.sign:""}}),watch:{LOGIN_INFO:function(){this.getRelation()},"UP_INFO.mid":{handler:function(t,e){t!==e&&this.getUserInfo()},deep:!0}},mounted:function(){this.getUserInfo(),this.LOGIN_INFO.isLogin&&this.getRelation()},methods:{getRelation:function(){var t=this;this.LOGIN_INFO.isLogin&&p.default.fetchJsonp(r.default.API+"/x/relation",{},{fid:this.UP_INFO.mid,jsonp:"jsonp"}).then(function(e){e&&0===e.code&&(1===e.data.attribute||2===e.data.attribute||6===e.data.attribute?t.following={is:!0,type:e.data.attribute}:t.$set(t.following,"is",!1))})},getUserInfo:function(){var t=this;p.default.fetchJsonp(r.default.API+"/x/web-interface/card",{},{jsonp:"jsonp",mid:this.UP_INFO.mid,photo:1}).then(function(e){e&&0===e.code&&e.data&&(t.extraUpInfo=e.data)})},follow:function(t){var e=this;this.reportUpFlow(),this.LOGIN_INFO.isLogin?(0,l.userAttention)(!this.following.is,this.following.type,this.UP_INFO,t.target).then(function(t){e.$set(e.following,"is",!e.following.is),e.following.is&&e.$set(e.following,"type",2)}):(0,c.quickLogin)()},reportUpFlow:function(){(0,h.report)({click:this.following.is?"up_unfollow":"up_follow"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})},reportSpace:function(){(0,h.report)({click:"up"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})}},components:{BiliImg:d.default}}},function(t,e,i){"use strict";function n(t){i(163)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(38),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(164),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.default={props:{src:{},width:{},height:{},alt:{},webp:{default:!0},hd:{default:!0}},computed:{ratio:function(){return this.hd?(0,n.drp)():2},source:function(){return this.webp?(0,n.webpImg)(this.src,Math.ceil(this.width*this.ratio),Math.ceil(this.height*this.ratio)):(0,n.trimHttp)(this.src)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(4),o=function(t){return t&&t.__esModule?t:{default:t}}(a),r=i(3),c=i(1),l=i(6);e.default={props:{payStatus:{type:Object,required:!0}},computed:n({},(0,s.mapGetters)(["SS_ID","EP_ID","LOGIN_INFO","PAY_PACK","PAY_MENT","MEDIA_INFO","PUB_INFO","USER_STAT"]),{vipStyle:function(){return(6===this.MEDIA_INFO.season_status||7===this.MEDIA_INFO.season_status||13===this.MEDIA_INFO.season_status)&&this.payStatus.isVip},btnHref:function(){return 12===this.MEDIA_INFO.season_status?"//www.bilibili.com/blackboard/activity-H1WoSpdsb.html":"javascript:;"},btnText:function(){return 13===this.MEDIA_INFO.season_status?this.payStatus.isVip?this.PAY_MENT.tip:this.PAY_MENT.vip_promotion:12===this.MEDIA_INFO.season_status?0===this.payStatus.status?"查看霹雳付费专区":"霹雳付费用户专享":0===this.payStatus.status||8!==this.MEDIA_INFO.season_status&&9!==this.MEDIA_INFO.season_status?6===this.MEDIA_INFO.season_status||7===this.MEDIA_INFO.season_status?this.payStatus.isVip?"大会员"+(6===this.MEDIA_INFO.season_status?"免费":"抢先")+"观看":"付费("+this.PAY_MENT.price+"B币)"+(6===this.MEDIA_INFO.season_status?"观":"抢先")+"看":void 0:"付费("+this.PAY_MENT.price+"B币)"+(8===this.MEDIA_INFO.season_status?"观":"抢先")+"看"}}),methods:{clickHander:function(){this.LOGIN_INFO.isLogin?13!==this.MEDIA_INFO.season_status||this.payStatus.isVip?12!==this.MEDIA_INFO.season_status&&1===this.payStatus.status&&((0,l.report)({click:"pay"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),1===this.PUB_INFO.is_started?o.default.$emit(r.TRIGGER_PAY_PROCESS,!0):o.default.$emit(r.TRIGGER_PAY_ENTRY,!0)):window.showVipPay():(0,c.quickLogin)()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(1),o=i(5),r=i(6),c=i(171),l=function(t){return t&&t.__esModule?t:{default:t}}(c);e.default={computed:n({},(0,s.mapGetters)(["SS_ID","EP_ID","MEDIA_INFO","LOGIN_INFO","USER_STAT","ACTIVITY","SPONSOR_TOTAL_COUNT"]),{btnText:function(){return 1===this.USER_STAT.sponsor?"继续承包":"我要承包"},sponsorCount:function(){return(0,o.formatSponsorTip)(this.SPONSOR_TOTAL_COUNT,this.USER_STAT.sponsor)},isPendant:function(){return this.ACTIVITY.pendants&&this.ACTIVITY.pendants[0]&&this.ACTIVITY.pendants[0].image}}),methods:{clickHander:function(){this.LOGIN_INFO.isLogin?((0,r.report)({click:"bp"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),this.$root.$emit("trigger-sponsor-pay",!0)):(0,a.quickLogin)()}},components:{Pendant:l.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(1);e.default={computed:n({},(0,s.mapGetters)(["ACTIVITY"]),{activityLink:function(){return"javascript:;"},ratio:function(){return(0,a.drp)()||2},pendantImage:function(){var t=this.ACTIVITY.pendant&&this.ACTIVITY.pendant[0]?this.ACTIVITY.pendant[0].image:"";return t?"background-image: url("+(0,a.webpImg)(t,Math.ceil(80*this.ratio),Math.ceil(80*this.ratio))+")":""},random:function(){return 1===Math.floor(2*Math.random())}})}},function(t,e,i){"use strict";function n(t){i(175)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(43),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(176),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(5),o=i(6);e.default={data:function(){return{areaLink:{1:"//bangumi.bilibili.com/22/",2:"//www.bilibili.com/movie/",3:"//www.bilibili.com/documentary/",4:"//bangumi.bilibili.com/guochuang/",5:"//www.bilibili.com/tv/"}}},computed:n({},(0,s.mapGetters)(["SS_ID","EP_ID","MEDIA_INFO","NEWEST_EP","EP_INFO"]),{areaStr:function(){return(this.MEDIA_INFO.areas&&this.MEDIA_INFO.areas.length>4?this.MEDIA_INFO.areas.slice(0,4):this.MEDIA_INFO.areas||[]).map(function(t){return t.name}).join("、")},seasonTypeName:function(){return(0,a.getSeasonTypeName)(this.MEDIA_INFO.season_type)},avId:function(){return"AV"+this.EP_INFO.aid},avLink:function(){return"//www.bilibili.com/video/av"+this.EP_INFO.aid+"/"}}),methods:{reportHandler:function(){(0,o.report)({click:"type"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title,url:this.areaLink[this.MEDIA_INFO.season_type]})},reportAVID:function(){(0,o.report)({click:"avid"})}}}},function(t,e,i){"use strict";function n(t){i(177)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(45),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(187),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(9),o=i(46),r=i(6),c=i(184),l=function(t){return t&&t.__esModule?t:{default:t}}(c);e.default={props:{funcType:String},computed:n({},(0,s.mapGetters)(["SS_ID","EP_ID","EP_INFO","SPENDING","SEASON_STAT","LOGIN_INFO","MEDIA_INFO","SEASON_FOLLOWED","UP_INFO"]),{coinConfig:function(){return{video:this.SEASON_STAT.coins,user:this.SPENDING}},seasonType:function(){return this.MEDIA_INFO.season_type||1},showUper:function(){return!(!this.funcType||"uper"===this.funcType||3!==this.MEDIA_INFO.season_type&&4!==this.MEDIA_INFO.season_type)}}),watch:{SS_ID:function(){this.loadStat()}},mounted:function(){this.SS_ID>-1&&this.loadStat()},methods:{loadStat:function(){this.$store.dispatch({type:a.FETCH_VIDEO_STAT,ssId:this.SS_ID,ssType:this.MEDIA_INFO.season_type})},followChanged:function(t){this.$store.dispatch({type:a.FOLLOW_STAT_CHANGE,stat:t}),(0,r.report)({click:t?"follow":"unfollow"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})},reportCoin:function(){(0,r.report)({click:"coin"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})},reportUpinfo:function(){(0,r.report)({click:"up"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})}},components:{Coin:o.Coin,Collection:l.default}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CoinDialog=e.Coin=void 0;var s=i(178),a=n(s),o=i(181),r=n(o);e.Coin=a.default,e.CoinDialog=r.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(23),a=n(s),o=i(48),r=i(4),c=n(r),l=i(3),u=i(1);e.default={data:function(){return{animating:!1,item:"bangumi-coin",targetItem:"bangumi-coin-d",tempTotalCoin:0,tempUserCoin:this.coins.user,select:0}},props:{isLogin:{type:Boolean,default:!1},seasonId:{type:Number,required:!0},coins:{type:Object,default:function(){return{video:0,user:0}}}},created:function(){var t=this;c.default.$on(l.COIN_SUCCESS,function(e){t.animating||(t.animating=!0,t.tempUserCoin=t.select=e,(0,o.animeLinear)(t.animeConfig[1],function(){t.tempTotalCoin||(t.tempTotalCoin=t.coins.video),t.tempTotalCoin+=t.select,t.animating=!1}))})},computed:{coin:function(){return(0,u.biliNumFormat)(this.tempTotalCoin||this.coins.video)},animeConfig:function(){return[{step:60,max:19,point:0,speed:60,target:this.item},{step:60,max:40,point:0,speed:60,target:this.targetItem,directionSpc:60}]}},watch:{select:function(t,e){t!==e&&(this.$refs.animeEvent.style="background-position: 0 0")},seasonId:function(){this.tempTotalCoin=this.coins.video}},methods:{setCoinState:function(){if(this.$emit("click-coin"),this.coins.user>0||this.tempUserCoin>0)return void(0,a.default)({el:this.$refs.coinDom_up,msg:"对本稿件的投币枚数已用完",cd:1e3});this.isLogin?c.default.$emit(l.COIN_DIALOG,!0):(0,u.quickLogin)()}},components:{}}},function(t,e,i){"use strict";function n(t,e){var i=0,n=0,s=!1,a=t.direction?t.direction:"x",o=t.directionSpc?t.directionSpc:0,r=t.speed?t.speed:80;clearInterval(t.timer);var c={};t.timer=setInterval(function(){s?(e&&e(),clearInterval(t.timer)):n>t.max-1?s=!0:(i=-n*t.step,"x"===a&&(c={"background-position":i+"px -"+o+"px"}),"y"===a&&(c={"background-position":"-"+o+"px "+i+"px"}),window.$("."+t.target).css(c),n++)},r)}Object.defineProperty(e,"__esModule",{value:!0}),e.animeLinear=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(7),o=n(a),r=i(22),c=n(r),l=i(23),u=n(l),d=i(4),f=n(d),p=i(3),h=i(21),_=n(h);e.default={data:function(){return{dialogVisible:!1,defaultSelect:null,exp:0}},props:{coin:{type:Number},aid:{type:Number}},created:function(){var t=this;f.default.$on(p.COIN_DIALOG,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.dialogVisible=e})},watch:{coin:function(){this.defaultSelect=null},dialogVisible:function(){this.dialogVisible&&this.$nextTick(function(){(0,s.loadDialogFrame)(this.$el)})}},computed:{currentSelect:function(){return this.defaultSelect?this.defaultSelect:0===this.coin?1:(this.coin,1)}},methods:{selectCoin:function(t){this.defaultSelect=t},getExp:function(){var t=this;o.default.fetchGet(c.default.WWW+"/plus/account/exp.php",null).then(function(e){0===e.code&&(t.exp=e.number)})},addCoin:function(t){var e=this;(0,_.default)({url:c.default.API+"/x/web-interface/coin/add",type:"post",data:{aid:this.aid,multiply:this.currentSelect},xhrFields:{withCredentials:!0}}).then(function(t){0===t.code?(f.default.$emit(p.COIN_SUCCESS,e.currentSelect),(0,u.default)({el:window.$(".bangumi-coin-wrap")[0],msg:"投币成功",cd:1e3})):(0,u.default)({el:window.$(".bangumi-coin-wrap")[0],msg:t.message||"投币失败",cd:1e3,type:"error"}),f.default.$emit(p.COIN_DIALOG,!1)})},closeDialog:function(){f.default.$emit(p.COIN_DIALOG,!1)}},mounted:function(){this.getExp()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(3),o=i(48),r=i(5),c=i(1);e.default={data:function(){return{animating:!1,tempTotalCollect:0}},props:{loginInfo:{type:Object,required:!0},seasonType:{type:Number,required:!0},seasonId:{type:Number,required:!0},followed:{type:Boolean,required:!0},followCount:{type:Number,required:!0}},computed:{isBangumi:function(){return 1===this.seasonType||4===this.seasonType},collect:function(){return(0,c.biliNumFormat)(this.tempTotalCollect||this.followCount)},item:function(){return this.isBangumi?"bangumi-order":"bangumi-collection"},targetItem:function(){return this.isBangumi?"bangumi-order-d":"bangumi-collection-d"},animeConfig:function(){return[{step:60,max:this.isBangumi?24:21,point:0,speed:60,target:this.item},{step:60,max:this.isBangumi?32:30,point:0,speed:60,target:this.targetItem,directionSpc:60},{step:60,max:this.isBangumi?12:7,point:0,speed:60,target:this.targetItem,directionSpc:120}]},title:function(){return this.isBangumi?"追番":"收藏"}},watch:{followed:function(t,e){this.$refs.animeEvent.style=t?"":"background-position: 0 0"},seasonId:function(){this.tempTotalCollect=this.followCount},followCount:function(){this.tempTotalCollect=this.followCount}},mounted:function(){var t=this;s.default.$on(a.TRIGGER_FOLLOW_ANIME,function(){(0,o.animeLinear)(t.animeConfig[t.followed?2:1],function(){t.followed?t.tempTotalCollect++:t.tempTotalCollect--})})},methods:{toCollect:function(){var t=this;this.loginInfo.isLogin?this.animating||(this.animating=!0,(0,r.bangumiFollow)(this.seasonId,this.seasonType,!this.followed,this.loginInfo.mid).then(function(e){0===e.code&&(t.followed?(0,o.animeLinear)(t.animeConfig[2],function(){t.$emit("stat-change",!1),t.tempTotalCollect--,t.animating=!1}):(t.$emit("stat-change",!0),(0,o.animeLinear)(t.animeConfig[1],function(){t.tempTotalCollect++,t.animating=!1})))})):(0,c.quickLogin)()}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(9),r=i(5),c=i(1),l=i(191),u=n(l),d=i(230),f=n(d),p=i(4),h=n(p),_=i(3);e.default={data:function(){return{isFloat:!1,floatHeight:0,playerLoaded:!1,miniPos:{},startOffset:null}},computed:s({},(0,a.mapGetters)(["VER","MINI_ON","SS_ID","EP_ID","MEDIA_INFO","EP_INFO","USER_STAT","EP_LIST","LOGIN_INFO","PASTER","PUB_INFO","RIGHTS_INFO","AREA","IS_PLAYER_TRIGGER","APP"]),{hasNextEp:function(){var t=this.EP_LIST.length-1;return t>-1&&this.EP_LIST[t].ep_id!==this.EP_ID},epStatus:function(){return this.EP_INFO.episode_status||this.MEDIA_INFO.season_status},payStat:function(){return(0,r.payStatusCheck)(this.epStatus,this.USER_STAT.pay,this.USER_STAT.payPackPaid,this.LOGIN_INFO)},biliplayerParams:function(){var t=2!==this.MEDIA_INFO.season_type,e=this.USER_STAT.watchProgress&&(this.USER_STAT.watchProgress.lastTime||0),i=this.USER_STAT.watchProgress.lastEpId>-1?this.USER_STAT.watchProgress.lastEpId:void 0,n=!this.payStat.isVip&&1!==this.USER_STAT.pay&&1!==this.USER_STAT.sponsor&&this.PASTER.cid&&this.PASTER.cid>0?1:void 0;return{cid:this.EP_INFO.cid,aid:this.EP_INFO.aid,season_type:this.MEDIA_INFO.season_type||1,lastplaytime:this.playerLoaded?void 0:1e3*e,last_ep_id:this.playerLoaded?void 0:i,pre_ad:n,has_next:this.hasNextEp?1:0,as_wide:2===this.MEDIA_INFO.mode?void 0:1,player_type:t?1:2,urlparam:"module="+(t?"bangumi":"movie")+"&season_type="+this.MEDIA_INFO.season_type,seasonId:this.SS_ID,episodeId:this.EP_ID,record:this.MEDIA_INFO.paster_text?encodeURIComponent(this.MEDIA_INFO.paster_text):""}},renderPos:function(){return this.MINI_ON&&this.isFloat&&0===this.limitType?this.miniPos:{}},limitType:function(){var t=1===this.payStat.status||this.payStat.isPay&&2===this.payStat.status;return this.USER_STAT.loaded?0!==this.AREA?2:this.APP?1:1===this.RIGHTS_INFO.is_preview&&this.EP_LIST.length>0?0:1!==this.PUB_INFO.is_started?this.EP_LIST.length>0?t?13===this.epStatus?5:4:0:3:t?13===this.epStatus?5:4:0:-1}}),watch:{EP_ID:function(t){t>-1&&this.USER_STAT.loaded&&this.checkPlayer()},USER_STAT:function(){var t=this;this.EP_ID>-1&&(this.USER_STAT.error?setTimeout(function(){t.checkPlayer()},200):this.checkPlayer())},MINI_ON:function(){this.MINI_ON&&(this.isFloat=(0,c.getScrollTop)()>this.floatHeight,setTimeout(function(){window.$&&window.$(window).trigger("scroll")},10))}},mounted:function(){if("undefined"!=typeof window){var t=window.localStorage.b_miniplayer||"0";this.$store.dispatch({type:o.CHANGE_MINI_ON,isOn:"1"===t?1:0})}this.EP_ID>-1&&this.USER_STAT.loaded&&this.checkPlayer(),this.miniPos={left:window.document.body.offsetWidth<1400?window.document.body.offsetWidth-330+"px":this.getFLoatPos().left+"px",top:((0,c.getWindowH)()-450<0?0:(0,c.getWindowH)()-450)+"px"},this.floatHeight=this.getFLoatPos().top+100,this.bindEvents()},methods:{getFLoatPos:function(t){void 0===t&&(t=this.$el);for(var e=t.offsetTop,i=t.offsetLeft;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop+t.clientTop,i+=t.offsetLeft+t.clientLeft;return{top:e+this.$el.offsetHeight,left:i+this.$el.offsetWidth-260}},checkPlayer:function(){0===this.limitType?this.renderPlayer():(this.$store.dispatch({type:o.CHANGE_PLAYER_TRIGGER_STAT,stat:!1}),setTimeout(function(){window.player&&window.player.destroy&&window.player.destroy()},1e3))},renderPlayer:function(){if("bangumi"===this.EP_INFO.from)if(this.playerLoaded)this.IS_PLAYER_TRIGGER?this.$store.dispatch({type:o.CHANGE_PLAYER_TRIGGER_STAT,stat:!1}):window.GrayManager.reload((0,c.paramsToKvp)(this.biliplayerParams));else{this.$refs.bofqi.innerHTML='<div id="player_placeholder" class="player"></div>',window.EmbedPlayer("player","//static.hdslb.com/play.swf",(0,c.paramsToKvp)(this.biliplayerParams),"","",window.playerCallback),this.playerLoaded=!0}},closeMiniPlayer:function(){this.$store.dispatch({type:o.CHANGE_MINI_ON,isOn:!1})},mouseDown:function(t){var e={x:"SPAN"===t.target.nodeName.toUpperCase()?t.offsetX+142:t.offsetX,y:t.offsetY};this.startOffset=e},bindEvents:function(){var t=this;h.default.$on(_.RELOAD_PLAYER_SOURCE,function(){0===t.limitType&&window.player1080pCallback&&window.player1080pCallback(!0)}),window.addEventListener("scroll",function(){if("bangumi"!==t.EP_INFO.from||!t.MINI_ON||0===t.floatHeight)return!1;t.isFloat=(0,c.getScrollTop)()>t.floatHeight},!1),window.addEventListener("mousemove",function(e){if(null!==t.startOffset&&t.isFloat&&t.MINI_ON){var i=e.clientX-t.startOffset.x,n=e.clientY-t.startOffset.y,s=window.document.body.offsetWidth-320,a=(0,c.getWindowH)()-270;t.miniPos={left:i<0?0:i>s?s+"px":i+"px",top:n<0?0:n>a?a+"px":n+"px"}}},!1),window.addEventListener("mouseup",function(){t.startOffset=null})}},components:{Limit:u.default,QqPlayerEmbed:f.default}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(19),o=n(a),r=i(53),c=i(226),l=n(c),u=i(2),d=i(9),f=i(5),p=i(6),h=i(1),_=i(4),m=n(_),v=i(3);e.default={components:{PayWatchEntry:r.PayWatchEntry,VipPlaceholder:l.default},props:{limitType:{type:Number,required:!0}},data:function(){return{LIMIT_MAP:{APP_ONLY:1,AREA_LIMIT:2,NOT_START:3,PAY_ONLY:4,VIP_ONLY:5}}},computed:s({},(0,u.mapGetters)(["LOGIN_INFO","SS_ID","EP_ID","EP_INFO","PAY_PACK","PAY_MENT","MEDIA_INFO","PUB_INFO","NEWEST_EP","SEASON_FOLLOWED"]),{epStatus:function(){return this.EP_INFO.episode_status||this.MEDIA_INFO.season_status},isAnime:function(){return 1===this.MEDIA_INFO.season_type||4===this.MEDIA_INFO.season_type},btnText:function(){return this.isAnime?this.SEASON_FOLLOWED?"已追番":"<i></i>追番":this.SEASON_FOLLOWED?"已收藏":"<i></i>收藏"},notStartInfo:function(){var t=this.PUB_INFO.pub_time_show||"",e=this.isAnime?"追番":"收藏";return this.isAnime?this.SEASON_FOLLOWED?t+" 即将开播！<br>敬请期待":t+" 即将开播！<br><span>"+e+"</span> 即可收到开播提醒哦 ~":t+" 即将开播！<br>敬请期待"},payOnlyConfig:function(){return{styleType:"static",price:this.PAY_MENT.price||5,payPackTitle:this.PAY_PACK.title||"",payPackUrl:this.PAY_PACK.pay_pack_url||"",seasonStatus:this.MEDIA_INFO.season_status,promotion:this.PAY_MENT.promotion,seasonId:this.SS_ID,seasonType:this.MEDIA_INFO.season_type||1,isStarted:1,title:this.MEDIA_INFO.title,isfollow:this.SEASON_FOLLOWED,time:this.PUB_INFO.pub_time_show}}}),watch:{limitType:function(){this.$nextTick(function(){this.configChanged()})}},mounted:function(){this.configChanged()},methods:{configChanged:function(){this.limitType===this.LIMIT_MAP.APP_ONLY&&new o.default({size:160,background:"#fff",element:this.$refs.qrcode,value:window.location.href})},follow:function(){var t=this;this.LOGIN_INFO.isLogin?((0,p.report)({click:this.SEASON_FOLLOWED?"unfollow":"follow"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),(0,f.bangumiFollow)(this.SS_ID,this.MEDIA_INFO.season_type||1,!this.SEASON_FOLLOWED,this.LOGIN_INFO.mid).then(function(e){0===e.code&&t.followCallback(!t.SEASON_FOLLOWED)})):(0,h.quickLogin)()},followCallback:function(t){this.$store.dispatch({type:d.FOLLOW_STAT_CHANGE,stat:t}),m.default.$emit(v.TRIGGER_FOLLOW_ANIME)},reportPay:function(){(0,p.report)({click:"pay"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PayWatchProcess=e.PayWatchEntry=void 0;var s=i(193),a=n(s),o=i(196),r=n(o);e.PayWatchEntry=a.default,e.PayWatchProcess=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(3),o=i(1),r=i(5);e.default={data:function(){return{staticShow:!1,floatShow:!1,toFollow:!0}},props:{loginInfo:{type:Object,required:!0},config:{type:Object,default:function(){return{styleType:"static",price:0,payPackTitle:"",payPackUrl:"",seasonStatus:6,promotion:"",seasonId:0,seasonType:1,isStarted:1,title:"",isfollow:!0,time:"2012-01-03 00:00:00"}}}},created:function(){var t=this;s.default.$on(a.TRIGGER_PAY_ENTRY,function(e){t.floatShow=e})},computed:{tipText:function(){return 6===this.config.seasonStatus||8===this.config.seasonStatus?"本片需付费("+this.config.price+"B币)观看":12===this.config.seasonStatus?"本片仅限购买"+this.config.payPackTitle+"用户观看":"本片需付费("+this.config.price+"B币)抢先看"},show:function(){return this.staticShow||this.floatShow},btnText:function(){return 6===this.config.seasonStatus?"成为大会员免费看":"成为大会员抢先看"}},watch:{show:function(){this.show&&this.$nextTick(function(){(0,o.loadDialogFrame)(this.$el)})}},mounted:function(){"static"===this.config.styleType&&(this.staticShow=!0)},methods:{toPayWatchProcess:function(){this.$emit("click-pay"),12===this.config.seasonStatus?window.open(this.config.payPackUrl):("float"===this.config.styleType&&(this.floatShow=!1),s.default.$emit(a.TRIGGER_PAY_PROCESS,!0)),1!==this.config.isStarted&&this.toFollow&&this.follow()},setToFollow:function(){this.toFollow=!this.toFollow},follow:function(){var t=this;(0,r.bangumiFollow)(this.config.seasonId,this.config.seasonType,!0,this.loginInfo.mid).then(function(e){0===e.code&&t.$emit("on-follow",!0)})},buyVip:function(){window.showVipPay()},checkLogin:function(t){this.loginInfo.isLogin?t():(0,o.quickLogin)()},close:function(){this.floatShow=!1}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=n(s),o=i(7),r=n(o),c=i(1),l=i(3),u=i(198),d=n(u),f=i(202),p=n(f),h=i(205),_=n(h),m=i(209),v=n(m),g=i(213),I=n(g),y=i(217),w=n(y),b=i(221),E=n(b),S={index:d.default,qrcode:p.default,failed:_.default,success:v.default,others:I.default,nopayed:w.default,error:E.default};e.default={data:function(){return{show:!1,component:null,step:null,userPayType:null,orderId:"",componentConfig:{}}},props:{config:{type:Object,default:function(){return{amount:0,seasonId:0,seasonType:1,csrf:""}}},loginInfo:{type:Object}},created:function(){var t=this;a.default.$on(l.TRIGGER_PAY_PROCESS,function(e){t.show=e,t.$nextTick(function(){(0,c.loadDialogFrame)(this.$el)})})},watch:{step:function(){this.component=S[this.step]},config:{handler:function(t,e){this.componentConfig=this.config,this.getBp()},deep:!0},loginInfo:{handler:function(t,e){this.componentConfig=this.config,this.getBp()},deep:!0}},mounted:function(){this.componentConfig=this.config},methods:{init:function(){if(this.componentConfig.seasonId&&(this.componentConfig.userBp||0===this.componentConfig.userBp)){var t=Number(this.componentConfig.amount),e=Number(this.componentConfig.userBp);(t<0||e<0)&&(this.step="failed"),t>e?(this.userPayType="qrcode",this.step="qrcode"):t<=e&&(this.userPayType="index",this.step="index")}},setStep:function(t){this.step=t},setOrderId:function(t){this.orderId=t},close:function(){this.step=this.userPayType,this.show=!1},getBp:function(){var t=this;if(!this.loginInfo||!this.loginInfo.isLogin)return!1;r.default.postWithToken("//bangumi.bilibili.com/web_api/get_bp").then(function(e){if(0===e.code){var i=Number(e.result.default_bp);isNaN(i)&&(i=0),t.componentConfig.userBp=i,t.init()}else t.step="error"},function(){t.step="error"})}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={data:function(){return{}},props:{config:{type:Object,default:function(){return{}}}},methods:{quickPay:function(){var t=this;s.default.fetchPost("//bangumi.bilibili.com/pay/web_api/season/quick",{season_id:this.config.seasonId,season_type:this.config.seasonType,csrf:this.config.csrf},!1,!0).then(function(e){0===e.code&&1===e.result.status?t.$emit("set-component","success"):t.$emit("set-component","failed")},function(){t.$emit("set-component","failed")})}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=n(s),o=i(33),r=i(19),c=n(r);e.default={data:function(){return{payType:"wechat",payMethod:{alipay:0,wechat:1,quick:2,center:3},payInterval:null,alipayQrcodeSrc:null,wechatQrcode:null}},props:{config:{type:Object,default:function(){return{}}},orderId:{type:String}},watch:{payType:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.payInterval&&clearInterval(this.payInterval),this.createOrder(),this.payInterval=setInterval(this.checkResult,3e3)},createOrder:function(){var t=this,e=void 0,i=this;"center"===i.payType&&(e=window.open("https://pay.bilibili.com/jump.html","_blank"),i.$emit("set-component","others")),a.default.fetchPost("//bangumi.bilibili.com/pay/web_api/season/create",{pay_method:i.payMethod[i.payType],season_id:i.config.seasonId,season_type:i.config.seasonType,csrf:i.config.csrf},!1,!0).then(function(n){n&&0===n.code?(i.$emit("set-order-id",n.result.order_id),"wechat"===i.payType?new c.default({size:190,background:"#fff",element:i.$el.querySelector("#wechat-qrcode"),value:n.result.qrcode}):"alipay"===i.payType?n.result.qrcode&&(i.alipayQrcodeSrc=n.result.qrcode.replace("¬","&not").replace(/&amp;/g,"&")):"center"===i.payType&&(e.location.href=n.result.cashier_url)):t.payInterval&&clearInterval(t.payInterval)},function(e){t.payInterval&&clearInterval(t.payInterval),t.errReport({url:"//bangumi.bilibili.com/pay/web_api/season/create",msg:"创建订单失败"},e)})},checkResult:function(){var t=this;this.orderId&&a.default.fetchPost("//bangumi.bilibili.com/pay/web_api/season/success",{order_id:this.orderId,season_type:this.config.seasonType,csrf:this.config.csrf},!1,!0).then(function(e){0===e.code&&1===e.result.status&&(clearInterval(t.payInterval),t.$emit("set-component","success"))},function(){clearInterval(t.payInterval),t.$emit("set-component","failed")})},setPayMethod:function(t){this.payType!==t&&(this.payType=t)},refreshQrcode:function(){this.createOrder()},errReport:function(t,e){var i=window.location.protocol;(0,o.report)({requestUrl:i+t.url,errMsg:t.msg,mid:window.uid||void 0},e)}},destroyed:function(){this.payInterval&&clearInterval(this.payInterval)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{helpUrl:"//www.bilibili.com/blackboard/help.html#n1"}},props:{userPayType:{type:String,default:void 0}},methods:{rePay:function(){void 0===this.userPayType||"index"===this.userPayType?this.$emit("set-component","index"):this.$emit("set-component","qrcode")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{success:function(){location.reload(0)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={data:function(){return{payReady:!1,htmlConfig:{title:"正在付款中",orderPic:"paying",orderSuc:!0,orderErr:!0,orderBack:!1}}},props:{config:{type:Object,default:function(){return{}}},orderId:{type:String}},mounted:function(){},methods:{checkResult:function(){var t=this;if(!this.orderId)return void this.$emit("set-component","nopayed");s.default.fetchPost("//bangumi.bilibili.com/pay/web_api/season/success",{order_id:this.orderId,season_type:this.config.seasonType,csrf:this.config.csrf},!1,!0).then(function(e){if(1===e.result.status)return void t.$emit("set-component","success");t.$emit("set-component","nopayed")},function(){t.$emit("set-component","failed")})},checkOrder:function(){var t=this;this.htmlConfig.title="正在核对订单...",this.htmlConfig.orderPic="review",this.htmlConfig.orderSuc=!1,this.htmlConfig.orderErr=!1,this.htmlConfig.orderBack=!0,setTimeout(function(){t.checkResult()},1e3)},help:function(){window.location.href="http://www.bilibili.com/html/help.html#n1"},back:function(){this.$emit("set-component","qrcode")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{sec:3,letInterval:null}},mounted:function(){var t=this;this.letInterval=setInterval(function(){t.sec=t.sec-1,0===t.sec&&t.$emit("set-component","qrcode")},1e3)},methods:{back:function(){this.$emit("set-component","qrcode")}},destroyed:function(){this.letInterval&&clearInterval(this.letInterval)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{helpUrl:"//www.bilibili.com/blackboard/help.html#n1"}},methods:{refresh:function(){window.location.reload()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(1);e.default={computed:n({},(0,s.mapGetters)(["PAY_MENT","LOGIN_INFO"]),{title:function(){return this.PAY_MENT.vip_promotion||"开通大会员抢先看"}}),methods:{openVip:function(){this.LOGIN_INFO.isLogin?window.showVipPay():(0,a.quickLogin)()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{config:Object},mounted:function(){this.$el.innerHTML='<embed height="100%" width="100%" src="//static.hdslb.com/tc.swf" type="application/x-shockwave-flash" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" allowscriptaccess="always" rel="noreferrer" quality="high" flashvars="bili-cid='+this.config.cid+"&amp;bili-aid="+this.config.aid+"&amp;vid="+this.config.vid+'" allowfullscreen="true">'}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(9),r=i(1),c=i(5),l=i(6),u=i(236),d=n(u),f=i(239),p=n(f),h=i(256),_=n(h),m=i(42),v=n(m),g=i(44),I=n(g),y=i(4),w=n(y),b=i(7),E=n(b),S=i(3);e.default={data:function(){return{timer:null,adTipShow:!1,adTipData:{link:"javascript:;",title:""}}},computed:s({},(0,a.mapGetters)(["SPECIAL","LOGIN_INFO","SS_ID","MD_ID","EP_ID","MEDIA_INFO","EP_LIST","SEASON_FOLLOWED","SEASON_LIST","UP_INFO","RIGHTS_INFO","PASTER"]),{ratio:function(){return this.hd?(0,r.drp)():2},allowLink:function(){return 1===this.RIGHTS_INFO.allow_review},imgSrc:function(){return(0,r.webpImg)(this.MEDIA_INFO.cover,Math.ceil(120*this.ratio),Math.ceil(160*this.ratio))},followType:function(){return 1!==this.MEDIA_INFO.season_type&&4!==this.MEDIA_INFO.season_type?1:0},followBtnText:function(){return 0===this.followType?this.SEASON_FOLLOWED?"已追番":"追番":this.SEASON_FOLLOWED?"已收藏":"收藏"},bangumiListShow:function(){return(this.SEASON_LIST.length>1||2===this.MEDIA_INFO.mode&&this.EP_LIST.length>0)&&!this.MEDIA_INFO.bkg_cover},bangumiDetailLink:function(){return"//www.bilibili.com/bangumi/media/md"+this.MD_ID+"/"}}),mounted:function(){this.loadAdOperation()},methods:{followHandler:function(){var t=this;if(!this.LOGIN_INFO.isLogin)return(0,r.quickLogin)(),!1;null===this.timer&&(this.lockTimer(2e3),(0,c.bangumiFollow)(this.SS_ID,this.MEDIA_INFO.season_type||1,!this.SEASON_FOLLOWED,this.LOGIN_INFO.mid).then(function(e){0===e.code&&(t.$store.dispatch({type:o.FOLLOW_STAT_CHANGE,stat:!t.SEASON_FOLLOWED}),w.default.$emit(S.TRIGGER_FOLLOW_ANIME),(0,l.report)({click:t.SEASON_FOLLOWED?"follow":"unfollow"},{season_id:t.SS_ID,ep_id:t.EP_ID,businesstype:t.MEDIA_INFO.season_type,title:t.MEDIA_INFO.title}))}))},lockTimer:function(t){var e=this;this.timer=setTimeout(function(){clearTimeout(e.timer),e.timer=null},t)},loadAdOperation:function(){var t=this;this.PASTER.cid&&this.PASTER.cid>0&&21453565===this.UP_INFO.mid&&E.default.fetchGet("//bangumi.bilibili.com/jsonp/static/343.ver").then(function(e){if(0===e.code&&e.result&&e.result[0]){var i=e.result[0];t.adTipData={link:i.link?(0,r.trimHttp)(i.link):"",title:i.title},t.adTipShow=!0}})}},components:{Detail:d.default,BangumiList:p.default,Share:_.default,BreadThumb:v.default,BangumiCount:I.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2);e.default={data:function(){return{staticShow:!0,expandShow:!1}},computed:n({},(0,s.mapGetters)(["MEDIA_INFO"]),{stylesRender:function(){return this.MEDIA_INFO.style?this.MEDIA_INFO.style.join("、"):""},staffRender:function(){var t=this.MEDIA_INFO.staff?this.MEDIA_INFO.staff.replace(/(\r\n)|(\n)|(\r)/g,"<br/>"):"",e=this.MEDIA_INFO.staff?this.MEDIA_INFO.staff.replace(/(\r\n)|(\n)|(\r)/g,"/"):"";return e.split("/").length>2?this.MEDIA_INFO.staff?this.staticShow?e:t:"":this.MEDIA_INFO.staff?t:""},actorTitle:function(){return 1===this.MEDIA_INFO.season_type||4===this.MEDIA_INFO.season_type?"声优：":"演员："},actorRender:function(){if(1===this.MEDIA_INFO.season_type||4===this.MEDIA_INFO.season_type){var t=this.MEDIA_INFO.actors?this.MEDIA_INFO.actors.replace(/(\r\n)|(\n)|(\r)/g,"|#|"):"";if(t){for(var e=t.split("|#|"),i=[],n=0;n<e.length;n++)e[n]&&i.push(e[n]);t=i.join("）/ "),t.length>0&&(t+="）",t=t.replace(/(：)|(:)/g,"（"))}return t}return this.MEDIA_INFO.actors||""}}),watch:{"MEDIA_INFO.evaluate":{handler:function(t,e){t!==e&&this.$nextTick(function(){this.checkOverflow()})},deep:!0},"MEDIA_INFO.actors":{handler:function(t,e){t!==e&&this.$nextTick(function(){this.checkOverflow()})},deep:!0},staffRender:function(){this.$nextTick(function(){this.checkOverflow()})}},mounted:function(){this.checkOverflow()},methods:{checkOverflow:function(){var t=this.$refs.evaluate.offsetHeight>44,e=this.staffRender.split("/"),i=e.length>2,n=this.$refs.actors.offsetHeight>44;(t||i||n)&&(this.expandShow=!0)}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(2),o=i(5),r=i(6),c=i(9),l=i(68),u=n(l),d=i(243),f=n(d),p=i(246),h=n(p),_=i(249),m=n(_),v=i(252),g=n(v),I=i(4),y=n(I),w=i(3);e.default={data:function(){return{modes:[{key:1,name:"详细模式",className:"detail-mode"},{key:2,name:"精简模式",className:"simple-mode"}],modeSelected:-1,modeSelectTimer:null,selectId:null,epCache:{},state:"loaded",loadingSource:[""],cookieRecord:0,ssCurrentIndex:0,epCurrentIndex:0,simplePage:0,simpleFPage:0,simplePageSize:103,pageSelectShow:!1,timer:null}},computed:s({},(0,a.mapGetters)(["EP_ID","SS_ID","EP_LIST","SEASON_LIST","MEDIA_INFO"]),{seasonId:function(){return null===this.selectId?this.SS_ID:this.selectId},canSelectPage:function(){var t=this.epCache[this.seasonId]||[];return 2===this.modeSelected&&t.length>this.simplePageSize},hasPrePage:function(){return this.simplePage>0},hasNextPage:function(){var t=this.epCache[this.seasonId]||[];return(this.simplePage+1)*this.simplePageSize<t.length},selectEpList:function(){var t=this.epCache[this.seasonId]||[];return t.length>this.simplePageSize&&(t=t.slice(this.simplePage*this.simplePageSize,(this.simplePage+1)*this.simplePageSize)),t},renderSeasonList:function(){return this.SEASON_LIST.length>0?this.SEASON_LIST:this.MEDIA_INFO.season_title?[{season_id:this.SS_ID,season_title:this.MEDIA_INFO.season_title}]:[]},hasTitle:function(){var t=!1;return this.EP_LIST.forEach(function(e,i){""!==e.index_title&&(t=!0)}),t}}),watch:{modeSelected:function(){2===this.modeSelected?y.default.$emit(w.RESET_SLIDER_STAT):this.simplePage===this.simpleFPage&&setTimeout(function(){y.default.$emit(w.SLIDER_TO_INDEX)},200)},EP_ID:function(){var t=this;this.EP_ID>-1&&this.EP_LIST.forEach(function(e,i){e.ep_id===t.EP_ID&&(t.epCurrentIndex=i%103,t.simplePage=t.simpleFPage=Math.floor(i/t.simplePageSize))})}},created:function(){this.$set(this.epCache,this.SS_ID,this.EP_LIST)},mounted:function(){var t=this;this.SEASON_LIST.forEach(function(e,i){Number(e.season_id)===t.SS_ID&&(t.ssCurrentIndex=i)}),this.EP_ID>-1&&this.EP_LIST.forEach(function(e,i){e.ep_id===t.EP_ID&&(t.epCurrentIndex=i%103,t.simplePage=t.simpleFPage=Math.floor(i/t.simplePageSize))}),this.loopEpList(),this.cookieRecord=(0,o.getSeasonClickRec)(this.SS_ID)},methods:{btnMoreEnter:function(){this.pageSelectShow=!0,null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},btnMoreLeave:function(){var t=this;this.timer=setTimeout(function(){t.pageSelectShow=!1},1e3)},hiddenPage:function(){this.pageSelectShow=!1,null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},slidePage:function(t){1===t?(y.default.$emit(w.RESET_SLIDER_STAT),this.pageChange(this.simplePage+1)):(y.default.$emit(w.SLIDER_TO_END),this.pageChange(this.simplePage-1))},pageChange:function(t){t!==this.simplePage&&(this.simplePage=t)},modeChange:function(t){var e=this;null===this.modeSelectTimer&&t!==this.modeSelected&&((0,r.report)({click:"ep_switch"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),this.modeSelected=t,this.modeSelectTimer=setTimeout(function(){clearTimeout(e.modeSelectTimer),e.modeSelectTimer=null},300))},seasonChange:function(t){var e=this;t!==this.seasonId&&((0,r.report)({click:"season"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title,url:window.location.protocol+"//www.bilibili.com/bangumi/play/ss"+t+"/"}),t===this.SS_ID?(this.EP_LIST.forEach(function(t,i){t.ep_id===e.EP_ID&&(e.simplePage=Math.floor(i/e.simplePageSize))}),1===this.modeSelected&&setTimeout(function(){y.default.$emit(w.SLIDER_TO_INDEX)},200)):(this.simplePage=0,y.default.$emit(w.RESET_SLIDER_STAT)),this.cookieRecord=(0,o.getSeasonClickRec)(t),this.selectId=t,this.epCache[t]||(this.state="loading",this.loadingSource=[],this.$store.dispatch({type:c.FETCH_MEDIA_INFO,epOnly:!0,viewType:"ss",id:t}).then(function(i){e.$set(e.epCache,t,i),e.loadingSource=[""],e.state="loaded"}).catch(function(){e.loadingSource=[],e.state="error"})))},setCookie:function(t){(0,o.setSeasonClickRec)(this.seasonId,t),this.cookieRecord=t},loopEpList:function(){var t=window.innerWidth>=1400?13:11;!this.hasTitle&&this.EP_LIST.length<=4*t?this.modeSelected=2:this.modeSelected=1}},components:{ListSlider:f.default,SeasonItem:h.default,EpisodeItem:m.default,SimplePages:g.default,Loading:u.default}}},function(t,e,i){"use strict";function n(t){i(241)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(69),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(242),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.default={props:{state:{default:"loading"},data:{}},computed:{source:function(){var t=Object.prototype.toString;return"[object Array]"===t.call(this.data)?0!==this.data.length:"[object Object]"===t.call(this.data)?!(0,n.isEmptyObject)(this.data):void 0}},methods:{reloads:function(){this.$emit("reload")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(3),o=!1;e.default={data:function(){return{startX:0,startStamp:0,moveStamp:0,moving:!1,distanceX:0,offsetX:0,wrapperW:0,contentW:0,timer:null}},props:{autoIndex:{type:Number,default:0},length:{type:Number,required:!0},slideType:{type:String,default:"touch"},canReset:{type:Boolean,default:!1},canEnd:{type:Boolean,default:!1},skew:{type:Number,default:0},disabledResize:{type:Boolean,default:!1},prePage:{type:Boolean,default:!1},nextPage:{type:Boolean,default:!1},detailMode:{type:Boolean,default:!0}},computed:{sliderMax:function(){return this.wrapperW-this.contentW},needSlide:function(){return this.contentW>this.wrapperW},slideWidth:function(){return this.wrapperW-this.skew}},watch:{autoIndex:function(){this.$nextTick(function(){this.handerResize()})},distanceX:function(){var t=this.offsetX+this.distanceX;t=t<=0?t:0,t=t>=this.sliderMax?t:this.sliderMax,0!==this.distanceX&&(this.moving=!0,this.moveContent(t))}},mounted:function(){var t=this;this.canReset&&(s.default.$on(a.RESET_SLIDER_STAT,function(){t.$el.children[0].children[0]&&(t.$el.children[0].children[0].style.transition="none",t.moveContent(0,!0),t.offsetX=0,setTimeout(function(){t.$el.children[0].children[0].style.transition="transform .3s ease"},100))}),s.default.$on(a.SLIDER_TO_INDEX,function(){if(t.autoIndex>0){var e=t.contentW/t.length,i=-e*(t.autoIndex-.2);t.offsetX=i<t.sliderMax?t.sliderMax:i,t.moveContent(t.offsetX)}else t.$el.children[0].children[0]&&(t.$el.children[0].children[0].style.transition="none",t.moveContent(0,!0),t.offsetX=0,setTimeout(function(){t.$el.children[0].children[0].style.transition="transform .3s ease"},100))})),this.canEnd&&s.default.$on(a.SLIDER_TO_END,function(){t.$el.children[0].children[0]&&(t.$el.children[0].children[0].style.transition="none",t.moveContent(t.sliderMax,!0),t.offsetX=t.sliderMax,setTimeout(function(){t.$el.children[0].children[0].style.transition="transform .3s ease"},100))}),this.wrapperW=this.$el.offsetWidth,window.addEventListener("resize",this.handerResize,!1)},updated:function(){if(this.detailMode){if(this.contentW=this.$el.children[0].children[0].scrollWidth,!o&&this.needSlide&&this.autoIndex>0){var t=this.contentW/this.length,e=-t*(this.autoIndex-.2);this.offsetX=e<this.sliderMax?this.sliderMax:e,this.moveContent(this.offsetX),o=!0}this.$emit("ready",this.needSlide)}},methods:{handerResize:function(){if(this.detailMode)if(this.wrapperW=this.$el.offsetWidth,this.contentW=this.$el.children[0].children[0].scrollWidth,this.needSlide&&this.autoIndex>0){var t=this.contentW/this.length,e=-t*(this.autoIndex-.2);this.offsetX=e<this.sliderMax?this.sliderMax:e,this.moveContent(this.offsetX)}else this.needSlide&&!this.disabledResize&&(this.offsetX=0,this.moveContent(0))},touchStart:function(t){"touch"===this.slideType&&(this.clearTimer(),this.initData(),this.needSlide&&1===t.touches.length&&(document.body.addEventListener("touchmove",this.preventScroll,!1),this.startStamp=t.timeStamp,this.startX=t.touches[0].clientX))},touchMove:function(t){this.needSlide&&0!==this.startX&&"touch"===this.slideType&&(this.moveStamp=t.timeStamp,this.distanceX=t.changedTouches[0].clientX-this.startX)},touchEnd:function(t){var e=this;if("touch"===this.slideType){if(this.needSlide&&t.timeStamp-this.moveStamp<30){var i=this.distanceX/(t.timeStamp-this.startStamp);this.autoSlide(i,function(){e.initData()})}else this.initData();document.body.removeEventListener("touchmove",this.preventScroll,!1)}},slidePrev:function(){var t=this;this.offsetX<0&&null===this.timer?(this.distanceX=this.slideWidth,this.timer=setTimeout(function(){t.offsetX+=t.slideWidth,t.offsetX>0&&(t.offsetX=0),t.distanceX=0,t.clearTimer()},300)):this.prePage&&this.$emit("pagepre")},slideNext:function(){var t=this;this.offsetX>this.sliderMax&&null===this.timer?(this.distanceX=-this.slideWidth,this.timer=setTimeout(function(){t.offsetX-=t.slideWidth,t.offsetX<t.sliderMax&&(t.offsetX=t.sliderMax),t.distanceX=0,t.clearTimer()},300)):this.nextPage&&this.$emit("pagenext")},clearTimer:function(){this.timer&&clearInterval(this.timer),this.timer=null},autoSlide:function(t,e){var i=this;if(!this.timer){var n=Math.abs(t);this.timer=setInterval(function(){t>0?(i.distanceX=i.distanceX+35*t,(t-=n/35)<=0&&(t=0)):t<0?(i.distanceX=i.distanceX+35*t,(t+=n/35)>=0&&(t=0)):(e&&e(),i.clearTimer())},10)}},moveContent:function(t,e){this.$el.children[0].children[0]&&(this.$el.children[0].children[0].style.transform="translateX("+t+"px)",this.$el.children[0].children[0].style.webkitTransform="translateX("+t+"px)"),this.$el.children[1].children[0].style.left=t/this.sliderMax*(this.wrapperW-90)+"px"},initData:function(){this.startStamp=0,this.moveStamp=0;var t=this.offsetX+this.distanceX;this.distanceX>0?this.offsetX=t<=0?t:0:this.offsetX=t>=this.sliderMax?t:this.sliderMax,this.distanceX=0,this.startX=0,this.moving=!1},preventScroll:function(t){t.cancelable&&!t.defaultPrevented&&t.preventDefault()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{ssData:{type:Object,required:!0},current:{type:Number,required:!0}},methods:{seasonChange:function(){this.$emit("change",Number(this.ssData.season_id))}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(5),o=i(6);e.default={props:{cookieRec:{type:Number,required:!0},epData:{type:Object,required:!0},mode:{type:Number,required:!0}},computed:n({},(0,s.mapGetters)(["NEWEST_EP","EP_ID","SS_ID","MEDIA_INFO"]),{epIndex:function(){return(0,a.formatShortTitle)(this.epData.index,this.MEDIA_INFO.season_type)},epIndexRender:function(){return 1===this.mode?this.epIndex:this.epData.index},domTitle:function(){return this.epData.index_title?this.epIndex+"："+this.epData.index_title:this.epIndex},epTitle:function(){return this.epData.index_title||"#"+this.epIndexRender},isNew:function(){return this.epData.ep_id===this.NEWEST_EP.id&&1===this.NEWEST_EP.is_new&&this.cookieRec!==this.epData.ep_id&&this.epData.ep_id!==this.EP_ID},badgeIcon:function(){if(0===this.epData.badge_type){if("抢先"===this.epData.badge)return"badge-pink-first";if("付费"===this.epData.badge)return"badge-pink-pay";if("会员"===this.epData.badge)return"badge-pink-vip"}if(2===this.epData.badge_type){if("抢先"===this.epData.badge)return"badge-orange-first";if("付费"===this.epData.badge)return"badge-orange-pay"}return""}}),methods:{epChange:function(){this.NEWEST_EP.id===this.epData.ep_id&&1===this.NEWEST_EP.is_new&&this.$emit("set-cookie",this.epData.ep_id),this.epData.ep_id!==this.EP_ID&&((0,o.report)({click:"ep"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title,url:window.location.protocol+"//www.bilibili.com/bangumi/play/ep"+this.epData.ep_id+"/"}),this.$router.push({name:"webplay",params:{id:"ep"+this.epData.ep_id}}))}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{pageSize:103,position:2}},props:{shown:{type:Boolean,required:!0},list:{type:Array,required:!0},page:{type:Number,required:!0}},computed:{splitList:function(){for(var t=Math.ceil(this.list.length/this.pageSize),e=[],i=0;i<t;i++)i===t-1?e.push(this.pageSize*i+1+"-"+this.list.length):e.push(this.pageSize*i+1+"-"+this.pageSize*(i+1));return e}},watch:{shown:function(){this.shown&&this.checkPosition()}},mounted:function(){this.checkPosition(),window.addEventListener("resize",this.checkPosition,!1),window.addEventListener("click",this.clickHandler,!1)},destroyed:function(){window.removeEventListener("resize",this.checkPosition,!1),window.removeEventListener("click",this.clickHandler,!1)},methods:{changePage:function(t){this.$emit("change",t)},checkPosition:function(){var t=this.getBtnPos();(window.document.documentElement.clientWidth||window.document.body.clientWidth)-t>(this.splitList.length>2?370:282)?this.position=2:this.position=1},getBtnPos:function(){for(var t=window.document.querySelector(".btn-episode-more"),e=t.offsetLeft;t.offsetParent;)t=t.offsetParent,e+=t.offsetLeft+t.clientLeft;return e+68},clickHandler:function(t){this.$emit("hidden")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(5),o=i(6);e.default={computed:n({},(0,s.mapGetters)(["SS_ID","EP_ID","MEDIA_INFO","EP_INFO"]),{shareParams:function(){return{name:this.MEDIA_INFO.title,title:(0,a.formatH1Title)(this.EP_INFO.index,this.MEDIA_INFO.title,this.EP_INFO.index_title,2===this.MEDIA_INFO.mode,this.MEDIA_INFO.season_type)+" #哔哩哔哩#",pic:this.MEDIA_INFO.cover,url:"https://www.bilibili.com/bangumi/play/ss"+this.SS_ID+"/",baidu:{title:"转帖："+(0,a.formatH1Title)(this.EP_INFO.index,this.MEDIA_INFO.title,this.EP_INFO.index_title,2===this.MEDIA_INFO.mode,this.MEDIA_INFO.season_type)+" #哔哩哔哩#"}}}}),methods:{reportHandler:function(t){(0,o.report)({click:"share_"+t},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})},reportQrcode:function(){(0,o.report)({click:"qrcode"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title})}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(262),o=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={props:{align:{type:Boolean,default:!1}},computed:n({},(0,s.mapGetters)(["RECOM_LIST"])),components:{RecomItem:o.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(6),o=i(37),r=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={props:{recomData:{type:Object,required:!0},align:{type:Boolean,required:!0},index:{type:Number,required:!0}},computed:n({},(0,s.mapGetters)(["SS_ID","EP_ID","MEDIA_INFO"]),{hrefLink:function(){return"//www.bilibili.com/video/av"+this.recomData.aid}}),methods:{reportHandler:function(){(0,a.report)({click:"recommend_video"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title,ord_id:this.index+1,url:window.location.protocol+"//www.bilibili.com/video/av"+this.recomData.aid})}},components:{LazyImg:r.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(9),o=i(1),r=i(3),c=i(268),l=function(t){return t&&t.__esModule?t:{default:t}}(c),u=i(6);e.default={data:function(){return{loaded:!1,shortList:[],longList:[]}},computed:n({},(0,s.mapGetters)(["RIGHTS_INFO","MD_ID","MEDIA_RATING","PUB_INFO","CAN_REVIEW","LOGIN_INFO","APP"]),{showMedia:function(){return 1===this.RIGHTS_INFO.allow_review&&!this.APP},mediaLink:function(){return this.MD_ID>-1?"/bangumi/media/md"+this.MD_ID+"/":"javascript:;"},renderScore:function(){var t=this.MEDIA_RATING.score||0;return 0===t?"暂无评分":t.toFixed(1)},starScore:function(){var t=this.MEDIA_RATING.score||0;return Math.round(t)},stars:function(){var t=[{type:"empty"},{type:"empty"},{type:"empty"},{type:"empty"},{type:"empty"}];if(0===this.starScore)return t;for(var e=0;e<10;e++)e<2?t[Math.floor(e/2)].type="full":e<this.starScore&&(t[Math.floor(e/2)].type=e%2==0?"half":"full");return t},renderCount:function(){var t=this.MEDIA_RATING.count||0;return t>0?(0,o.biliNumFormat)(t)+"人评分":1===this.PUB_INFO.is_started?"人数不足":"未开播"},renderList:function(){var t=this.longList;return t.length<3&&this.shortList.forEach(function(e){t.push(e)}),t.length>3?t.slice(0,3):t}}),watch:{MD_ID:function(){this.getData()}},mounted:function(){var t=this;this.getData(),this.$root.$on(r.REVIEW_OPEN_SUCCESS,function(){t.$store.dispatch({type:a.USER_OPEN_CHANGE,isOpen:!0}),t.$root.$emit(r.TRIGGER_SHORT_REVIEW,!0)}),this.$root.$on(r.SHORT_REVIEW_SUCCESS,function(e){t.$store.dispatch({type:a.SHORT_REVIEW_CHANGE,result:e})})},methods:{verifyOpen:function(){(0,u.report)({click:"review_publish"}),this.LOGIN_INFO.isLogin?this.CAN_REVIEW?this.$root.$emit(r.TRIGGER_SHORT_REVIEW,!0):this.$root.$emit(r.TRIGGER_REVIEW_OPEN,!0):(0,o.quickLogin)()},getData:function(){var t=this;this.MD_ID>-1&&this.showMedia&&this.$store.dispatch({type:a.FETCH_REVIEW_DATA,mediaId:this.MD_ID}).then(function(e){t.loaded=!0,t.shortList=e.shortList,t.longList=e.longList})},reportReadMore:function(){(0,u.report)({click:"review_more"},{media_id:this.MD_ID,url:this.mediaLink})}},components:{ReviewItem:l.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(79),s=i(6);e.default={data:function(){return{twoLineTitle:!1}},props:{data:{type:Object,required:!0},mediaId:{type:Number,required:!0}},computed:{starScore:function(){var t=this.data.user_rating&&this.data.user_rating.score?this.data.user_rating.score||0:0;return Math.round(t)},stars:function(){var t=[{type:"empty"},{type:"empty"},{type:"empty"},{type:"empty"},{type:"empty"}];if(0===this.starScore)return t;for(var e=0;e<10;e++)e<2?t[Math.floor(e/2)].type="full":e<this.starScore&&(t[Math.floor(e/2)].type=e%2==0?"half":"full");return t},reviewLink:function(){return this.data.title?"/bangumi/media/md"+this.mediaId+"/review/ld"+this.data.review_id:"/bangumi/media/md"+this.mediaId+"/#short"},authorName:function(){return this.data.author&&this.data.author.uname?this.data.author.uname:""},authorSpace:function(){var t=this.data.author?this.data.author.mid:"";return t?"//space.bilibili.com/"+t:"javascript:;"},mediaName:function(){var t=this.data.media&&this.data.media.title?this.data.media.title:"";return t?"评 "+t:""},mediaUrl:function(){var t=this.data.media&&this.data.media.media_id?this.data.media.media_id:-1;return t>-1?"/bangumi/media/md"+t:"javascript:;"},pubTime:function(){return(0,n.formatReviewDate)(new Date(1e3*this.data.mtime))},reviewContent:function(){var t=this.data.content.replace(/(\r\n)|(\n)|(\r)/g," ").replace(/\t/g," ");return t.length>500?t.substr(0,500):t}},watch:{"data.title":{handler:function(t,e){t!==e&&this.$nextTick(function(){this.twoLineTitle=this.verfiyTitleLine()})},deep:!0}},mounted:function(){this.verfiyTitleLine()&&(this.twoLineTitle=!0)},methods:{verfiyTitleLine:function(){return this.$refs.title&&this.$refs.title.offsetHeight>24},reportHandler:function(){(0,s.report)({click:"review_detail"},{media_id:this.mediaId,title:this.data.title,url:encodeURIComponent("//www.bilibili.com"+this.reviewLink)})}}}},function(t,e,i){"use strict";function n(t){return t.setTime(t.getTime()+60*(t.getTimezoneOffset()+480)*1e3),t}function s(t){if(t&&t>0){var e=Math.floor(t/1e3),i=Math.floor(e/60),n=Math.floor(i/60),s=e%60;0===s?s="00":s<10&&(s="0"+s);var a=i%60;return 0===a?a="00:":a<10?a="0"+a+":":a+=":",0===n&&(n=""),n+a+s}return""}function a(t,e){var i=new Date(t);if(t&&t>0){var n=i.getSeconds(),s=i.getMinutes(),a=i.getHours();0===n?n=":00":n<10&&(n=":0"+n);var o=s%60;return o=0===o?"00":o<10?"0"+o:""+o,0===a?a="00:":a<10?a="0"+a+":":a+=":",e?a+o:a+o+n}return""}function o(t){var e=new Date(t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"}function r(){var t=new Date;return t.setTime(t.getTime()+60*(t.getTimezoneOffset()+480)*1e3),t}function c(t){if(isNaN(Number(t)))return"--";var e=r().getTime(),i=e-t,n=i/60/1e3,s=n/60,a=s/24,o=a/30,c=o/12;return n<60?(0===n.toFixed(0)?1:n.toFixed(0))+"分钟前":s<24?s.toFixed(0)+"小时前":a<30?a.toFixed(0)+"天前":o<12?o.toFixed(0)+"月前":c.toFixed(0)+"年前"}function l(t,e,i,n,s){e=void 0===e?"/":e,n=void 0!==n;var a=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();if(n&&(o=o<10?"0"+o:o.toString(),r=r<10?"0"+r:r.toString()),i){var c=t.getHours(),l=t.getMinutes();return n&&(c=c<10?"0"+c:c.toString(),l=l<10?"0"+l:l.toString()),(s?a+e:"")+o+e+r+" "+c+":"+l}return(s?a+e:"")+o+e+r}function u(t){var e=n(new Date),i=e.getTime()-t.getTime(),s=n(new Date(e.getTime()-864e5)),a=n(new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"));return i<6e4?"刚刚":i<36e5?Math.round(i/6e4)+"分钟前":i<864e5?Math.round(i/36e5)+"小时前":t.getTime()>a.getTime()?"昨天":l(t,"-",!1,!0,e.getFullYear()!==t.getFullYear())}function d(t){if(-1!==String(t).indexOf(":"))return t;var e=0,i=0,n=0;return t/60<1?n=t:t/3600<1?(i=Math.floor(t/60),n=t-60*i):(e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=t-3600*e-60*i),0===e?e="":e+=":",i<10&&(i="0"+i),n<10&&(n="0"+n),""+e+i+":"+n}Object.defineProperty(e,"__esModule",{value:!0}),e.offsetDate=n,e.convertSecToHMS=s,e.convertTimeToHMS=a,e.convertTimeToYMD=o,e.getNow=r,e.convertTimeToSimple=c,e.formatDateToYMD=l,e.formatReviewDate=u,e.formatDuration=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(32),o=i(275),r=n(o),c=i(280),l=n(c),u=i(283),d=n(u),f=i(286),p=n(f),h=i(289),_=n(h),m=i(292),v=n(m),g=i(295),I=n(g),y=i(298),w=n(y),b=i(12),E=n(b);e.default={props:{config:{type:Object,default:function(){return{seasonId:null}}}},data:function(){return{needCallback:!1,show:!1,pageGroup:[],viewGroup:[r.default,l.default,d.default,p.default,_.default,v.default,I.default,w.default],payConfig:{seasonId:0,seasonType:0,share:{},rate:0,bp:-1,amount:5,activity:null,loginInfo:{},$pay:0,$active:0,$page:0,$code:0,$info:"",$result:{}},component:null}},created:function(){var t=this;this.$root.$on("trigger-sponsor-pay",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.needCallback=n,e&&i&&(t.initConfig(),t.initDialog()),t.show=e})},watch:{show:function(){this.show&&this.$nextTick(function(){(0,s.loadDialogFrame)(this.$el)})}},mounted:function(){this.initConfig()},methods:{go:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<0||(this.pageGroup.push(t),this.component=this.viewGroup[t])},back:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length>0){for(var e=0;;)if(void 0===(e=this.pageGroup.pop())||t.indexOf(e)>=0)break;return this.go(e)}this.pageGroup.pop(),this.go(this.pageGroup.pop())},initConfig:function(){for(var t in this.payConfig)void 0!==this.config[t]&&(this.payConfig[t]=this.config[t]);this.payConfig.activity||(this.payConfig.activity={}),this.pageGroup=[]},initDialog:function(){if(this.payConfig.bp<0)return this.getBp();this.go(E.default.PAY_INDEX)},getBp:function(){var t=this,e=(0,s.postWithToken)("//bangumi.bilibili.com/web_api/get_bp"),i=(0,s.fetchGet)("//bangumi.bilibili.com/sponsor/point_rate");a.Promise.all([e,i]).then(function(e){var i=e[0]||{};if(0!==i.code)return t.payConfig.$page=10*E.default.PAY_DIALOG+1,t.payConfig.$code=i.code||-1,void t.go(E.default.PAY_INFO);t.payConfig.bp=i.result&&(i.result.default_bp||0);var n=e[1]||{};if(0!==n.code)return t.payConfig.$page=10*E.default.PAY_DIALOG+2,t.payConfig.$code=n.code||-1,void t.go(E.default.PAY_INFO);t.payConfig.rate=n.result&&(n.result.rate||0),t.initDialog()},function(){t.payConfig.$page=10*E.default.PAY_DIALOG,t.payConfig.$code=-1,t.go(E.default.PAY_INFO)})},next:function(t,e,i){if(t===E.default.PAY_INDEX)return void(this.payConfig.bp>=this.payConfig.amount?this.go(E.default.QUICK_PAY):this.go(E.default.QRCODE));this.go(e)}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(11),a=n(s),o=i(12),r=n(o),c=i(16);e.default={components:{PayHeader:a.default},props:{config:Object},data:function(){return{agree:!0,title:"这部番被我承包了",giftTips:"，您将获得限量挂件",active:0,custom:"",bpPay:[5,10,50,450]}},computed:{point:function(){return(0,c.bpCal)(this.config.amount,this.config.rate)},needPay:function(){var t=(0,c.bpSub)(this.config.amount,this.config.bp);return(isNaN(t)||t<0)&&(t=0),this.config.pay=t,t},giftHint:function(){return this.config.activity&&this.config.activity.pendant&&this.config.activity.pendant.length>0?"单次承包满5B币送限定挂件一周，10B币一月，50B币半年":""}},watch:{custom:"customChanged"},mounted:function(){this.active=this.config.$active,-1===this.active&&(this.custom=this.config.amount),this.checkGiftTips()},methods:{sponsorClick:function(t){this.config.$active=this.active=t,t<0?(""===this.custom&&(this.custom="20"),this.$refs.custom.focus()):(this.custom="",this.config.amount=this.bpPay[t]||10,this.checkGiftTips())},customChanged:function(){if(""===this.custom&&-1===this.active)return void(this.config.amount=0);var t=parseInt(this.custom);isNaN(t)||0===t?-1===this.active&&(this.custom=1):this.custom=t,this.custom&&(this.config.amount=this.custom),this.checkGiftTips()},checkGiftTips:function(){var t=this.config.amount;this.giftTips=t>=50?"，您将获赠半年挂件":t>=10?"，您将获赠一月挂件":t>=5?"，您将获赠一周挂件":""},next:function(){!this.agree||this.config.amount<=0||this.$emit("next",r.default.PAY_INDEX)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{back:Boolean,border:Boolean,title:String},methods:{goBack:function(){this.$emit("back")},payClose:function(){this.$root.$emit("trigger-sponsor-pay",!1)}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=n(s),o=i(11),r=n(o),c=i(16),l=i(15),u=n(l);e.default={components:{PayHeader:r.default},props:{config:Object},data:function(){return{title:"确认承包？"}},methods:{goBack:function(){this.$emit("back")},quickPay:function(){var t=this;(0,c.fetchPost)("//bangumi.bilibili.com/sponsor/web_api/v2/pay/order/quick",{season_type:this.config.seasonType,season_id:this.config.seasonId,amount:this.config.amount,csrf:u.default.get("bili_jct")||""}).then(function(e){0===e.code&&e.result&&1===e.result.status?(t.config.$result=e.result,t.config.$orderId=e.result.order_id||"",t.$emit("next",a.default.QUICK_PAY,a.default.PAY_SUCCESS)):t.$emit("next",a.default.QUICK_PAY,a.default.PAY_FAILED)},function(){t.$emit("next",a.default.QUICK_PAY,a.default.PAY_FAILED)})}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=n(s),o=i(16),r=i(15),c=n(r),l=i(19),u=n(l),d=i(11),f=n(d),p={ALIPAY:0,WEIXIN:1,CENTER:3};e.default={components:{PayHeader:f.default},props:{config:Object},data:function(){return{timer:null,title:"这部番被我承包了",active:0,alipay:"",alifix:!0}},mounted:function(){this.tabChanged(1)},destroyed:function(){this.timer&&clearInterval(this.timer)},methods:{tabChanged:function(t){this.active=t,0===this.active?this.createOrder(p.ALIPAY):1===this.active&&this.createOrder(p.WEIXIN)},goBack:function(){this.$emit("back")},jumpToPayCenter:function(){this.createOrder(p.CENTER)},createOrder:function(t){var e=this,i=void 0;t===p.CENTER&&(i=window.open("https://pay.bilibili.com/jump.html","_blank"),this.$emit("next",a.default.QRCODE,a.default.PAY_OTHER)),(0,o.fetchPost)("//bangumi.bilibili.com/sponsor/web_api/v2/pay/order/create",{pay_method:t,season_type:this.config.seasonType,season_id:this.config.seasonId,amount:this.config.amount,csrf:c.default.get("bili_jct")||""}).then(function(n){if(0!==n.code)return e.config.$page=10*a.default.QRCODE+1,e.config.$code=n.code,e.$emit("next",a.default.QRCODE,a.default.PAY_INFO),!1;if(e.config.$orderId=n.result.order_id,t===p.WEIXIN)new u.default({size:180,background:"#fff",element:e.$el.querySelector("#qrcode"),value:n.result.qrcode});else if(t===p.ALIPAY)n.result.qrcode&&((!(0,o.supportCss3)("transform")||"Microsoft Internet Explorer"===navigator.appName&&"9."===navigator.appVersion.match(/9./i))&&(e.alifix=!0),e.alipay=n.result.qrcode.replace("¬","&not").replace(/&amp;/g,"&"));else if(t===p.CENTER)return void(i.location.href=n.result.cashier_url);e.timer&&clearInterval(e.timer),e.timer=setInterval(function(){e.checkPayStatus()},3e3)},function(){return e.config.$page=10*a.default.QRCODE,e.config.$code=-404,e.$emit("next",a.default.QRCODE,a.default.PAY_INFO),!1})},checkPayStatus:function(){var t=this;this.config.$orderId&&(0,o.fetchPost)("//bangumi.bilibili.com/sponsor/web_api/v2/pay/order/success",{season_type:this.config.seasonType,order_id:this.config.$orderId,csrf:c.default.get("bili_jct")||""}).then(function(e){0===e.code&&e.result&&1===e.result.status&&(t.config.$result=e.result,t.$emit("next",a.default.QRCODE,a.default.PAY_SUCCESS))},function(){})}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=n(s),o=i(16),r=i(1),c=i(15),l=n(c),u=i(11),d=n(u),f=i(4),p=n(f),h=i(3);e.default={components:{PayHeader:d.default},props:{config:Object,needCb:Boolean},data:function(){return{title:"承包成功",agree:!0,msgText:"",msgCount:0,msgLimit:25}},computed:{ratio:function(){return(0,r.drp)()||2},face:function(){return this.hasPendant?(0,r.webpImg)(this.config.loginInfo.face,Math.ceil(100*this.ratio),Math.ceil(100*this.ratio)):""},hasActivity:function(){return this.config.activity&&this.config.activity.id?"单次承包满5B币送限定挂件一周，10B币一月，50B币半年":""},hasPendant:function(){return this.config.$result.pendants&&this.config.$result.pendants[0]?this.config.$result.pendants[0].image:""},expStr:function(){return this.config.$result.exp&&this.config.$result.exp>0?"您的经验值 +"+this.config.$result.exp:"您的经验值 +0"},pointStr:function(){if(this.config.$result.point&&this.config.$result.point>0)return"，积分 +"+this.config.$result.point},otherStr:function(){return this.hasPendant?"，您已获得限定头像挂件"+(this.config.$result.pendant_day_text||""):""}},watch:{msgText:"msgTextChanged"},mounted:function(){this.config.$result&&this.config.$orderId&&p.default.$emit(h.SPONSOR_PAY_SUCCESS,this.needCb,this.config.$result,this.config.$orderId)},methods:{payClose:function(){this.$root.$emit("trigger-sponsor-pay",!1)},msgTextChanged:function(){var t=window.$.trim(this.msgText),e=t.length;if(e>this.msgLimit)return this.msgText=t.substr(0,this.msgLimit),void(this.msgCount=this.msgLimit);this.msgText=t,this.msgCount=e},msgSend:function(){var t=this,e={season_type:this.config.seasonType,season_id:this.config.seasonId,comment:this.msgText,order_id:this.config.$orderId,csrf:l.default.get("bili_jct")||""};if(this.agree){var i=this.config.$result.pendants;i&&i.length>0&&(e.pendant_id=i[0].pid)}(0,o.fetchPost)("//bangumi.bilibili.com/sponsor/web_api/v2/pay/comment",e).then(function(e){0===e.code?t.$emit("next",a.default.PAY_SUCCESS,a.default.PAY_SHARE):61001!==parseInt(e.code)&&61002!==parseInt(e.code)||(t.config.$page=10*a.default.PAY_SUCCESS+2,t.config.$code=e.code||-1,t.$emit("next",a.default.PAY_SUCCESS,a.default.PAY_INFO))})}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=n(s),o=i(11),r=n(o);e.default={components:{PayHeader:r.default},props:{config:Object},data:function(){return{title:"承包失败"}},methods:{goBack:function(){this.$emit("back",[a.default.QUICK_PAY,a.default.QRCODE])}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=n(s),o=i(16),r=i(11),c=n(r);e.default={components:{PayHeader:c.default},props:{config:Object},data:function(){return{title:"请在弹出的新页面中完成支付"}},methods:{checkPayStatus:function(){var t=this;(0,o.fetchPost)("//bangumi.bilibili.com/sponsor/web_api/v2/pay/order/success",{order_id:this.config.$orderId}).then(function(e){0===e.code&&e.result&&1===e.result.status?(t.config.$result=e.result,t.$emit("next",a.default.PAY_OTHER,a.default.PAY_SUCCESS)):t.$emit("next",a.default.PAY_OTHER,a.default.PAY_FAILED)})}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={components:{PayHeader:s.default},props:{config:Object},data:function(){return{title:"留言成功，快去分享吧",ready:!1}},mounted:function(){this.ready=!0},methods:{}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(11),a=n(s),o=i(4),r=n(o),c=i(3);e.default={components:{PayHeader:a.default},props:{config:Object},data:function(){return{title:"出错了",limit:[-101]}},computed:{hasBack:function(){return!1}},mounted:function(){-101===parseInt(this.config.$code)?(this.$root.$emit("trigger-sponsor-pay",!1),window.open("https://passport.bilibili.com/login?gourl="+window.location.href)):61001!==parseInt(this.config.$code)&&61002!==parseInt(this.config.$code)||(this.$root.$emit("trigger-sponsor-pay",!1),r.default.$emit(c.REAL_NAME_SHOW,this.config.$code))},methods:{goBack:function(){this.$emit("back")}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(15),a=n(s),o=i(7),r=n(o),c=i(304),l=n(c),u=i(92),d=n(u),f=i(24),p=n(f),h=i(95),_=n(h),m=i(1),v=i(4),g=n(v),I=i(3),y={WEEK:0,TOTAL:1};e.default={components:{RankBB:l.default,RankItem:p.default,RankTab:d.default,Loading:_.default},props:{config:{type:Object,default:function(){return{seasonId:void 0,pageSize:7,csrf:null}}}},data:function(){return{show:!1,mine:{},showBB:!1,showAM:!0,state:"loading",active:0,rankList:{list:[]}}},computed:{ratio:function(){return(0,m.drp)()||2},cover:function(){return(0,m.webpImg)(this.config.loginInfo.face,Math.ceil(66*this.ratio),Math.ceil(66*this.ratio))},vip:function(){return!!this.config.loginInfo&&(!(!this.config.loginInfo.vipType||2!==parseInt(this.config.loginInfo.vipType)||!this.config.loginInfo.vipStatus||1!==parseInt(this.config.loginInfo.vipStatus))&&"vip")}},watch:{"config.rankTotal":{handler:function(t,e){var i=this;if(this.active===y.TOTAL){var n=this.config.rankTotal;setTimeout(function(){0===n.code&&n.result?(i.mine=n.result.mine||{},i.rankList.list=n.result.list||[],i.showBB=0===i.rankList.list.length,i.state="hidden",i.showAM=!0):i.state="error"},200)}},deep:!0},"config.rankWeek":{handler:function(t,e){var i=this;if(this.active===y.WEEK){var n=this.config.rankWeek;setTimeout(function(){0===n.code&&n.result?(i.mine=n.result.mine||{},i.rankList.list=n.result.list||[],i.showBB=0===i.rankList.list.length,i.state="hidden",i.showAM=!0):i.state="error"},200)}},deep:!0},show:function(){this.show&&this.$nextTick(function(){(0,m.loadDialogFrame)(this.$el)})}},created:function(){var t=this;this.$root.$on("trigger-sponsor-rank",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.show=e,t.active=i,e&&t.rankTabChanged(t.active)})},mounted:function(){this.config.csrf||(this.config.csrf=a.default.get("bili_jct"))},methods:{getSponsorRank:function(t){var e=this,i=this.config.seasonType||-1,n=this.config.seasonId||-1,s=this.config.pageSize||100,a=this.config.csrf||"";this.state="loading",window.$(".sp-rank-body").animate({scrollTop:0},60),this.showAM=!1,r.default.fetchGet(t,{season_type:i,season_id:n,page:1,pagesize:s,csrf:a}).then(function(t){0===t.code&&null!==t.result&&(e.mine=t.result.mine||{},e.rankList.list=t.result.list||[],e.showBB=0===e.rankList.list.length),e.showAM=!0,e.state="hidden"},function(){e.state="error"})},rankTabChanged:function(t){window.$(".sp-rank-body").animate({scrollTop:0},60),this.active=t,this.state="loading",this.mine={},this.rankList.list=[],this.showAM=!1,t===y.WEEK?g.default.$emit(I.FETCH_SPONSOR_RANK,"week",100):t===y.TOTAL&&g.default.$emit(I.FETCH_SPONSOR_RANK,"total",100)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{iconList:[]}},computed:{icons:function(){for(var t=Math.floor(20*Math.random())+20,e=[],i=0;i<t;i++){var n=Math.floor(9*Math.random())+16,s=Math.floor(20*Math.random()),a=Math.floor(3e3*Math.random())+i%20*600,o=Math.floor(4e3*Math.random())+6e3;e.push({width:n+"px",height:n+"px",bottom:s+"px",animation:"bili-icon-h "+o+"ms linear 1, bili-icon-r 1s linear 10",animationDelay:a+"ms"})}return e}}}},function(t,e,i){"use strict";function n(t){i(307)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(93),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(308),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(3);e.default={props:{index:{type:Number,default:0}},data:function(){return{active:0,tabs:["七日榜","总榜"],indicator:{width:0,left:0}}},watch:{index:function(t,e){t!==e&&(this.active=this.index,this.resetIndicator())}},mounted:function(){this.active=this.index,this.resetIndicator()},methods:{resetIndicator:function(){var t=this.$el.querySelectorAll("li")[this.active];this.indicator.width=t.offsetWidth,this.indicator.left=t.offsetLeft},tabClick:function(t){this.active=t,this.resetIndicator(),s.default.$emit(a.RANK_TAB_CHANGE),this.$emit("rank-tab",t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(6);e.default={props:{config:Object,parentConf:Object,index:{type:Number,required:!0}},computed:{ratio:function(){return(0,n.drp)()||2},cover:function(){return(0,n.webpImg)(this.config.face,Math.ceil(66*this.ratio),Math.ceil(66*this.ratio))},vip:function(){return!!this.config.vip&&(!(!this.config.vip.vipType||2!==parseInt(this.config.vip.vipType)||!this.config.vip.vipStatus||1!==parseInt(this.config.vip.vipStatus))&&"vip")}},methods:{reportHandler:function(){var t={season_id:this.parentConf.seasonId,businesstype:this.parentConf.seasonType,title:this.parentConf.title,ord_id:this.index+1};this.parentConf.epId&&(t.ep_id=this.parentConf.epId),(0,s.report)({click:"bp_user"},t)}}}},function(t,e,i){"use strict";function n(t){i(311)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(96),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(312),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.default={props:{state:{default:"loading"},data:{}},computed:{source:function(){if("hidden"===this.state)return!0;var t=Object.prototype.toString;return"[object Array]"===t.call(this.data)?0!==this.data.length:"[object Object]"===t.call(this.data)?!(0,n.isEmptyObject)(this.data):"loading"!==this.state}},methods:{reloads:function(){this.$emit("reload")}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(15),a=n(s),o=i(92),r=n(o),c=i(316),l=n(c),u=i(95),d=n(u),f=i(4),p=n(f),h=i(3),_={WEEK:0,TOTAL:1};e.default={props:{config:{type:Object,default:function(){return{seasonId:void 0,pageSize:7,csrf:null}}}},data:function(){return{state:"loading",first:!0,active:0,rankList:{list:[],spec:3}}},watch:{"config.seasonId":{handler:function(t,e){t>-1&&t!==e&&this.rankTabChanged(this.active)},deep:!0},"config.rankTotal":{handler:function(t,e){var i=this;if(this.active===_.TOTAL){var n=this.config.rankTotal;setTimeout(function(){0===n.code&&n.result?(i.rankList.list=n.result.list||[],i.state="hidden"):i.state="error"},200)}},deep:!0},"config.rankWeek":{handler:function(t,e){var i=this;if(this.active===_.WEEK){var n=this.config.rankWeek;setTimeout(function(){0===n.code&&n.result?(i.rankList.list=n.result.list||[],i.first&&(i.first=!1,0===i.rankList.list.length&&i.rankTabChanged(_.TOTAL)),i.state="hidden"):i.state="error"},200)}},deep:!0}},mounted:function(){this.config.csrf||(this.config.csrf=a.default.get("bili_jct"))},methods:{showSponsorRankDialog:function(){p.default.$emit(h.SHOW_SPONSOR_RANK),this.$root.$emit("trigger-sponsor-rank",!0,this.active)},rankTabChanged:function(t){this.active=t,this.state="loading",this.rankList.list=[],t===_.WEEK?p.default.$emit(h.FETCH_SPONSOR_RANK,"week",7):t===_.TOTAL&&p.default.$emit(h.FETCH_SPONSOR_RANK,"total",7)}},components:{RankTab:r.default,RankList:l.default,Loading:d.default}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(318),a=n(s),o=i(321),r=n(o);e.default={props:{state:String,config:{type:Object,required:!0,validator:function(t){return(void 0===t.spec||isNaN(Number(t.spec)))&&(t.spec=3),!0}},parentConf:Object},data:function(){return{RankItemBg:a.default,RankItemSm:r.default}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={mixins:[s.default]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={mixins:[s.default]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(3);e.default={data:function(){return{shown:!1,codeEnum:{61001:"NO_BIND",61002:"FORBIDDEN"},code:0,message:""}},created:function(){var t=this;s.default.$on(a.REAL_NAME_SHOW,function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.code=e,t.message=i,t.shown=!0})},computed:{type:function(){return this.codeEnum[this.code]},title:function(){return"NO_BIND"===this.type?"请绑定手机号":"请更新绑定手机"},info:function(){return this.message?this.message:"NO_BIND"===this.type?"根据国家实名制认证的相关要求，您需要绑定手机号，才能继续进行操作。":"根据国家实名制认证的相关要求，您需要换绑一个<i>非170/171的手机号</i>，才能继续进行操作。"},btnText:function(){return"NO_BIND"===this.type?"绑定手机号":"更换绑定手机"}},methods:{close:function(){this.shown=!1,this.message=""}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(4),o=function(t){return t&&t.__esModule?t:{default:t}}(a),r=i(6),c=i(1),l=i(5),u=i(3);e.default={created:function(){var t=this;o.default.$on(u.SHOW_1080P,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.shown=!0,t.needCallback=e,setTimeout(function(){t.contentShow=!0,(0,c.loadDialogFrame)(t.$el)},50)})},data:function(){return{shown:!1,contentShow:!1,needCallback:!1}},computed:n({},(0,s.mapGetters)(["MEDIA_INFO","RIGHTS_INFO","SS_ID","EP_ID","USER_STAT","LOGIN_INFO"]),{title:function(){return 8===this.MEDIA_INFO.season_status||9===this.MEDIA_INFO.season_status?"付费观看本片":6===this.MEDIA_INFO.season_status||7===this.MEDIA_INFO.season_status?"付费观看本片或成为大会员":1===this.RIGHTS_INFO.allow_bp?"承包本片或成为大会员":"成为大会员"},payStatus:function(){return(0,l.payStatusCheck)(this.MEDIA_INFO.season_status,this.USER_STAT.pay,this.USER_STAT.payPackPaid,this.LOGIN_INFO)},btnText:function(){return(1===this.payStatus.status||2===this.payStatus.status&&this.payStatus.isPay)&&13!==this.MEDIA_INFO.season_status?"付费观看":1===this.RIGHTS_INFO.allow_bp&&13!==this.MEDIA_INFO.season_status?"承包本片":""}}),methods:{close:function(){var t=this;this.contentShow=!1,setTimeout(function(){t.shown=!1},300)},payHandler:function(){this.close(),1===this.payStatus.status||2===this.payStatus.status&&this.payStatus.isPay?((0,r.report)({click:"pay"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),o.default.$emit(u.TRIGGER_PAY_PROCESS,!0)):1===this.RIGHTS_INFO.allow_bp&&((0,r.report)({click:"bp"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),this.$root.$emit("trigger-sponsor-pay",!0,!0,this.needCallback))},vipHandler:function(){this.close(),window.showVipPay(7)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(9),o=i(1);e.default={data:function(){return{shown:!1}},computed:n({},(0,s.mapGetters)(["MINI_ON","EP_INFO"]),{style:function(){return{opacity:this.shown?1:0}}}),mounted:function(){var t=this;window.addEventListener("scroll",function(){t.shown=(0,o.getScrollTop)()>300},!1)},methods:{gotoTop:function(){(0,o.animeScrollTop)()},miniSwitch:function(){this.$store.dispatch({type:a.CHANGE_MINI_ON,isOn:!this.MINI_ON})}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=i(2),a=i(4),o=function(t){return t&&t.__esModule?t:{default:t}}(a),r=i(6),c=i(3),l=i(1);e.default={data:function(){return{shown:!1,contentShow:!1}},computed:n({},(0,s.mapGetters)(["VER","LOGIN_INFO","EP_INFO","MEDIA_INFO","SS_ID","EP_ID","RIGHTS_INFO","PAY_MENT","USER_STAT"]),{epStatus:function(){return this.EP_INFO.episode_status||this.MEDIA_INFO.season_status},popTitle:function(){return 13===this.epStatus?"试看已结束，大会员免费看全片":"6分钟试看已播放完毕"},desc:function(){return"付费("+this.PAY_MENT.price+"B币)即可开启全片"}}),created:function(){var t=this;o.default.$on(c.SIX_MIN_MASK_SHOW,function(){t.shown=!0,setTimeout(function(){t.contentShow=!0,(0,l.loadDialogFrame)(t.$el)},50)})},methods:{close:function(){var t=this;this.contentShow=!1,setTimeout(function(){t.shown=!1},300)},payHandler:function(){this.close(),this.LOGIN_INFO.isLogin?((0,r.report)({click:"pay"},{season_id:this.SS_ID,ep_id:this.EP_ID,businesstype:this.MEDIA_INFO.season_type,title:this.MEDIA_INFO.title}),o.default.$emit(c.TRIGGER_PAY_PROCESS,!0)):(0,l.quickLogin)()},vipHandler:function(){this.close(),window.showVipPay()}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(106),a=n(s),o=i(7),r=n(o),c=i(5),l=i(1),u=i(3);e.default={props:{mediaInfo:Object,reviewInfo:Object},components:{ReviewHeader:a.default},data:function(){return{show:!1,config:{score:-1,content:"",min:0,max:100,count:0}}},computed:{tempInfo:function(){var t=-1;return this.reviewInfo.user_rating&&this.reviewInfo.user_rating.score&&(t=Math.floor(this.reviewInfo.user_rating.score/2)),{review_id:this.reviewInfo.review_id||0,is_coin:this.reviewInfo.is_coin||0,user_rating:{score:t}}},submitText:function(){return this.reviewInfo.review_id?"更新短评":"发表短评"},submitChecked:function(){return!(this.config.count>this.config.max)&&(!(this.config.count<this.config.min||this.config.count>this.config.max)&&this.config.score>0)},countColor:function(){return this.config.count>this.config.max?"#E40C0C":"#99a2aa"},countTip:function(){return this.config.count>this.config.max?"已超过规定字数":this.config.count+"/"+this.config.max}},watch:{"config.content":{handler:function(){this.config.content=this.config.content.replace(/[\t\n]/g,""),this.config.count=this.config.content.length}},reviewInfo:{handler:function(){this.reviewInfoChanged()},deep:!0},show:function(){this.show&&this.$nextTick(function(){(0,l.loadDialogFrame)(this.$el)})}},created:function(){var t=this;this.$root.$on(u.TRIGGER_SHORT_REVIEW,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.show=e})},mounted:function(){this.reviewInfoChanged()},methods:{scoreChanged:function(t){this.config.score=t,this.$emit("score",t)},reviewInfoChanged:function(){this.reviewInfo.user_rating.score&&this.reviewInfo.user_rating.score>0&&(this.config.score=Math.floor(this.reviewInfo.user_rating.score/2)),this.config.content=this.reviewInfo.content||""},reviewSubmit:function(){var t=this;if(this.submitChecked){var e="//bangumi.bilibili.com/review/web_api/short/post",i={media_id:this.mediaInfo.media_id,score:2*this.config.score,content:this.config.content,csrf:(0,c.getCsrf)()};this.reviewInfo.review_id&&(i.review_id=this.reviewInfo.review_id,e="//bangumi.bilibili.com/review/web_api/short/modify"),r.default.fetchPost(e,i,!1,!0).then(function(e){0===Number(e.code)?(t.$root.$emit(u.SHORT_REVIEW_SUCCESS,{score:i.score,review_id:e.result.id,content:e.result.content}),t.show=!1,t.$message({offset:"50%",message:t.reviewInfo.review_id?"更新成功":"发表成功"})):t.$message({offset:"50%",zIndex:10020,message:e.message||"提交短评信息发生错误"})},function(){t.$message({offset:"50%",zIndex:10020,message:"提交短评信息发生错误"})})}}}}},function(t,e,i){"use strict";function n(t){i(341)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(107),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(344),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(108),a=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default={props:{mediaInfo:Object,reviewInfo:Object},components:{RateStar:a.default},data:function(){return{score:-1}},computed:{title:function(){return this.mediaInfo.title||" "},cover:function(){return(0,n.webpImg)(this.mediaInfo.cover,Math.ceil(100*(0,n.drp)()),Math.ceil(133*(0,n.drp)()))}},watch:{score:{handler:function(){this.$emit("score",this.score)}},"reviewInfo.user_rating.score":{handler:function(){this.score=this.reviewInfo.user_rating.score}}},mounted:function(){this.score=this.reviewInfo.user_rating.score}}},function(t,e,i){"use strict";function n(t){i(342)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(109),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(343),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:Number},data:function(){return{hover:0,animation:!1}},methods:{changed:function(t){var e=this;this.animation=!0,this.$emit("input",t),setTimeout(function(){e.animation=!1},600)},rateEnter:function(t){this.hover=t,this.$emit("enter",t)},rateLeave:function(t){this.hover=0,this.$emit("leave",t)}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=n(s),o=i(348),r=n(o),c=i(68),l=n(c);e.default={data:function(){return{state:"loading",list:[],ajaxList:[]}},props:{mediaId:{type:Number,required:!0},type:{type:Number,default:-1}},mounted:function(){this.loadData()},methods:{refreshHandler:function(){"loading"!==this.state&&(this.state="loading",this.ajaxList=[],setTimeout(this.loadData,1e3))},loadData:function(){var t=this,e={page_size:5};3===this.type&&(e.type=3),a.default.fetchGet("//bangumi.bilibili.com/review/web_api/feed/pull",e).then(function(e){0===e.code?(t.ajaxList=e.result||[],t.list=e.result||[],t.state="loaded"):t.state="error"}).catch(function(){t.state="error"})}},components:{Loading:l.default,FeedItem:r.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.default={props:{feed:{type:Object,required:!0}},computed:{ratio:function(){return(0,n.drp)()||2},cover:function(){return(0,n.webpImg)(this.feed.media.cover,Math.ceil(60*this.ratio),Math.ceil(80*this.ratio))},content:function(){var t=this.feed.content.replace(/(\r\n)|(\n)|(\r)/g," ");return t=t.replace(/\t/g," ")},likesRender:function(){return"赞："+(0,n.biliNumFormat)(this.feed.likes)},authorInfo:function(){return""+(this.feed.author.uname||"")},mediaInfo:function(){return""+this.feed.media.title},reviewLink:function(){return"//www.bilibili.com/bangumi/media/md"+this.feed.media.media_id+"/review/ld"+this.feed.review_id+"/"},authorLink:function(){return"//space.bilibili.com/"+this.feed.author.mid+"/"},mediaLink:function(){return"//www.bilibili.com/bangumi/media/md"+this.feed.media.media_id+"/"}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=n(s),o=i(5),r=i(113),c=n(r),l=i(3);e.default={props:{loginInfo:Object,noClose:{type:Boolean,default:!1}},components:{DialogHeader:c.default},data:function(){return{show:!1,agree:!0,from:"",title:"bilibili点评公测邀请"}},computed:{levelCheck:function(){return!(!this.loginInfo||!this.loginInfo.level_info)&&this.loginInfo.level_info.current_level>=4},mobileCheck:function(){return this.loginInfo&&this.loginInfo.mobile_verified||0},mobileHref:function(){return this.loginInfo&&2===this.loginInfo.mobile_verified?"https://account.bilibili.com/site/identification.html":"https://passport.bilibili.com/site/site.html"},mobileText:function(){return this.loginInfo&&2===this.loginInfo.mobile_verified?"去实名认证":"去绑定手机"}},created:function(){var t=this;this.$root.$on(l.TRIGGER_REVIEW_OPEN,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.show=e,t.from=i})},methods:{clickConfirm:function(){var t=this;if(!this.agree)return void this.$message({message:"请先阅读哔哩哔哩点评规范条例",zIndex:10240});this.levelCheck&&this.mobileCheck&&a.default.fetchPost("//bangumi.bilibili.com/review/web_api/user/open",{csrf:(0,o.getCsrf)()},!1,!0).then(function(e){0===e.code?(t.$root.$emit(l.REVIEW_OPEN_SUCCESS,e.result,t.from),t.show=!1,t.from=""):t.$message({message:e.message||"开通点评失败",zIndex:10240})})},clickDismiss:function(){this.noClose||(this.show=!1)}}}},function(t,e,i){"use strict";function n(t){i(354)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(114),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(355),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:String,noClose:{type:Boolean,default:!1}},data:function(){return{}},methods:{close:function(){this.$emit("close")}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(113),a=n(s),o=i(359),r=n(o),c=i(3);e.default={components:{DialogHeader:a.default,ReportItem:r.default},data:function(){return{show:!1,reportUrl:""}},created:function(){var t=this;this.$root.$on(c.TRIGGER_REPORT_DIALOG,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];t.show=e,i=i||0,n=n||0,s=s||"short";var a="short"===s?"shortComment":"longComment";t.reportUrl="//www.bilibili.com/appeal/?reviewId="+n+"&type="+a+"&mediaId="+i})},mounted:function(){var t=this;window.addEventListener("message",function(e){return"close"===e.data?void(t.show=!1):"alert-投诉成功"===e.data?(t.$message({message:"举报成功",zIndex:10240}),void(t.show=!1)):void("string"==typeof e.data&&"alert-"===e.data.substr(0,6)&&t.$message({message:e.data.substr(6),zIndex:10240}))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{config:Object}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={success:"success",info:"info",warning:"warning",error:"error"};e.default={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{iconWrapClass:function(){var t=["bili-message__icon"];return this.type&&!this.iconClass&&t.push("bili-message__icon--"+this.type),t},typeClass:function(){return this.type&&!this.iconClass?"bili-message__icon bili-icon-"+n[this.type]:""}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){27===t.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}}},function(t,e,i){t.exports=i(119)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=i(10),a=n(s),o=i(122),r=i(373),c=n(r),l=i(5),u=i(9);a.default.mixin({beforeRouteUpdate:function(t,e,i){var n=this,s=t.params.id.substr(0,2),a=t.params.id.substr(2),o=[],r=!0;"ep"===s&&this.$store.state.epList.forEach(function(t){t.ep_id===Number(a)&&(r=!1)}),r?o.push(this.$store.dispatch({type:u.FETCH_MEDIA_INFO,id:Number(a),viewType:s})):o.push(this.$store.dispatch({type:u.EP_INFO_CHANGE,epId:Number(a)})),Promise.all(o).then(function(){r?("ep"===s&&n.$store.dispatch({type:u.EP_INFO_CHANGE,epId:Number(a)}),n.$store.dispatch({type:u.FETCH_USER_STAT,ssId:n.$store.state.ssId}).then(function(){if("ep"!==s){var t=n.$store.state.userStat.watchProgress&&n.$store.state.userStat.watchProgress.lastEpId>-1?n.$store.state.userStat.watchProgress.lastEpId:n.$store.state.epList[0]?n.$store.state.epList[0].ep_id:{};n.$store.dispatch({type:u.EP_INFO_CHANGE,epId:t})}i()}).catch(i)):i()}).catch(i)}});var d=(0,o.createApp)(),f=d.app,p=d.router,h=d.store;if(window.__INITIAL_STATE__)h.replaceState(window.__INITIAL_STATE__);else{var _=p.getMatchedComponents(),m=p.currentRoute.params.id,v=m.substr(0,2),g=m.substr(2),I=_.map(function(t){return t.asyncData&&t.asyncData({store:h,route:p.currentRoute,context:{params:{type:v,id:g},ua:window.navigator.userAgent}})});I.push(h.dispatch({type:u.VERSION_LOAD,ver:(0,c.default)(window.navigator.userAgent)})),Promise.all(I).then(function(){"ep"===v?(h.state.epId=Number(g),h.state.epList.forEach(function(t){t.ep_id===h.state.epId&&(h.state.epInfo=t)})):h.state.epInfo=h.state.epList[0]||{};var t=h.state.mediaInfo;window.document.title=(0,l.formatTitle)(h.state.epInfo.index,t.title,(0,l.getSeasonTypeName)(t.season_type),!0,2===h.state.mediaInfo.mode),f.$mount("#client-app")}).catch()}p.onReady(function(){p.beforeResolve(function(t,e,i){var n=p.getMatchedComponents(t),s=p.getMatchedComponents(e),a=!1,o=n.filter(function(t,e){return a||(a=s[e]!==t)});o.length?Promise.all(o.map(function(e){if(e.asyncData)return e.asyncData({store:h,route:t,context:{ua:window.navigator.userAgent}})})).then(function(){i()}).catch(i):i()}),window&&window.document.getElementById("app")&&f.$mount("#app")})},,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return{app:new o.default({store:E,router:S,ssrContext:t,render:function(t){return t(h.default)}}),router:S,store:E}}Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=s;var a=i(10),o=n(a),r=i(123),c=n(r),l=i(2),u=n(l),d=i(124),f=n(d),p=i(150),h=n(p),_=i(157),m=n(_);i(364);var v=i(365),g=n(v),I=i(366),y=n(I);i(367);var w=i(368),b=n(w);o.default.use(g.default,{preload:100}),o.default.use(y.default),o.default.use(b.default),o.default.use(c.default),o.default.use(u.default);var E=new u.default.Store(f.default),S=new c.default({mode:"history",routes:[{name:"webplay",path:"/bangumi/play/:id",component:m.default},{name:"innerplay",path:"/nodessr/bangumi/play/:id",component:m.default}]})},,function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var s=i(125),a=i(9),o=n(a),r=i(25),c=n(r),l={ver:{},loginInfo:{isLogin:null},canReview:!1,userShortReview:{},userLongReview:{},userScore:0,userCoined:!1,isPlayerTrigger:!1,special:!1,area:0,app:!1,epId:-1,ssId:-1,mdId:-1,mediaInfo:{},mediaRating:{},epInfo:{},epList:[],newestEp:{},seasonList:[],seasonStat:{views:0,danmakus:0,coins:0,favorites:0},userStat:{loaded:!1,error:!1,follow:0,pay:0,payPackPaid:0,sponsor:0,watchProgress:{lastEpId:-1,lastEpIndex:"",lastTime:0}},upInfo:{},rightsInfo:{},pubInfo:{},recomList:[],playerRecomList:[],paster:{},payPack:{},payMent:{},activity:{},spending:0,sponsorTotal:{code:0,result:{ep_bp:0,users:0,mine:{},list:[]}},sponsorWeek:{code:0,result:{ep_bp:0,users:0,mine:{},list:[]}},sponsorTotalCount:0,miniOn:!0,seasonFollowed:!1};e.default={state:l,getters:(0,s.generatorGetters)(l),actions:o.CORE,mutations:c.CORE}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return t?new u.default.Store(t):void 0}function a(t){var e={};if("object"!==(void 0===t?"undefined":o(t))||t instanceof Array)return{};for(var i in t)!function(i){if(t.hasOwnProperty(i)){var n=i.replace(/([A-Z])/g,"_$1").toUpperCase();e[n]=function(t){return t[i]}}}(i);return e}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.createStore=s,e.generatorGetters=a;var r=i(10),c=n(r),l=i(2),u=n(l);c.default.use(u.default)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e?(t.param=t.data,new Promise(function(e,i){(0,r.default)(t.url,t,function(t,n){t&&i(t),e(n)})}).catch(function(){return{code:404}})):(t.type&&(t.method=t.type),t.data&&(t.params=t.data),t.include&&(t.withCredentials=!0),t.cookies&&(t.withCredentials=!0,t.headers={Cookie:t.cookies}),(0,a.default)(t).then(function(t){return t}).catch(function(t){return{status:404,msg:t.stack}}))};var s=i(127),a=n(s),o=i(146),r=n(o)},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){i(151)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(31),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(156),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},,,function(t,e,i){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function s(t){try{delete window[t]}catch(e){window[t]=void 0}}function a(t){var e=document.getElementById(t);document.getElementsByTagName("head")[0].removeChild(e)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t,o=e.timeout||r.timeout,c=e.jsonpCallback||r.jsonpCallback,l=void 0;return new Promise(function(r,u){var d=e.jsonpCallbackFunction||n(),f=c+"_"+d;window[d]=function(t){r({ok:!0,json:function(){return Promise.resolve(t)}}),l&&clearTimeout(l),a(f),s(d)},i+=-1===i.indexOf("?")?"?":"&";var p=document.createElement("script"),h=e.type?"&type="+e.type:"",_=e.nocache?"&_="+(new Date).getTime():"";p.setAttribute("src",""+i+c+"="+d+h+_),p.id=f,document.getElementsByTagName("head")[0].appendChild(p),l=setTimeout(function(){u(new Error("JSONP request to "+t+" timed out")),s(d),a(f)},o)})}Object.defineProperty(e,"__esModule",{value:!0});var r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),s=Math.max(0,16.7-(n-t)),a=window.setTimeout(function(){e(n+s)},s);return t=n+s,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(158)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(34),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(363),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(160)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(35),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(188),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(162)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(36),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(165),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-lazy-img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.source,expression:"source"}],attrs:{alt:t.alt||"",src:""}})])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-up-info clearfix"},[i("div",{staticClass:"u-face"},[i("a",{staticClass:"face-wrapper",attrs:{href:"//space.bilibili.com/"+t.UP_INFO.mid,target:"_blank"},on:{click:t.reportSpace}},[i("bili-img",{attrs:{src:t.UP_INFO.avatar,width:68,height:68}}),t.pendantImage?i("bili-img",{staticClass:"pendant",attrs:{src:t.UP_INFO.pendant.image,width:112,height:112}}):t._e(),0===t.verify?i("i",{staticClass:"auth p-auth",attrs:{title:"个人认证"}}):t._e(),1===t.verify?i("i",{staticClass:"auth o-auth",attrs:{title:"企业/团体认证"}}):t._e()],1)]),i("div",{staticClass:"info"},[i("div",{staticClass:"user clearfix"},[i("a",{staticClass:"name",attrs:{href:"//space.bilibili.com/"+t.UP_INFO.mid,target:"_blank"},on:{click:t.reportSpace}},[t._v(t._s(t.UP_INFO.uname))]),i("a",{staticClass:"message",attrs:{href:"//message.bilibili.com/#whisper/mid"+t.UP_INFO.mid,target:"_blank"}},[t._v("发消息")])]),i("div",{staticClass:"sign"},[t._v(t._s(t.sign))]),i("div",{staticClass:"number"},[i("span",[t._v(t._s(t.archiveCount))]),i("span",[t._v(t._s(t.fans))])]),i("div",{class:["func-btns",{followed:t.following.is}]},[i("a",{staticClass:"func-btn b-gz",on:{click:function(e){t.follow(e)},mouseenter:function(){return t.followHover=!0},mouseleave:function(){return t.followHover=!1}}},[t._v(t._s(t.followText))])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(167)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(39),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(168),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["btn-pay-wrapper",{"vip-only":13===t.MEDIA_INFO.season_status&&!t.payStatus.isVip,"is-vip":t.vipStyle}]},[t.LOGIN_INFO.isLogin?i("a",{staticClass:"pay-btn",attrs:{href:t.btnHref,target:"javascript:;"===t.btnHref?"_self":"_blank"},domProps:{textContent:t._s(t.btnText)},on:{click:t.clickHander}}):t._e(),t.LOGIN_INFO.isLogin?t._e():i("a",{staticClass:"pay-btn",attrs:{href:"javascript:;"},domProps:{textContent:t._s(t.btnText)},on:{click:t.clickHander}}),i("div",{class:["pic-wrapper",{"is-vip":t.vipStyle||13===t.MEDIA_INFO.season_status}]}),!t.payStatus.isVip&&13===t.MEDIA_INFO.season_status&&t.PAY_MENT.vip_first_promotion?i("span",{staticClass:"sale-corner",domProps:{textContent:t._s(t.PAY_MENT.vip_first_promotion)}}):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(170)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(40),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(174),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(172)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(41),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(173),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"func-pendant",attrs:{href:t.activityLink}},[i("i",{class:["avatar",{"avatar-22":t.random,"avatar-33":!t.random}]}),t.pendantImage?i("i",{staticClass:"pendant",style:t.pendantImage}):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-sponsor-wrapper"},[i("span",{staticClass:"sponsor-count",domProps:{innerHTML:t._s(t.sponsorCount)}}),i("a",{staticClass:"sponsor-btn",attrs:{href:"javascript:;"},domProps:{textContent:t._s(t.btnText)},on:{click:t.clickHander}}),i("div",{class:["pic-wrapper",{"no-image":t.isPendant}]},[t.isPendant?i("pendant"):t._e()],1)])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-second"},[i("a",{attrs:{href:t.areaLink[t.MEDIA_INFO.season_type],target:"_blank"},on:{click:t.reportHandler}},[i("span",{staticClass:"info-sec-type",domProps:{textContent:t._s(t.seasonTypeName)}})]),i("span",{staticClass:"info-sec-area",domProps:{textContent:t._s(t.areaStr)}}),i("span",{staticClass:"info-sec-pub",domProps:{textContent:t._s(t.NEWEST_EP.desc)}}),t.EP_INFO.aid?i("a",{staticClass:"info-sec-av",attrs:{href:t.avLink,target:"_blank"},domProps:{textContent:t._s(t.avId)},on:{click:t.reportAVID}}):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e){},function(t,e,i){"use strict";function n(t){i(179)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(47),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(180),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"mouse-movieclip",rawName:"v-mouse-movieclip",value:t.animeConfig[0],expression:"animeConfig[0]"}],staticClass:"bangumi-coin-wrap",attrs:{title:"投硬币枚数"+t.coin,"report-id":"click_coin"},on:{click:t.setCoinState}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.tempUserCoin,expression:"!tempUserCoin"}],class:t.item}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.tempUserCoin,expression:"tempUserCoin"}],ref:"animeEvent",class:t.targetItem}),i("span",{staticClass:"coin-status"},[t._v("硬币")]),i("span",{attrs:{id:"v_ctimes"}},[t._v(t._s(t.coin))])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(182)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(49),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(183),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dialogVisible?i("div",{staticClass:"dialog-mask"},[i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"coin-operated-m"},[i("i",{staticClass:"coin-close",on:{click:t.closeDialog}}),i("div",{staticClass:"coin-title"},[t._v("给UP主投上 "),i("span",[t._v(t._s(t.currentSelect))]),t._v(" 枚硬币")]),i("div",{staticClass:"mc clearfix"},[i("div",{staticClass:"mc-box left-con",class:1===t.currentSelect?"on":"",on:{click:function(e){t.selectCoin(1)}}},[i("span",{staticClass:"c-num"},[t._v("1硬币")])]),t._e()]),i("div",{staticClass:"coin-bottom"},[i("span",{staticClass:"coin-btn",on:{click:function(e){t.addCoin(e)}}},[t._v("确定")]),t.exp<50?i("p",{staticClass:"tips"},[t._v("经验值+"+t._s(10*t.currentSelect)+"（今日"+t._s(t.exp)+"/50）")]):i("p",{staticClass:"tips"},[t._v("今日投币+50经验成就 get√ 赞！")])])])])],1):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(185)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(50),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(186),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"mouse-movieclip",rawName:"v-mouse-movieclip",value:t.animeConfig[0],expression:"animeConfig[0]"}],class:t.item+"-wrap",attrs:{title:t.title+"数"+t.collect,"report-id":t.followed?"click_unfollow":"click_follow"},on:{click:t.toCollect}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.followed,expression:"!followed"}],class:t.item}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.followed,expression:"followed"}],ref:"animeEvent",class:t.targetItem}),i("span",{class:t.item+"-status"},[t._v(t._s(t.title))]),i("span",{attrs:{id:"v_ctimes"}},[t._v(t._s(t.collect))])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"count-wrapper clearfix"},[i("div",{staticClass:"view-count"},[i("i"),i("span",[t._v(t._s(t._f("formatNum")(t.SEASON_STAT.views)))])]),i("div",{class:["danmu-count",{noline:t.showUper}]},[i("i"),i("span",[t._v(t._s(t._f("formatNum")(t.SEASON_STAT.danmakus)))])]),t.showUper?i("div",{staticClass:"up-info"},[i("i"),i("span",[i("a",{attrs:{href:"//space.bilibili.com/"+t.UP_INFO.mid,target:"_blank"},on:{click:t.reportUpinfo}},[t._v(t._s(t.UP_INFO.uname))])])]):t._e(),t.EP_ID>-1?i("coin",{attrs:{coins:t.coinConfig,"season-id":t.SS_ID,"is-login":t.LOGIN_INFO.isLogin},on:{"click-coin":t.reportCoin}}):t._e(),i("collection",{attrs:{"login-info":t.LOGIN_INFO,"season-id":t.SS_ID,"season-type":t.seasonType,followed:t.SEASON_FOLLOWED,"follow-count":t.SEASON_STAT.favorites||0},on:{"stat-change":t.followChanged}})],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-header report-wrap-module report-scroll-module clearfix",attrs:{id:"bangumi_header"}},[i("div",{staticClass:"header-info"},[i("h1",{attrs:{title:t.h1Title},domProps:{textContent:t._s(t.h1Title)}}),i("bread-thumb"),i("bangumi-count",{attrs:{"func-type":t.funcType}}),i("div",{staticClass:"header-ad-wrapper"})],1),t.payBannerShow?i("div",{staticClass:"header-pay-banner"},["sponsor"===t.funcType?i("btn-sponsor"):t._e(),"pay"===t.funcType?i("btn-pay",{attrs:{"pay-status":t.payStatus}}):t._e(),"uper"===t.funcType&&t.UP_INFO.mid?i("uper-info"):t._e()],1):t._e(),t._m(0)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ad-f clearfix"},[i("div",{staticClass:"left ad-fl data-id-ad",staticStyle:{display:"none"},attrs:{"data-loc-id":"124"}}),i("div",{staticClass:"right ad-fr data-id-ad",staticStyle:{display:"none"},attrs:{"data-loc-id":"126"}})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(190)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(51),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(233),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(192)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(52),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(229),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(194)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(54),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(195),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{class:["pay-watch-entry-wrapper",{"pay-watch-float":"float"===t.config.styleType},{"pay-watch-static":"static"===t.config.styleType}]},[1===t.config.isStarted?i("div",{staticClass:"pwe-popup"},["float"===t.config.styleType?i("div",{staticClass:"pwe-popup-close",on:{click:t.close}}):t._e(),i("div",{staticClass:"pwe-popup-text"},[t._v("\n            "+t._s(t.tipText)+"\n            "),i("div",{staticClass:"pwe-popup-tip"},[t._v(t._s(t.config.promotion))])]),i("div",{staticClass:"pwe-popup-img"}),i("div",{staticClass:"pwe-popup-pay",on:{click:function(e){t.checkLogin(t.toPayWatchProcess)}}},[t._v("立即观看")]),8!==t.config.seasonStatus&&9!==t.config.seasonStatus&&12!==t.config.seasonStatus?i("div",{staticClass:"pwe-popup-buyvip",on:{click:function(e){t.checkLogin(t.buyVip)}}},[t._v(t._s(t.btnText))]):t._e()]):t._e(),1!==t.config.isStarted?i("div",{staticClass:"pwe-popup pwe-popup-alert"},["float"===t.config.styleType?i("div",{staticClass:"pwe-popup-close",on:{click:t.close}}):t._e(),i("div",{staticClass:"pwe-popup-text"},[i("span",{staticClass:"pwe-popup-text-title"},[t._v("《"),i("span",[t._v(t._s(t.config.title))]),t._v("》")]),i("span",{staticClass:"pwe-popup-text-time"},[t._v("将于"),i("span",[t._v(t._s(t.config.time))]),t._v("开播，确定提前购买？")]),t.config.isfollow?t._e():i("div",{staticClass:"pwe-popup-tip",on:{click:t.setToFollow}},[i("div",{class:["pwe-popup-checkbox",{checked:t.toFollow}]}),t._v("\n                同时"+t._s(1===t.config.seasonType||4===t.config.seasonType?"追番":"收藏")+"接收开播提醒\n            ")]),t.config.isfollow?i("div",{staticClass:"pwe-popup-tip-pos"}):t._e()]),i("div",{staticClass:"pwe-popup-img"}),i("div",{staticClass:"pwe-popup-confrim",on:{click:function(e){t.checkLogin(t.toPayWatchProcess)}}},[t._v("确定")]),8!==t.config.seasonStatus&&9!==t.config.seasonStatus&&12!==t.config.seasonStatus?i("div",{staticClass:"pwe-popup-buyvip",on:{click:function(e){t.checkLogin(t.buyVip)}}},[t._v(t._s(t.btnText))]):t._e()]):t._e()]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(197)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(55),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(225),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(199)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(56),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(201),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){var n=i(200);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(14)("ea447738",n,!0,{})},function(t,e,i){e=t.exports=i(13)(!1),e.push([t.i,"",""])},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pwp-module-wrapper"},[i("div",{staticClass:"pwp-modal-header"},[t._v("您的B币余额充足")]),i("div",{staticClass:"pwp-modal-container"},[i("div",{staticClass:"step-index"},[i("div",{staticClass:"money-b"},[i("span",{staticClass:"label"},[t._v("B币余额：")]),i("span",{staticClass:"mark"},[t._v(t._s(t.config.userBp))]),i("span",[t._v("B币")])]),i("div",{staticClass:"money-n"},[i("span",{staticClass:"label"},[t._v("需要消耗：")]),i("span",{staticClass:"mark"},[t._v(t._s(t.config.amount))]),i("span",{staticClass:"mark"},[t._v("B币")]),i("span",{staticClass:"enough"},[t._v("（余额足够，将使用余额支付）")])]),i("div",{staticClass:"pwp-btn primary",on:{click:t.quickPay}},[t._v("确认支付")])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(203)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(57),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(204),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pwp-module-wrapper"},[i("div",{staticClass:"pwp-modal-header"},[t._v("您的B币余额不足")]),i("div",{staticClass:"pwp-modal-container"},[i("div",{staticClass:"step-qrcode"},[i("div",{staticClass:"money-b"},[i("span",{staticClass:"label"},[t._v("B 币余额：")]),i("span",{staticClass:"mark"},[t._v(t._s(t.config.userBp))]),i("span",{staticClass:"mark"},[t._v(" B币")])]),i("div",{staticClass:"money-n"},[i("span",{staticClass:"label"},[t._v("需要购买：")]),i("span",{staticClass:"mark"},[t._v(t._s(t.config.amount))]),i("span",{staticClass:"mark"},[t._v(" B币")])])]),i("div",{staticClass:"pwp-qrcode-wrapper"},[i("div",{staticClass:"pwp-qrcode-header"},[t._v("\n                请使用"),i("span",{attrs:{id:"pwp_pay_type"}},[t._v(t._s("alipay"===t.payType?"支付宝":"微信"))]),t._v("扫码支付\n            ")]),i("div",{staticClass:"pwp-qrcode-content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"alipay"===t.payType,expression:"payType === 'alipay'"}],staticClass:"alipay-qrcode"},[i("iframe",{attrs:{width:"300",height:"290",id:"iframeQrcodePfw",scrolling:"no",src:t.alipayQrcodeSrc}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:"wechat"===t.payType,expression:"payType === 'wechat'"}],staticClass:"wechat-qrcode"},[i("canvas",{attrs:{id:"wechat-qrcode"}})])]),i("div",{staticClass:"pwp-qrcode-tab-wrapper"},[i("div",{staticClass:"pwp-qrcode-tab-mask"}),i("div",{class:["pwp-qrcode-tab",{active:"alipay"===t.payType}],on:{click:function(e){t.setPayMethod("alipay")}}},[i("i",{staticClass:"alipay"}),t._v("支付宝\n                ")]),i("div",{class:["pwp-qrcode-tab",{active:"wechat"===t.payType}],on:{click:function(e){t.setPayMethod("wechat")}}},[i("i",{staticClass:"wechat"}),t._v("微信\n                ")])]),i("a",{staticClass:"pwp_payment_others",attrs:{href:"javascript: void(0);"},on:{click:function(e){t.setPayMethod("center")}}},[t._v("其他支付方式>")]),i("a",{staticClass:"pwp_qrcode_refresh",attrs:{href:"javascript: void(0);"},on:{click:function(e){t.refreshQrcode()}}},[t._v("刷新二维码")])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(206)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(58),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(208),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){var n=i(207);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(14)("7360b560",n,!0,{})},function(t,e,i){e=t.exports=i(13)(!1),e.push([t.i,"",""])},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pwp-module-wrapper"},[i("div",{staticClass:"step-status"},[i("div",{staticClass:"step-title"},[t._v("购买失败！")]),t._m(0),i("div",{staticClass:"step-footer"},[i("div",{staticClass:"pwp-btn primary",on:{click:t.rePay}},[t._v("重新支付")]),i("a",{staticClass:"pwp-btn default",attrs:{href:t.helpUrl,target:"_blank"}},[t._v("遇到问题")])])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stat-container"},[i("div",{staticClass:"stat-payment fail"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(210)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(59),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(212),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){var n=i(211);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(14)("46211390",n,!0,{})},function(t,e,i){e=t.exports=i(13)(!1),e.push([t.i,"",""])},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"step-status"},[i("div",{staticClass:"step-title"},[t._v("购买成功！")]),i("div",{staticClass:"stat-container"},[i("div",{staticClass:"stat-payment success"})]),i("div",{staticClass:"step-footer"},[i("div",{staticClass:"pwp-btn primary success",on:{click:t.success}},[t._v("确定")])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(214)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(216),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){var n=i(215);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(14)("664153e2",n,!0,{})},function(t,e,i){e=t.exports=i(13)(!1),e.push([t.i,"",""])},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"step-status"},[i("div",{staticClass:"step-title"},[t._v(t._s(t.htmlConfig.title))]),i("div",{staticClass:"stat-container"},[i("div",{class:["stat-payment "+t.htmlConfig.orderPic]})]),i("div",{staticClass:"step-footer"},[t.htmlConfig.orderSuc?i("div",{staticClass:"pwp-btn primary",on:{click:t.checkOrder}},[t._v("付款完成")]):t._e(),t.htmlConfig.orderErr?i("div",{staticClass:"pwp-btn default",on:{click:t.help}},[t._v("遇到问题")]):t._e(),t.htmlConfig.orderBack?i("a",{staticClass:"back",attrs:{href:"javascript: void(0);"},on:{click:t.back}},[t._v("返回上一步")]):t._e()])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(218)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(61),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(220),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){var n=i(219);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(14)("0df4d68b",n,!0,{})},function(t,e,i){e=t.exports=i(13)(!1),e.push([t.i,"",""])},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"step-status"},[i("div",{staticClass:"step-title"},[t._v("然而并没有收到付款")]),t._m(0),i("div",{staticClass:"step-footer"},[i("span",{attrs:{id:"second"}},[t._v(t._s(t.sec))]),t._v("\n         秒后自动 \n        "),i("a",{staticClass:"back",attrs:{href:"javascript: void(0);"},on:{click:t.back}},[t._v("返回")])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stat-container"},[i("div",{staticClass:"stat-payment nrpy"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(222)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(62),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(224),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e,i){var n=i(223);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(14)("55d40382",n,!0,{})},function(t,e,i){e=t.exports=i(13)(!1),e.push([t.i,"",""])},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pwp-module-wrapper"},[i("div",{staticClass:"step-status"},[i("div",{staticClass:"step-title"},[t._v("抱歉<(_ _)> 您的支付请求迷路了")]),t._m(0),i("div",{staticClass:"step-footer"},[i("div",{staticClass:"pwp-btn primary",on:{click:t.refresh}},[t._v("刷新重试")]),i("a",{staticClass:"pwp-btn default",attrs:{href:t.helpUrl,target:"_blank"}},[t._v("遇到问题")])])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stat-container"},[i("div",{staticClass:"stat-payment fail"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.show?i("div",{staticClass:"pwp-modal-mask"},[i("div",{staticClass:"pwp-modal-wrapper",attrs:{id:"pwp-content"}},[i("i",{staticClass:"pwp-modal-close",on:{click:t.close}}),i(t.component,{tag:"component",attrs:{config:t.componentConfig,"user-pay-type":t.userPayType,"order-id":t.orderId},on:{"set-component":t.setStep,"set-order-id":t.setOrderId}})],1)]):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(227)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(63),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(228),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vip-placeholder"},[i("div",{staticClass:"place-holder-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"place-holder-tip",domProps:{textContent:t._s(t.PAY_MENT.promotion)}}),i("div",{staticClass:"place-holder-img"}),i("div",{staticClass:"pwe-popup-pay",on:{click:t.openVip}},[t._v("立即开通")]),t.PAY_MENT.vip_first_promotion?i("i",{staticClass:"sale",domProps:{textContent:t._s(t.PAY_MENT.vip_first_promotion)}}):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.limitType>0?i("div",{staticClass:"player-limit-wrap"},[t.limitType===t.LIMIT_MAP.AREA_LIMIT?i("div",{staticClass:"limit_area_wrap"},[t._m(0),i("div",{staticClass:"limit_area_img"})]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.limitType===t.LIMIT_MAP.APP_ONLY,expression:"limitType === LIMIT_MAP.APP_ONLY"}],staticClass:"limit_app_wrap"},[t._m(1),i("div",{staticClass:"app_only_qrcode"},[i("div",{staticClass:"qrcode-body"},[i("img",{ref:"qrcode",attrs:{alt:"",src:""}}),t._m(2)])])]),t.limitType===t.LIMIT_MAP.NOT_START?i("div",{staticClass:"limit_not_start_wrap"},[i("div",{staticClass:"not_start_info",domProps:{innerHTML:t._s(t.notStartInfo)}}),i("div",{staticClass:"not_start_img"}),i("div",{staticClass:"not_start_btn"},[i("span",{class:{follow:!t.SEASON_FOLLOWED,anime:t.isAnime},domProps:{innerHTML:t._s(t.btnText)},on:{click:t.follow}})])]):t._e(),t.limitType===t.LIMIT_MAP.PAY_ONLY?i("div",{staticClass:"limit-pay-wrap"},[i("pay-watch-entry",{attrs:{"login-info":t.LOGIN_INFO,config:t.payOnlyConfig},on:{"click-pay":t.reportPay,"on-follow":t.followCallback}})],1):t._e(),t.limitType===t.LIMIT_MAP.VIP_ONLY?i("div",{staticClass:"limit-vip-wrap"},[i("vip-placeholder")],1):t._e()]):t._e()},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"limit_area_info"},[t._v("非常抱歉，根据版权方要求，"),i("br"),t._v("您所在的地区无法观看本片 ~")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app_only_info"},[t._v("\n            应版权方要求，本片仅支持App观看"),i("br"),t._v("请使用\n            "),i("a",{attrs:{href:"//app.bilibili.com",target:"_blank"}},[t._v("哔哩哔哩App")]),t._v("\n            扫描二维码\n        ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("没有安装App？\n                    "),i("a",{attrs:{href:"//app.bilibili.com",target:"_blank"}},[t._v("前去下载")])])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(231)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(64),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(232),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"qq-player-wrapper"})},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["bangumi-player",{"mini-player":t.MINI_ON&&t.isFloat&&0===t.limitType,"no-select":null!==t.startOffset}],style:t.renderPos},[i("div",{directives:[{name:"show",rawName:"v-show",value:"bangumi"===t.EP_INFO.from&&(0===t.limitType||-1===t.limitType),expression:"EP_INFO.from === 'bangumi' && (limitType === 0 || limitType === -1)"}],ref:"bofqi",staticClass:"player-content",attrs:{id:"bofqi"}}),"qq"===t.EP_INFO.from&&0===t.limitType?i("qq-player-embed",{attrs:{config:t.EP_INFO}}):t._e(),i("limit",{attrs:{"limit-type":t.limitType}}),i("div",{class:["mini-player-move",{on:null!==t.startOffset}],on:{mousedown:t.mouseDown}},[i("span",{attrs:{title:"点击按住拖动"}}),i("i",{on:{mousedown:function(t){t.stopPropagation()},click:t.closeMiniPlayer}})]),i("div",{attrs:{id:"heimu"}})],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(235)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(65),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(259),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(237)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(66),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(238),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-detail"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.stylesRender,expression:"stylesRender"}],staticClass:"detail-info detail-styles"},[i("label",[t._v("风格：")]),i("span",[t._v(t._s(t.stylesRender))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.staffRender,expression:"staffRender"}],class:["detail-info","detail-staff",{"show-relate":!t.staticShow}]},[i("p",{class:{static:t.staticShow},domProps:{innerHTML:t._s(t.staffRender)}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.MEDIA_INFO.actors,expression:"MEDIA_INFO.actors"}],class:["detail-info","detail-actors",{"show-relate":!t.staticShow}]},[i("label",{domProps:{textContent:t._s(t.actorTitle)}}),i("span",{ref:"actors",style:{opacity:t.staticShow?0:1},domProps:{textContent:t._s(t.actorRender)}}),i("span",{staticClass:"static",style:{opacity:t.staticShow?1:0},domProps:{textContent:t._s(t.actorRender)}})]),i("div",{staticClass:"detail-evaluate",style:{height:t.staticShow?"44px":"auto"}},[i("label",[t._v("简介：")]),i("p",{ref:"evaluate",style:{opacity:t.staticShow?0:1,"z-index":t.staticShow?1:2}},[i("span",{domProps:{textContent:t._s(t.MEDIA_INFO.evaluate)}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.expandShow,expression:"expandShow"}],on:{click:function(){return t.staticShow=!0}}},[t._v("收起")])]),i("p",{staticClass:"static",style:{opacity:t.staticShow?1:0,"z-index":t.staticShow?2:1}},[i("span",{domProps:{textContent:t._s(t.MEDIA_INFO.evaluate)}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.expandShow,expression:"expandShow"}],on:{click:function(){return t.staticShow=!1}}},[t._v("展开")])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(240)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(255),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.source?t._e():i("div",{staticClass:"load-state"},["loading"===t.state?i("span",{staticClass:"loading"},[t._v("正在加载...")]):t._e(),"error"===t.state?i("span",{staticClass:"error"},[t._v("加载失败，\n        "),i("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.reloads()}}},[t._v("点击重试")])]):t._e(),"loaded"===t.state?i("span",{staticClass:"empty"},[t._v("没有数据(-_-#)")]):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(244)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(70),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(245),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider-wrapper"},[i("div",{staticClass:"slider-content",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[t._t("default")],2),i("div",{staticClass:"slider-contro clearfix"},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.needSlide&&t.moving&&"touch"===t.slideType,expression:"needSlide && moving && slideType === 'touch'"}],staticClass:"contro-item"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.detailMode&&(t.needSlide||t.prePage)&&"click"===t.slideType,expression:"detailMode && (needSlide || prePage) && slideType === 'click'"}],class:["slider-prev",{disabled:0===t.offsetX&&!t.prePage}],on:{click:t.slidePrev}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.detailMode&&(t.needSlide||t.prePage)&&"click"===t.slideType&&t.offsetX<0,expression:"detailMode && (needSlide || prePage) && slideType === 'click' && offsetX < 0"}],staticClass:"slider-prev-mask"}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.detailMode&&(t.needSlide||t.nextPage)&&"click"===t.slideType,expression:"detailMode && (needSlide || nextPage) && slideType === 'click'"}],class:["slider-next",{disabled:t.offsetX===t.sliderMax&&!t.nextPage}],on:{click:t.slideNext}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.detailMode&&(t.needSlide||t.nextPage)&&"click"===t.slideType&&t.offsetX>t.sliderMax,expression:"detailMode && (needSlide || nextPage) && slideType === 'click' && offsetX > sliderMax"}],staticClass:"slider-next-mask"})],1)])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(247)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(71),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(248),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("li",{class:["season-item",{on:Number(t.ssData.season_id)===t.current}],attrs:{"report-id":"click_season"},domProps:{textContent:t._s(t.ssData.season_title)},on:{click:t.seasonChange}})},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(250)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(72),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(251),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:-1!==t.mode,expression:"mode !== -1"}],class:["episode-item",{on:t.epData.ep_id===t.EP_ID,simple:2===t.mode}],attrs:{title:t.domTitle,"report-id":"click_ep"},on:{click:t.epChange}},[i("h4",{staticClass:"ep-index",domProps:{textContent:t._s(t.epIndexRender)}}),i("p",{directives:[{name:"show",rawName:"v-show",value:1===t.mode,expression:"mode === 1"}],staticClass:"ep-title",domProps:{textContent:t._s(t.epTitle)}}),t.epData.badge||t.isNew?i("span",{class:["mark-icon",t.badgeIcon]}):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(253)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(73),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(254),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shown,expression:"shown"}],class:["simple-pages-wrapper",{left:1===t.position,right:2===t.position,small:2===t.splitList.length}]},[i("ul",{staticClass:"list-container"},t._l(t.splitList,function(e,n){return i("li",{key:n,class:["page-item",{on:n===t.page}],domProps:{textContent:t._s(e)},on:{click:function(e){t.changePage(n)}}})}))])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-list-wrapper"},[i("div",{staticClass:"top-block"},[i("div",{staticClass:"ss-list-wrapper"},[i("list-slider",{attrs:{"slide-type":"click","auto-index":t.ssCurrentIndex,length:t.SEASON_LIST.length,skew:66}},[i("ul",{staticClass:"season-list"},t._l(t.renderSeasonList,function(e,n){return i("season-item",{key:n,attrs:{"ss-data":e,current:t.seasonId},on:{change:t.seasonChange}})}))])],1),i("ul",{staticClass:"mode-select clearfix"},t._l(t.modes,function(e,n){return i("li",{key:n,class:[e.className,{selected:e.key===t.modeSelected}],attrs:{title:e.name,"report-id":"click_ep_switch"},on:{click:function(i){t.modeChange(e.key)}}})}))]),i("div",{class:["bottom-block",{"overflow-show":2===t.modeSelected}]},[i("list-slider",{attrs:{"can-reset":!0,"can-end":!0,"slide-type":"click","auto-index":t.epCurrentIndex,length:t.selectEpList.length,"pre-page":t.hasPrePage,"next-page":t.hasNextPage,"detail-mode":1===t.modeSelected,skew:128},on:{pagepre:function(e){t.slidePage(0)},pagenext:function(e){t.slidePage(1)}}},[i("ul",{class:["episode-list",{breakline:2===t.modeSelected}]},[t._l(t.selectEpList,function(e,n){return i("episode-item",{key:n,attrs:{"cookie-rec":t.cookieRecord,"ep-data":e,mode:t.modeSelected},on:{"set-cookie":t.setCookie}})}),i("loading",{attrs:{state:t.state,data:t.loadingSource}}),i("li",{directives:[{name:"show",rawName:"v-show",value:t.canSelectPage,expression:"canSelectPage"}],staticClass:"btn-episode-more",on:{mouseenter:t.btnMoreEnter,mouseleave:t.btnMoreLeave}},[i("span",[t._v("全部 >")]),i("simple-pages",{attrs:{shown:t.pageSelectShow,list:t.epCache[t.seasonId]||[],page:t.simplePage},on:{change:t.pageChange,hidden:t.hiddenPage}})],1)],2)])],1)])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(257)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(74),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(258),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"share-module"},[i("ul",{directives:[{name:"share",rawName:"v-share",value:t.shareParams,expression:"shareParams"}],staticClass:"share-list clearfix"},[i("li",{staticClass:"share-btn btn-app",attrs:{"share-type":"app","report-id":"click_qrcode"},on:{mouseenter:t.reportQrcode}}),i("li",{staticClass:"share-btn btn-weibo",attrs:{"share-type":"weibo","report-id":"click_share_weibo"},on:{click:function(e){t.reportHandler("weibo")}}}),i("li",{staticClass:"share-btn btn-qqzone",attrs:{"share-type":"qqzone","report-id":"click_share_qqzone"},on:{click:function(e){t.reportHandler("qqzone")}}}),i("li",{staticClass:"share-btn btn-qq",attrs:{"share-type":"qq","report-id":"click_share_qq"},on:{click:function(e){t.reportHandler("qq")}}}),i("li",{staticClass:"share-btn btn-baidu",attrs:{"share-type":"baidu","report-id":"click_share_tieba"},on:{click:function(e){t.reportHandler("tieba")}}})])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-info clearfix"},[i("div",{staticClass:"info-cover"},[t.allowLink?i("a",{attrs:{href:t.bangumiDetailLink,target:"_blank"}},[i("img",{class:{empty:!t.imgSrc},attrs:{src:t.imgSrc,alt:""}})]):t._e(),t.allowLink?t._e():i("img",{class:{empty:!t.imgSrc},attrs:{src:t.imgSrc,alt:""}})]),i("div",{staticClass:"info-right"},[i("div",{staticClass:"info-title clearfix"},[t.allowLink?i("a",{attrs:{href:t.bangumiDetailLink,target:"_blank"}},[i("h2",{domProps:{textContent:t._s(t.MEDIA_INFO.title)}})]):t._e(),t.allowLink?t._e():i("h2",{domProps:{textContent:t._s(t.MEDIA_INFO.title)}}),i("div",{staticClass:"func-module clearfix"},[i("div",{staticClass:"bangumi-btn"},[t.SPECIAL?t._e():i("div",{class:[{"btn-follow":0===t.followType,"btn-fav":1===t.followType,followed:t.SEASON_FOLLOWED}],attrs:{"report-id":t.SEASON_FOLLOWED?"click_unfollow":"click_follow"},on:{click:t.followHandler}},[i("i"),t._v(t._s(t.followBtnText))])]),i("share")],1)]),t.SPECIAL?i("div",{staticClass:"special-wrapper"},[i("bread-thumb"),i("bangumi-count")],1):t._e(),t.bangumiListShow?t._e():i("detail"),t.bangumiListShow?i("bangumi-list"):t._e()],1),t.adTipShow?i("div",{staticClass:"tokyo-ad-wrapper"},[i("a",{attrs:{href:t.adTipData.link,target:"javascript:;"===t.adTipData.link?"_self":"_blank"}},[i("i",{staticClass:"speaker"}),i("span",{domProps:{textContent:t._s(t.adTipData.title)}})])]):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(261)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(75),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(265),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(263)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(76),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(264),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:["recom-item",{align:t.align}]},[i("a",{attrs:{href:t.hrefLink,target:"_blank",title:t.recomData.title},on:{click:t.reportHandler}},[i("div",{staticClass:"recom-img"},[i("lazy-img",{attrs:{src:t.recomData.pic,alt:t.recomData.title,width:t.align?180:112,height:t.align?112:70}})],1),i("div",{staticClass:"recom-info"},[i("div",{staticClass:"info-title",domProps:{textContent:t._s(t.recomData.title)}}),i("div",{staticClass:"info-count"},[i("div",{staticClass:"play-count"},[i("i"),i("span",[t._v(t._s(t._f("formatNum")(t.recomData.stat.view)))])]),i("div",{staticClass:"danmu-count"},[i("i"),i("span",[t._v(t._s(t._f("formatNum")(t.recomData.stat.danmaku)))])])])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["bangumi-recom",{align:t.align}]},[i("h4",{staticClass:"recom-title"},[t._v("相关视频推荐")]),i("ul",{staticClass:"recom-list clearfix"},t._l(t.RECOM_LIST,function(e,n){return i("recom-item",{key:n,attrs:{index:n,"recom-data":e,align:t.align}})}))])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(267)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(77),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(271),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(269)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(78),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(270),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"bangumi-review-item"},[i("a",{attrs:{href:t.reviewLink,target:"_blank"},on:{click:t.reportHandler}},[i("div",{staticClass:"item-header"},[i("a",{staticClass:"author-name",attrs:{href:t.authorSpace,target:"javascript:;"===t.authorSpace?"_self":"_blank"},domProps:{textContent:t._s(t.authorName)},on:{click:function(t){t.stopPropagation()}}}),i("ul",{staticClass:"item-star-wrapper clearfix"},t._l(t.stars,function(e,n){return i("li",{key:n,class:["icon-star",{"icon-star-light":"full"===e.type,"icon-star-half":"half"===e.type}]},["half"===e.type?i("i",{staticClass:"path2"}):t._e()])})),i("span",{staticClass:"pub-time",domProps:{textContent:t._s(t.pubTime)}})]),t.data.title?i("div",{ref:"title",staticClass:"long-title",domProps:{textContent:t._s(t.data.title)}}):t._e(),i("p",{class:["review-content",{long:t.data.title,smaller:t.twoLineTitle}],domProps:{textContent:t._s(t.reviewContent)}})])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showMedia?i("div",{staticClass:"bangumi-media report-wrap-module report-scroll-module",attrs:{id:"bangumi_media"}},[i("div",{staticClass:"bangumi-media-header"},[i("h4",[t._v("点评")]),i("div",{staticClass:"rate-wrapper clearfix"},[t.loaded&&t.renderList.length>0?i("div",{class:["rate-score",{"no-score":!t.MEDIA_RATING.score}],domProps:{textContent:t._s(t.renderScore)}}):t._e(),t.loaded&&t.renderList.length>0?i("div",{staticClass:"rate-info"},[t.MEDIA_RATING.score?i("ul",{staticClass:"star-wrapper clearfix"},t._l(t.stars,function(e,n){return i("li",{key:n,class:["icon-star",{"icon-star-light":"full"===e.type,"icon-star-half":"half"===e.type}]},["half"===e.type?i("i",{staticClass:"path2"}):t._e()])})):t._e(),i("p",{class:["info-wrapper",{"no-score":!t.MEDIA_RATING.score}],domProps:{textContent:t._s(t.renderCount)}})]):t._e(),i("div",{class:["btn-go-write",{empty:0===t.renderList.length}],attrs:{"report-id":"click_review_publish"},on:{click:t.verifyOpen}},[t._m(0),t._v("去写点评")])]),t.renderList.length>0?i("a",{staticClass:"btn-more-review",attrs:{href:t.mediaLink,target:"javascript:;"===t.mediaLink?"_self":"_blank"},on:{click:t.reportReadMore}},[t._v("查看全部点评")]):t._e()]),i("div",{staticClass:"bangumi-media-body clearfix"},[t.renderList.length>0?i("ul",{staticClass:"bangumi-review-list clearfix"},t._l(t.renderList,function(e,n){return i("review-item",{key:n,attrs:{data:e,"media-id":t.MD_ID}})})):t._e(),0===t.renderList.length?i("div",{staticClass:"review-empty-wrapper"},[i("div",{staticClass:"empty-img"}),i("div",{staticClass:"empty-info"},[i("span",[t._v("推荐还是吐槽？点评一下吧！")]),i("span",{staticClass:"btn-go-write",attrs:{"report-id":"click_review_publish"},on:{click:t.verifyOpen}},[t._v("去写点评")])])]):t._e()])]):t._e()},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("i",{staticClass:"icon-write"},[i("b",{staticClass:"path1"}),i("b",{staticClass:"path2"}),i("b",{staticClass:"path3"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SponsorRankView=e.SponsorPayDialog=e.SponsorRankDialog=void 0;var s=i(273),a=n(s),o=i(302),r=n(o),c=i(314),l=n(c);e.SponsorRankDialog=r.default,e.SponsorPayDialog=a.default,e.SponsorRankView=l.default},function(t,e,i){"use strict";function n(t){i(274)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(80),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(301),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(276)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(81),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(279),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sponsor-pay-header",class:{border:t.border}},[t.back?i("div",{staticClass:"sp-back",on:{click:t.goBack}}):t._e(),i("div",{staticClass:"title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"sp-close",on:{click:t.payClose}})])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-index"},[i("pay-header",{attrs:{title:t.title,border:!0}}),i("div",{staticClass:"sponsor-pay-body"},[i("div",{staticClass:"sponsor-gift-hint"},[t.giftHint?i("i"):t._e(),t._v(" "+t._s(t.giftHint))]),i("ul",{staticClass:"sponsor-choice"},[t._l(t.bpPay,function(e,n){return i("li",{key:n,class:{active:t.active===n},on:{click:function(e){t.sponsorClick(n)}}},[i("div",{staticClass:"sponsor-border"},[i("i",{class:"bp"+e})]),i("span",[t._v(t._s(e)+" B币")])])}),i("li",{class:{active:-1===t.active},on:{click:function(e){t.sponsorClick(-1)}}},[i("div",{staticClass:"sponsor-border"},[i("i",{class:"bp-custom"})]),i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.custom,expression:"custom"}],ref:"custom",attrs:{type:"text",name:"custom-amount",placeholder:"自定义",maxlength:"5"},domProps:{value:t.custom},on:{focus:function(e){t.sponsorClick(-1)},input:function(e){e.target.composing||(t.custom=e.target.value)}}}),t._v("B币")])])],2),i("div",{staticClass:"sponsor-hint"},[t._v("\n            您的账户余额 "+t._s(t.config.bp)+" B币，还需支付"),i("em",{domProps:{textContent:t._s(t.needPay)}}),t._v("B币"),t.giftHint?i("span",{domProps:{textContent:t._s(t.giftTips)}}):t._e(),i("div",{staticClass:"sponsor-point"},[t._v("预计可获得"),i("em",{domProps:{textContent:t._s(t.point)}}),t._v("积分（不包括B币券）")])]),i("button",{staticClass:"sponsor-btn sponsor-btn-primary",class:{disabled:!t.agree||t.config.amount<=0},on:{click:t.next}},[t._v("立即承包")]),i("div",{staticClass:"sponsor-agree"},[i("label",[i("i",{class:{agree:t.agree},on:{click:function(e){t.agree=!t.agree}}}),i("input",{attrs:{type:"checkbox",checked:"checked"}}),t._v("同意\n                "),i("a",{attrs:{href:"https://bangumi.bilibili.com/anime/sponsor",target:"_blank"}},[t._v("用户须知")]),t._v("\n                及\n                "),i("a",{attrs:{href:"https://pay.bilibili.com/doc/license.html",target:"_blank"}},[t._v("B币用户协议")])])])])],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(281)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(83),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(282),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-quick-pay"},[i("pay-header",{attrs:{title:t.title,back:!0,border:!0},on:{back:t.goBack}}),i("div",{staticClass:"sponsor-pay-body"},[i("p",{staticClass:"sponsor-control-group"},[i("label",[t._v("承包金额：")]),i("em",[t._v(t._s(t.config.amount)+" B币")])]),i("p",{staticClass:"sponsor-control-group"},[i("label",[t._v("账户余额：")]),i("em",[t._v(t._s(t.config.bp)+" B币")]),i("span",[t._v(" (余额足够，将使用余额支付)")])])]),i("div",{staticClass:"sponsor-pay-footer"},[i("a",{staticClass:"btn-link",attrs:{target:"_blank"},on:{click:t.quickPay}},[t._v("立即承包")])])],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(284)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(84),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(285),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-qrcode"},[i("pay-header",{attrs:{title:t.title,back:!0,border:!0},on:{back:t.goBack}}),i("div",{staticClass:"sponsor-pay-amount"},[i("div",{staticClass:"sponsor-amount-group"},[i("label",[t._v("承包金额：")]),i("div",{staticClass:"sponsor-amount"},[t._v(" "+t._s(t.config.amount)+" B币")])]),i("div",{staticClass:"sponsor-amount-group"},[i("label",[t._v("需要支付：")]),i("div",{staticClass:"sponsor-amount p"},[t._v("￥"+t._s(t.config.pay))])])]),i("div",{staticClass:"sponsor-qrcode"},[i("div",{staticClass:"qr-code-title"},[t._v("请使用"+t._s(0===t.active?"支付宝":"微信")+"扫码支付")]),i("div",{staticClass:"qr-code-body"},[0===t.active?i("div",{staticClass:"alipay-qrcode"},[i("iframe",{class:{"ali-fix":t.alifix},attrs:{width:"300",height:"290",scrolling:"no",src:t.alipay}})]):t._e(),1===t.active?i("div",{staticClass:"wechat-qrcode"},[i("img",{attrs:{id:"qrcode",alt:""}})]):t._e()]),i("div",{staticClass:"sponsor-qrcode-tab"},[i("div",{staticClass:"qrcode-tab-mask"}),i("div",{staticClass:"qrcode-tab",class:{active:0===t.active},on:{click:function(e){t.tabChanged(0)}}},[i("i",{staticClass:"alipay"}),t._v("支付宝\n            ")]),i("div",{staticClass:"qrcode-tab",class:{active:1===t.active},on:{click:function(e){t.tabChanged(1)}}},[i("i",{staticClass:"wechat"}),t._v("微信\n            ")])]),i("a",{staticClass:"step_other",attrs:{href:"javascript: void(0);"},on:{click:t.jumpToPayCenter}},[t._v("其他支付方式>")])])],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(287)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(85),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(288),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-success"},[i("div",{staticClass:"sp-close",on:{click:t.payClose}}),i("div",{staticClass:"sponsor-pay-body"},[i("div",{staticClass:"sponsor-pay-preview"},[t.hasPendant?i("div",{staticClass:"sp-preview"},[t.face?i("img",{staticClass:"sp-user-face",attrs:{src:t.face,alt:""}}):t._e(),i("img",{staticClass:"sp-user-pendant",attrs:{width:"168",height:"168",src:t.hasPendant}})]):t._e(),t.hasPendant?t._e():i("div",{staticClass:"sp-default"})]),i("div",{staticClass:"sponsor-pay-result"},[i("div",{staticClass:"sponsor-pay-result-body"},[i("p",{staticClass:"sponsor-pay-result-title",domProps:{textContent:t._s(t.title)}}),i("p",[t._v(t._s(t.expStr)+t._s(t.pointStr)+t._s(t.otherStr))]),t.hasActivity&&!t.hasPendant?i("p",[t._v("单次承包满5B币送限定挂件一周，10B币一月，50B币半年")]):t._e(),t.hasPendant?i("p",[i("span",[i("i",{class:{agree:t.agree},on:{click:function(e){t.agree=!t.agree}}}),t._v("立刻换上")])]):t._e()])])]),i("div",{staticClass:"sponsor-pay-msg"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msgText,expression:"msgText"}],attrs:{cols:"30",rows:"10",maxlength:"50",placeholder:"您可以在这里输入承包感言，25字以内"},domProps:{value:t.msgText},on:{input:function(e){e.target.composing||(t.msgText=e.target.value)}}}),i("div",{staticClass:"msg-limit"},[t._v(t._s(t.msgCount)+"/"+t._s(t.msgLimit))]),i("div",{staticClass:"msg-send",on:{click:t.msgSend}},[t._v("提交留言")])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(290)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(86),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(291),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-failed"},[i("pay-header",{attrs:{title:t.title}}),t._m(0),i("div",{staticClass:"sponsor-pay-footer"},[i("a",{staticClass:"btn-link",staticStyle:{"margin-right":"20px"},attrs:{href:"javascript: void(0);",target:"_blank"},on:{click:t.goBack}},[t._v("重新支付")]),i("a",{staticClass:"btn-link normal",attrs:{href:"https://service.bilibili.com/chat/pc/index.html?sysNum=41076deba1104a1ba055bc38aacae3d5",target:"_blank"}},[t._v("遇到问题")])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sponsor-pay-body"},[i("div",{staticClass:"pay-img"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(293)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(87),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(294),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-other"},[i("pay-header",{attrs:{title:t.title}}),t._m(0),i("div",{staticClass:"sponsor-pay-footer"},[i("a",{staticClass:"btn-link",staticStyle:{"margin-right":"20px"},attrs:{href:"javascript: void(0);",target:"_blank"},on:{click:t.checkPayStatus}},[t._v("完成支付")]),i("a",{staticClass:"btn-link normal",attrs:{href:"https://service.bilibili.com/chat/pc/index.html?sysNum=41076deba1104a1ba055bc38aacae3d5",target:"_blank"}},[t._v("遇到问题")])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sponsor-pay-body"},[i("div",{staticClass:"pay-img"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(296)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(88),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(297),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-share"},[i("pay-header",{attrs:{title:t.title}}),i("div",{staticClass:"sponsor-pay-body"},[i("div",{staticClass:"pay-img"}),t.ready?i("div",{staticClass:"share-module"},[i("ul",{directives:[{name:"share",rawName:"v-share",value:t.config.share,expression:"config.share"}],staticClass:"share-list clearfix"},[i("li",{staticClass:"share-btn btn-weibo",attrs:{"share-type":"weibo"}}),i("li",{staticClass:"share-btn btn-qqzone",attrs:{"share-type":"qqzone"}}),i("li",{staticClass:"share-btn btn-qq",attrs:{"share-type":"qq"}}),i("li",{staticClass:"share-btn btn-baidu",attrs:{"share-type":"baidu"}})])]):t._e()])],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(299)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(89),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(300),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-pay-info"},[i("pay-header",{attrs:{title:t.title,back:t.hasBack,border:!0},on:{back:t.goBack}}),i("div",{staticClass:"sponsor-pay-body"},[i("div",{staticClass:"sp-info-bg"}),i("p",{staticClass:"sp-info-text"},[t._v("\n            遇到问题了，请联系客服或刷新页面重试"),i("br"),t._v("\n            出错战舰编号 [ P"+t._s(t.config.$page)+"："+t._s(t.config.$code)+" ]\n        ")])]),t._m(0)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sponsor-pay-footer"},[i("a",{staticClass:"btn-link normal",attrs:{href:"https://service.bilibili.com/chat/pc/index.html?sysNum=41076deba1104a1ba055bc38aacae3d5",target:"_blank"}},[t._v("遇到问题")])])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"sponsor-pay-dialog",on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"sponsor-pay-content",on:{click:function(t){t.stopPropagation()}}},[i("transition",{attrs:{name:"jelly",mode:"out-in"}},[i(t.component,{tag:"component",attrs:{config:t.payConfig,"need-cb":t.needCallback},on:{next:t.next,back:t.back}})],1)],1)]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(303)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(90),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(313),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(305)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(91),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(306),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rank-bb"},t._l(t.icons,function(t,e){return i("div",{key:e,staticClass:"bb-icon",style:t})}))},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"sponsor-rank-tab clearfix"},[t._l(t.tabs,function(e,n){return i("li",{key:n,class:{active:t.active===n},domProps:{textContent:t._s(e)},on:{click:function(e){t.tabClick(n)}}})}),i("div",{staticClass:"indicator",style:"left: "+t.indicator.left+"px;width: "+t.indicator.width+"px"})],2)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"sponsor-rank-item simple",class:(t.config.rank<4?"rank-":"")+(t.config.rank<4?t.config.rank:"")},[i("div",{staticClass:"sp-rank"},[i("i",{domProps:{textContent:t._s(t.config.rank>3?t.config.rank:"")}})]),i("a",{attrs:{href:"//space.bilibili.com/"+(t.config.uid||0),target:"_blank"},on:{click:t.reportHandler}},[i("img",{attrs:{src:t.cover,alt:""}}),i("div",{staticClass:"sp-user",class:t.vip,domProps:{textContent:t._s(t.config.uname)}})]),t.config.message?i("div",{staticClass:"sp-msg"},[i("p",{domProps:{textContent:t._s(t.config.message)}})]):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.source?t._e():i("div",{staticClass:"load-state"},["loading"===t.state?i("span",{staticClass:"loading"},[t._v("正在加载...")]):t._e(),"error"===t.state?i("span",{staticClass:"error"},[t._v("加载失败，\n        "),i("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.reloads()}}},[t._v("点击重试")])]):t._e(),"loaded"===t.state?i("span",{staticClass:"empty"},[t._v("没有数据(-_-#)")]):t._e()])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"sponsor-rank-dialog",on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"sponsor-rank-content",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"sp-rank-header"},[i("div",{staticClass:"sp-rank-title"},[t._v("承包榜")]),t.show?i("rank-tab",{staticClass:"sp-list-nav",attrs:{index:t.active},on:{"rank-tab":t.rankTabChanged}}):t._e(),i("span",{staticClass:"sp-close",on:{click:function(e){t.show=!1}}})],1),i("div",{staticClass:"sp-rank-body"},[t.config.loginInfo&&t.mine&&t.mine.count>0?i("div",{staticClass:"sponsor-rank-mine"},[i("div",{staticClass:"sp-rank",staticStyle:{width:"auto","min-width":"28px"}},[i("i",{staticStyle:{"max-width":"inherit"},domProps:{textContent:t._s(t.mine.rank)}})]),i("a",{attrs:{href:"//space.bilibili.com/"+(t.config.loginInfo.mid||0),target:"_blank"}},[i("img",{attrs:{src:t.cover,alt:""}}),i("div",{staticClass:"sp-user",class:t.vip,domProps:{textContent:t._s(t.config.loginInfo.uname)}})]),t.mine.message?i("div",{staticClass:"sp-msg"},[i("p",{domProps:{textContent:t._s(t.mine.message)}})]):t._e(),i("div",{staticClass:"sp-bp"},[i("i"),t._v(t._s(t.mine.count))])]):t._e(),i("ul",{directives:[{name:"show",rawName:"v-show",value:"hidden"===t.state,expression:"state === 'hidden'"}],staticClass:"sp-rank-list"},[t._l(t.rankList.list,function(e,n){return i("rank-item",{key:n,class:{"bili-item":t.showAM},attrs:{config:e,"parent-conf":t.config,index:n}})}),0===t.rankList.list.length&&"loading"!==t.state?i("li",{staticClass:"empty"},[t._v("前排虚位以待，快来承包吧")]):t._e()],2),i("loading",{staticClass:"rank-loading",attrs:{data:t.rankList.list,state:t.state},on:{reload:function(e){t.rankTabChanged(t.active)}}})],1),t.showBB?i("rank-b-b"):t._e()],1)]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(315)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(97),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(325),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(317)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(98),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(324),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(319)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(99),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(320),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"sponsor-rank-item special"},[i("div",{staticClass:"sp-left"},[i("a",{attrs:{href:"//space.bilibili.com/"+(t.config.uid||0),target:"_blank"},on:{click:t.reportHandler}},[i("img",{attrs:{src:t.cover,alt:""}})])]),i("div",{staticClass:"sp-right"},[i("div",{staticClass:"sp-user",class:t.vip},[i("a",{staticClass:"sp-name",attrs:{href:"//space.bilibili.com/"+(t.config.uid||0),target:"_blank"},on:{click:t.reportHandler}},[t._v("\n                "+t._s(t.config.uname)+"\n                "),i("i",{staticClass:"vip-rank",class:"rank-"+(t.config.rank||0)})])]),i("div",{staticClass:"sp-msg"},[i("span"),i("div",[t._v("\n                "+t._s(t.config.message||"TA并沒有留言")+"\n            ")])])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(322)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(100),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(323),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"sponsor-rank-item normal"},[i("div",{staticClass:"sp-left"},[i("div",{staticClass:"face-wrap"},[i("div",{staticClass:"sp-rank",domProps:{textContent:t._s(t.config.rank)}}),i("a",{attrs:{href:"//space.bilibili.com/"+(t.config.uid||0),target:"_blank"},on:{click:t.reportHandler}},[i("img",{attrs:{src:t.cover,alt:""}})])])]),i("div",{staticClass:"sp-right"},[i("div",{staticClass:"sp-user",class:t.vip},[i("a",{attrs:{href:"//space.bilibili.com/"+(t.config.uid||0),target:"_blank"},on:{click:t.reportHandler}},[i("div",{staticClass:"sp-name",domProps:{textContent:t._s(t.config.uname)}})])]),i("div",{staticClass:"sp-msg"},[t._v("\n            "+t._s(t.config.message||"TA并沒有留言")+"\n        ")])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"sponsor-rank-list"},[t._l(t.config.list,function(e,n){return i(n<t.config.spec?t.RankItemBg:t.RankItemSm,{key:n,tag:"component",attrs:{config:e,"parent-conf":t.parentConf,index:n}})}),0===t.config.list.length&&"loading"!==t.state?i("li",{key:-1,staticClass:"empty"},[t._v("前排虚位以待，快来承包吧")]):t._e()],2)},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sponsor-rank"},[i("div",{staticClass:"sponsor-rank-header"},[i("h3",[t._v("承包榜")]),i("rank-tab",{attrs:{index:t.active},on:{"rank-tab":t.rankTabChanged}}),i("div",{staticClass:"show-sponsor-rank",on:{click:t.showSponsorRankDialog}},[t._v("查看承包榜")])],1),i("div",{staticClass:"sponsor-rank-body"},[i("rank-list",{directives:[{name:"show",rawName:"v-show",value:"hidden"===t.state,expression:"state === 'hidden'"}],attrs:{config:t.rankList,"parent-conf":t.config}}),i("loading",{staticClass:"rank-loading",attrs:{data:t.rankList.list,state:t.state},on:{reload:function(e){t.rankTabChanged(t.active)}}})],1)])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(327)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(101),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(328),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shown?i("div",{staticClass:"bangumi-rn-wrapper"},[i("div",{staticClass:"rn-content"},[i("div",{staticClass:"rn-close",on:{click:t.close}}),i("div",{staticClass:"rn-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"rn-body"},[i("p",{staticClass:"info",domProps:{innerHTML:t._s(t.info)}})]),i("div",{staticClass:"rn-footer"},[i("a",{staticClass:"btn-bind",attrs:{href:"//passport.bilibili.com/site/site.html",target:"_blank"},domProps:{textContent:t._s(t.btnText)}}),"FORBIDDEN"===t.type?i("a",{staticClass:"tip",attrs:{href:"//account.bilibili.com/site/identification.html",target:"_blank"}},[t._v("无法换绑手机，尝试进行真实性验证")]):t._e()])])]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(330)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(102),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(331),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shown?i("div",{staticClass:"popup-1080p-wrapper"},[i("transition",{attrs:{name:"popup-1080"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.contentShow,expression:"contentShow"}],staticClass:"popup-content"},[i("div",{staticClass:"popup-close",on:{click:t.close}}),i("div",{staticClass:"popup-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"popup-desc"},[t._v("即可解锁本片所有清晰度")]),i("div",{staticClass:"popup-img"}),i("div",{staticClass:"popup-btns"},[t.btnText?i("div",{staticClass:"popup-btn btn-pay",domProps:{textContent:t._s(t.btnText)},on:{click:t.payHandler}}):t._e(),8!==t.MEDIA_INFO.season_status&&9!==t.MEDIA_INFO.season_status&&12!==t.MEDIA_INFO.season_status?i("div",{staticClass:"popup-btn btn-bevip",on:{click:t.vipHandler}},[t._v("成为大会员")]):t._e()])])])],1):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(333)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(103),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(334),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-nav-right",style:t.style},[i("div",{staticClass:"nav-goto-top",on:{click:t.gotoTop}}),i("div",{directives:[{name:"show",rawName:"v-show",value:"bangumi"===t.EP_INFO.from,expression:"EP_INFO.from === 'bangumi'"}],staticClass:"nav-mini-switch",on:{click:t.miniSwitch}},[t._v("mini"),i("br"),t._v(t._s(t.MINI_ON?"ON":"OFF"))])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(336)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(104),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(337),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shown?i("div",{class:["sixm-pay-mask",{"big-only":13===t.epStatus}]},[i("transition",{attrs:{name:"popup-sixm"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.contentShow,expression:"contentShow"}],staticClass:"popup-content"},[i("div",{staticClass:"popup-close",on:{click:t.close}}),i("div",{staticClass:"popup-title",domProps:{textContent:t._s(t.popTitle)}}),13!==t.epStatus?i("div",{staticClass:"popup-desc",domProps:{textContent:t._s(t.desc)}}):t._e(),i("div",{staticClass:"popup-img"}),i("div",{staticClass:"popup-btns"},[13!==t.epStatus?i("div",{staticClass:"popup-btn",on:{click:t.payHandler}},[t._v("立即观看")]):t._e(),13===t.epStatus?i("div",{staticClass:"popup-btn",on:{click:t.vipHandler}},[t._v("成为大会员")]):t._e(),13===t.epStatus&&t.PAY_MENT.vip_first_promotion?i("i",{staticClass:"sale",domProps:{textContent:t._s(t.PAY_MENT.vip_first_promotion)}}):t._e()]),8!==t.epStatus&&9!==t.epStatus&&12!==t.epStatus&&13!==t.epStatus?i("div",{staticClass:"btn-bevip",on:{click:t.vipHandler}},[t._v("成为大会员免费看>")]):t._e(),8!==t.epStatus&&9!==t.epStatus&&12!==t.epStatus&&13===t.epStatus?i("a",{staticClass:"btn-bevip",attrs:{href:"//big.bilibili.com/site/big.html",target:"_blank"}},[t._v("什么是大会员>")]):t._e()])])],1):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ReportDialog=e.OpenDialog=e.ReviewFeed=e.ReviewHeader=e.RateStar=e.ShortReviewDialog=void 0;var s=i(339),a=n(s),o=i(108),r=n(o),c=i(106),l=n(c),u=i(346),d=n(u),f=i(352),p=n(f),h=i(357),_=n(h);e.ShortReviewDialog=a.default,e.RateStar=r.default,e.ReviewHeader=l.default,e.ReviewFeed=d.default,e.OpenDialog=p.default,e.ReportDialog=_.default},function(t,e,i){"use strict";function n(t){i(340)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(105),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(345),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"rate-star clearfix",class:{animation:t.animation}},t._l(5,function(e){return i("li",{key:e,on:{click:function(i){t.changed(e)},mouseenter:function(i){t.rateEnter(e)},mouseleave:function(i){t.rateLeave(e)}}},[i("i",{class:{"icon-star":e>t.value&&e>t.hover,"icon-star-light":e<=t.value||e<=t.hover,"icon-hover":e<=t.hover&&e>t.value}})])}))},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"review-edit-header"},[i("a",{staticClass:"media-img",attrs:{href:"//www.bilibili.com/bangumi/media/md"+t.mediaInfo.media_id+"/",target:"_blank"}},[i("img",{attrs:{src:t.cover,alt:""}})]),i("div",{staticClass:"media-info"},[i("h4",{domProps:{textContent:t._s(t.title)}}),i("p",{staticClass:"rate-tip"},[t._v("请发表你对这部作品的评分")]),i("div",{staticClass:"rate-wrap"},[i("rate-star",{model:{value:t.score,callback:function(e){t.score=e},expression:"score"}}),5===t.score&&t.reviewInfo.is_coin?i("span",{staticClass:"is-coin"},[t._v("发表五星评价需扣除一枚硬币")]):t._e()],1)])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"short-review-masker",on:{click:function(e){t.show=!t.show}}},[i("div",{staticClass:"short-review-content",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"dialog-close",on:{click:function(e){t.show=!1}}}),i("div",{staticClass:"review-header-wrap"},[i("review-header",{attrs:{"media-info":t.mediaInfo,"review-info":t.tempInfo},on:{score:t.scoreChanged}})],1),i("div",{staticClass:"review-body-wrap"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.config.content,expression:"config.content"}],attrs:{name:"short-review",placeholder:""},domProps:{value:t.config.content},on:{input:function(e){e.target.composing||t.$set(t.config,"content",e.target.value)}}}),i("span",{staticClass:"tip",style:"color: "+t.countColor+";",domProps:{textContent:t._s(t.countTip)}},[t._v(t._s(t.config.count)+"/"+t._s(t.config.max))]),i("button",{staticClass:"mr-btn",class:{active:t.submitChecked},domProps:{textContent:t._s(t.submitText)},on:{click:t.reviewSubmit}})]),t.reviewInfo.review_id?t._e():i("a",{staticClass:"mr-long-review",attrs:{href:"//www.bilibili.com/bangumi/media/md"+t.mediaInfo.media_id+"/edit",target:"_blank"}},[t._v("想写长评，点这里 >")])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(347)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(110),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(351),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(349)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(111),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(350),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"review-feed-item clearfix"},[i("div",{staticClass:"feed-left"},[i("div",{staticClass:"review-info"},[i("a",{staticClass:"review-title",attrs:{target:"_blank",href:t.reviewLink,title:t.feed.title},domProps:{textContent:t._s(t.feed.title)}}),i("a",{staticClass:"review-content",attrs:{target:"_blank",href:t.reviewLink},domProps:{textContent:t._s(t.content)}})]),i("div",{staticClass:"review-about"},[i("a",{staticClass:"author-info",attrs:{target:"_blank",href:t.authorLink},domProps:{textContent:t._s(t.authorInfo)}}),t._v("\n            评\n            "),i("a",{staticClass:"media-title",attrs:{target:"_blank",href:t.mediaLink},domProps:{textContent:t._s(t.mediaInfo)}})])]),i("div",{staticClass:"feed-right"},[i("a",{attrs:{href:t.mediaLink,target:"_blank"}},[i("img",{attrs:{src:t.cover,alt:""}})]),i("div",{staticClass:"likes",domProps:{textContent:t._s(t.likesRender)}})])])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("div",{staticClass:"review-feed-wrapper"},[i("div",{staticClass:"feed-header clearfix"},[i("h4",[t._v("点评动态")]),i("span",{on:{click:t.refreshHandler}},[i("i",{staticClass:"icon-refresh"}),t._v("换一换")])]),i("ul",{staticClass:"feed-list"},[t._l(t.ajaxList,function(t,e){return i("feed-item",{key:e,attrs:{feed:t}})}),i("loading",{attrs:{state:t.state,data:t.ajaxList},on:{reload:t.refreshHandler}})],2)]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(353)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(112),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(356),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"__dialog-header"},[i("p",{domProps:{textContent:t._s(t.title)}}),t.noClose?t._e():i("div",{staticClass:"mr-close",on:{click:t.close}})])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"open-dialog-masker",on:{click:t.clickDismiss}},[i("div",{staticClass:"open-dialog-content",on:{click:function(t){t.stopPropagation()}}},[i("dialog-header",{attrs:{title:t.title,"no-close":t.noClose},on:{close:t.clickDismiss}}),i("div",{staticClass:"open-body"},[i("p",[t._v("满足以下条件可以发表点评")]),i("ul",[i("li",[i("span",[t._v("1、会员等级不低于Lv4")]),i("i",{class:t.levelCheck?"icon-done":"icon-warning"})]),i("li",[i("span",[t._v("2、绑定非虚拟号段手机")]),i("i",{class:t.mobileCheck?"icon-done":"icon-warning"}),t.mobileCheck?t._e():i("a",{staticClass:"pull-right",attrs:{href:t.mobileHref},domProps:{textContent:t._s(t.mobileText)}})])])]),i("div",{staticClass:"open-footer"},[i("div",{staticClass:"dialog-btn-group"},[i("div",{staticClass:"btn-normal confirm",class:{disabled:!t.levelCheck||!t.mobileCheck||!t.agree},on:{click:t.clickConfirm}},[t._v("确认\n                ")]),i("div",{staticClass:"btn-normal",class:{disabled:t.noClose},on:{click:t.clickDismiss}},[t._v("取消")])]),i("span",{staticClass:"open-agree"},[i("i",{class:{"icon-done checked":t.agree},on:{click:function(e){t.agree=!t.agree}}}),t._v("\n                已阅读"),i("a",{attrs:{href:encodeURI("https://www.bilibili.com/blackboard/help.html#点评相关"),target:"_blank"}},[t._v("《哔哩哔哩点评规范条例》")])])])],1)]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){i(358)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(115),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(362),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(360)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(116),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(361),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"__report-item"},[i("p")])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"report-dialog-masker",on:{click:function(e){t.show=!1},mousewheel:function(t){t.preventDefault()}}},[i("div",{staticClass:"report-dialog-content",on:{click:function(t){t.stopPropagation()}}},[i("iframe",{attrs:{src:t.reportUrl,frameborder:"0"}})])]):t._e()},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["main-container",{special:t.SPECIAL&&!t.limit}],attrs:{id:"app"}},[!t.SPECIAL||t.limit?i("bangumi-header"):t._e(),i("div",{staticClass:"player-wrapper report-wrap-module report-scroll-module",style:{"background-image":t.bigCover},attrs:{id:"bangumi_player"}},[t.SPECIAL&&!t.limit?i("div",{staticClass:"blur-mask",style:{"background-image":t.bigCover}}):t._e(),i("bangumi-player")],1),t.limit?t._e():i("div",{staticClass:"bangumi-info-wrapper report-wrap-module report-scroll-module",attrs:{id:"bangumi_detail"}},[i("bangumi-info")],1),i("bangumi-media"),t.sponsorShow?i("div",{staticClass:"sponsor-wrapper clearfix"},[i("div",{staticClass:"sponsor-left-area"},[i("sponsor-rank-view",{attrs:{config:t.sponsorConf}})],1),i("div",{staticClass:"sponsor-right-area"},[i("div",{staticClass:"img-wrapper",style:t.activityImage},["javascript:;"!==t.activityLink?i("a",{attrs:{href:t.activityLink,target:"javascript:;"===t.activityLink?"_self":"_blank"}}):t._e()]),i("p",{staticClass:"sponsor-count-info",domProps:{innerHTML:t._s(t.sponsorTip)}}),i("div",{staticClass:"sponsor-btn",domProps:{textContent:t._s(t.sponsorBtnText)},on:{click:t.showSponsorPay}})])]):t._e(),t.alignRecomShow?i("div",{staticClass:"recom-align-wrapper report-wrap-module report-scroll-module",attrs:{id:"bangumi_recommend_align"}},[i("bangumi-recom",{attrs:{align:!0}})],1):t._e(),t.commentShow?i("div",{staticClass:"other-wrapper clearfix"},[t._m(0),i("div",{staticClass:"recom-wrapper report-wrap-module report-scroll-module",attrs:{id:"bangumi_recommend_vertial"}},[i("bangumi-recom")],1)]):t._e(),i("sponsor-rank-dialog",{attrs:{config:t.sponsorConf}}),i("sponsor-pay-dialog",{attrs:{config:t.sponsorPayConf}}),i("pay-watch-process",{attrs:{config:t.payConf,"login-info":t.LOGIN_INFO}}),i("pay-watch-entry",{attrs:{"login-info":t.LOGIN_INFO,config:t.payDialogConfig},on:{"on-follow":t.followCallback}}),i("coin-dialog",{attrs:{coin:t.SPENDING,aid:t.EP_INFO.aid}}),i("sixm-pay-mask"),i("real-name"),i("popup1080"),i("nav-right"),i("open-dialog",{attrs:{"login-info":t.LOGIN_INFO}}),i("short-review-dialog",{attrs:{"media-info":t.editMediaInfo,"review-info":t.editReviewInfo}})],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-wrapper common"},[i("div",{staticClass:"comment-title b-head"},[i("span",{staticClass:"results"}),t._v("评论")]),i("div",{staticClass:"comm"})])}],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){return t<10?"0"+t:t}var s=i(10),a=function(t){return t&&t.__esModule?t:{default:t}}(s),o=i(1),r=i(79);a.default.filter("formatDuration",function(t){return(0,r.formatDuration)(t)}),a.default.filter("formatDate",function(t){if(t){var e=new Date(t);return e.getFullYear()+"-"+(n(e.getMonth()+1)+"-")+n(e.getDate())}}),a.default.filter("formatDateTime",function(t){if(t){var e=new Date(t);return e.getFullYear()+"-"+(n(e.getMonth()+1)+"-")+n(e.getDate())+" "+(n(e.getHours())+":")+(n(e.getMinutes())+":")+n(e.getSeconds())}}),a.default.filter("formatNum",function(t){return(0,o.biliNumFormat)(t)}),a.default.filter("trimHttp",function(t){return(0,o.trimHttp)(t)})},function(t,e,i){"use strict";function n(t,e){var i=void 0,n=void 0;for(i=0,n=t.length;i<n;++i)if(t[i].el===e)return i;return-1}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=i(1),o=i(4),r=function(t){return t&&t.__esModule?t:{default:t}}(o),c=["scroll","resize","load"],l={install:function(t,e){function i(){var t=void 0,e=void 0;for(t=0,e=m.length;t<e;++t)l(m[t])}function o(){var t=void 0,e=void 0;for(t=0,e=v.length;t<e;++t)u(v[t])}function l(t){t.loading||t.loaded||!(0,a.checkInView)(t.el,g.preload)||_(t)}function u(t){!t.loaded&&(0,a.checkInView)(t.el,g.preload)&&(t.handler.call(),t.loaded=!0)}function d(){i(),o()}function f(e,i){var s=n(m,i),a=i.getAttribute("src"),o={el:i,src:e,loading:!1,loaded:!1,defaultImg:a};-1!==s?m[s]=o:m.push(o),t.nextTick(function(){l(o)})}function p(e,i){var s=n(v,i),a={el:i,id:e.id,loaded:!1,handler:e.handler||function(){}};-1!==s?v[s].id!==e.id&&(v[s]=a,t.nextTick(function(){u(a)})):(v.push(a),t.nextTick(function(){u(a)}))}function h(t,e){var i=void 0===t?"undefined":s(t);"string"===i?f(t,e):"object"===i&&p(t,e)}function _(t){if(!t.loading&&!t.loaded){t.loading=!0;var e=new Image;e.onload=function(){t.el.src=t.src,t.loading=!1,t.loaded=!0},e.onerror=function(){t.loading=!1,t.loaded=!0,t.el.src=t.defaultImg},e.src=t.src}}var m=[],v=[],g=e||{preload:0};t.directive("lazy",{bind:function(t,e){h(e.value,t)},update:function(t,e){h(e.value,t)},componentUpdated:function(t,e){},unbind:function(t,e){var i=e.value;if("object"===(void 0===i?"undefined":s(i))){var a=n(v,t);-1!==a&&v.splice(a,1)}}});var I=(0,a.throttle)(d,200,100);if("undefined"!=typeof window)for(var y=0;y<c.length;++y)window.addEventListener(c[y],I);r.default.$on("updateFloor",function(){I()}),r.default.$on("appMounted",function(){I()})}};e.default=l},function(t,e,i){"use strict";function n(t,e){var i=this;this.shared=!1,this.listeners={},this.defaultOptions={title:document.title,url:"",desc:"",pic:"",summary:"",searchPic:"false",appkey:{weibo:"2841902482",qqweibo:"84435a83a11c484881aba8548c6e7340"},weiboTag:""},this.openShareWindow=function(t,e){var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push(n+"="+encodeURIComponent(e[n]||""));var s=t+"?"+i.join("&");return window.open(s,"","width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no"),!1},this.createHandler=function(t,e){return function(){i.openShareWindow(t,e)}},this.bindApp=function(t,e){t.innerHTML='<div class="weixin-share-modal"><canvas class="qrcode-wrapper" id="app-qrcode-wrapper"></canvas><p class="share-name">'+e.name+'</p><p class="share-tips">用<a href="https://app.bilibili.com/" target="_blank">哔哩哔哩客户端</a>或其他应用扫描二维码</p></div>',setTimeout(function(){new a.default({element:document.getElementById("app-qrcode-wrapper"),value:e.url,size:124,level:"H"})},200)},this.bindWeibo=function(t,e,n){i.bindEvent(t,"http://service.weibo.com/share/share.php",{url:e.url,type:"3",count:"1",appkey:e.appkey.weibo,title:e.weibo&&e.weibo.title||e.title,pic:e.pic,searchPic:e.searchPic,ralateUid:"",language:"zh_cn",rnd:(new Date).valueOf()},n)},this.bindBaidu=function(t,e,n){i.bindEvent(t,"http://tieba.baidu.com/f/commit/share/openShareApi",{title:e.baidu&&e.baidu.title||e.title,url:e.url,uid:726865,to:"tieba",type:"text",relateUid:"",pic:e.pic,key:"",sign:"on",desc:"",comment:e.desc},n)},this.bindQQ=function(t,e,n){i.bindEvent(t,"http://connect.qq.com/widget/shareqq/index.html",{url:e.url,showcount:1,desc:e.desc,summary:e.summary,title:e.qq&&e.qq.title||"",site:"哔哩哔哩",pics:e.pic,style:"203",width:98,height:22,otype:"share"},n)},this.bindQQZone=function(t,e,n){i.bindEvent(t,"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",{url:e.url,desc:e.desc,title:e.title,summary:e.summary,pics:e.pic,flash:"",site:"",style:"201",width:32,height:32},n)},this.bindEvent=function(t,e,n,s){i.listeners[s]&&(t.removeEventListener("click",i.listeners[s],!1),delete i.listeners[s]);var a=i.createHandler(e,n);i.listeners[s]=a,t.addEventListener("click",a,!1)},this.init=function(t,e){var n=Object.assign({},i.defaultOptions,e);for(var s in t)if(t.hasOwnProperty(s)){var a=t[s].attributes["share-type"].value;"app"===a?i.bindApp(t[s],n):"qq"===a?i.bindQQ(t[s],n,a):"weibo"===a?i.bindWeibo(t[s],n,a):"baidu"===a?i.bindBaidu(t[s],n,a):"qqzone"===a&&i.bindQQZone(t[s],n,a)}},this.unbind=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e].attributes["share-type"].value;"weixin"===n?t[e].innerHTML="":t[e].removeEventListener("click",i.listeners[n],!1)}}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=function(t){return t&&t.__esModule?t:{default:t}}(s),o={},r=0;e.default={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.directive("share",{bind:function(t,e){var i=new n(t.children,e.value),s="share_module_"+r++;i.init(t.children,e.value),o[s]=i,t.setAttribute("data-module",s)},update:function(t,e){var i=t.getAttribute("data-module");o[i].init(t.children,e.value)},unbind:function(t){var e=t.getAttribute("data-module");o[e].unbind()}})}}},function(t,e,i){"use strict";var n=i(10),s=function(t){return t&&t.__esModule?t:{default:t}}(n);s.default.directive("mouse-movieclip",{bind:function(t,e){var i=e.value,n=0,s=0,a=!1,o=i.target?window.$(t).find("."+i.target):window.$(t),r=i.direction?i.direction:"x",c=i.directionSpc?i.directionSpc:0,l=i.speed?i.speed:80;t.addEventListener("mouseenter",function(){a=!0,s=0,clearInterval(t.timer);var e={};t.timer=setInterval(function(){n=-s*i.step,"x"===r&&(e={"background-position":n+"px -"+c+"px"}),"y"===r&&(e={"background-position":"-"+c+"px "+n+"px"}),window.$(o).css(e),a?++s>i.max-1&&(s=i.point):--s<0&&clearInterval(t.timer)},l)}),t.addEventListener("mouseleave",function(){a=!1})}}),s.default.directive("focus",{inserted:function(t){t.focus()}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=n(s),o=i(369),r=n(o);e.default={Message:r.default,install:function(){a.default.prototype.$message=r.default}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=n(s),o=i(370),r=n(o),c=a.default.extend(r.default),l=void 0,u=[],d=1,f=2e3,p=function t(e){if(!a.default.prototype.$isServer){e=e||{},"string"==typeof e&&(e={message:e});var i=e.onClose,n="message_"+d++;return e.onClose=function(){t.close(n,i)},l=new c({data:e}),l.id=n,l.vm=l.$mount(),document.body.appendChild(l.vm.$el),l.vm.visible=!0,l.dom=l.vm.$el,l.dom.style.zIndex=e.zIndex||f++,"number"==typeof e.offset?l.dom.style.top=(e.offset||60)+"px":"string"==typeof e.offset&&(l.dom.style.top=e.offset||""),u.push(l),l.vm}};["success","warning","info","error"].forEach(function(t){p[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,p(e)}}),p.close=function(t,e){for(var i=0,n=u.length;i<n;i++)if(t===u[i].id){"function"==typeof e&&e(u[i]),u.splice(i,1);break}},p.closeAll=function(){for(var t=u.length-1;t>=0;t--)u[t].close()},e.default=p},function(t,e,i){"use strict";function n(t){i(371)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var r=i(372),c=i(0),l=n,u=c(a.a,r.a,!1,l,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"bili-message-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["bili-message",t.type&&!t.iconClass?"bili-message-"+t.type:"",t.center?"is-center":"",t.customClass],attrs:{role:"alert"},on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[t.iconClass?i("i",{class:t.iconClass}):i("i",{class:t.typeClass}),t._t("default",[t.dangerouslyUseHTMLString?i("p",{staticClass:"bili-message-content",domProps:{innerHTML:t._s(t.message)}}):i("p",{staticClass:"bili-message-content"},[t._v(t._s(t.message))])]),t.showClose?i("i",{staticClass:"bili-icon-close",on:{click:t.close}}):t._e()],2)])},s=[],a={render:n,staticRenderFns:s};e.a=a},function(t,e,i){"use strict";function n(t){t=void 0===t?"undefined"!=typeof window?window.navigator.userAgent:"":t;var e=t.split("BiliApp/")[1]||"",i=e.split(" ")[0]||"",n=isNaN(Number(i))?0:Number(i),s=/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t),a=/Android/i.test(t)||/Linux/i.test(t);return t?{mobile:/AppleWebKit.*Mobile.*/i.test(t),ios:s,android:a,windowsPhone:/Windows Phone/i.test(t),iPhone:/iPhone/i.test(t),ios9:/iPhone OS\ 9_/i.test(t),iPad:/iPad/i.test(t),webApp:!/Safari/i.test(t),microMessenger:/MicroMessenger/i.test(t),weibo:/Weibo/i.test(t),uc:/UCBrowser/i.test(t),qq:/MQQBrowser/i.test(t),baidu:/Baidu/i.test(t),mqq:/QQ\/([\d\.]+)/i.test(t),mBaidu:/baiduboxapp/i.test(t),iqiyi:/iqiyi/i.test(t),qqLive:/QQLive/i.test(t),safari:/Safari/i.test(t),youku:/youku/i.test(t),ie:/MSIE/i.test(t)||/Trident/i.test(t),edge:/Edge/i.test(t),bili:/bili/i.test(t),biliVer:n}:{}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}],[118]);