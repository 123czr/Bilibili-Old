本目录及其子目录是typescript代码源文件所在目录，也是主要代码共享所在目录，所有ts源文件将被自动编译为JavaScript目录下对应的js文件。  
除当前目录下的`index.ts`外所有的ts文件都作为本项目所称之为的“模块”，而`index.ts`本身将经过一系列任务合成为脚本主体`main.user.js`。

### 模块释明
本项目所称之为的“模块”（以下简称模块并去引号）有别与其他任何typescript/JavaScript下的“模块”概念，切勿将此“模块”与彼“模块”弄混以至于引入一些不支持的语法！  
本项目的模块就其根本而言就是一个普普通通的ts/js文件：任何一个普通的js脚本都可以作为本项目的一个模块，但本项目的一个模块却未必可以像一个普通js脚本那样直接运行，如果其中依赖了本项目提供的各种API的话。当然如果不依赖那些API，那就真是一个普通的js脚本，不过那样也没有必要成为项目的模块之一了。  
本项目以类似于“全局变量”的方式为每个模块提供了一些数据，这些“全局变量”可以像使用`window`、`console`等对象一样直接在代码中使用，当然也一样不可以再顶层作为变量名去声明。而模块中一旦使用了这些对象，就不能再脱离本项目模块概念而直接运行，因为那样这些对象对会成为“未定义”的从而出现语法错误。

### 模块规范
1. **模块的文件名是唯一的**：本项目以文件名作为索引导入模块而不关心模块具体路径，所以模块间万万不可重名，这里的文件名是包括拓展名在内的完整文件名。
2. 模块ts源文件可以只能放在本目录下，但允许新建子目录进行归类：**但就算目录不同，模块间也不允许重名！**
3. 模块主体代码请放在一个自运行函数体中：由于VSCode默认所有ts代码共用一个命名空间（即顶层空间），直接在模块顶层写代码将导致VSCode语义检查给出一系列莫名其妙的错误及警告！  
4. 模块间如果要共享数据，请通过全局对象`API`而不是去污染顶层对象`window`，然后拓展变量`API`的声明以通过语义检查。
5. 通过API导入其他模块可以添加新的“全局变量”给仅限该模块使用，这种情况为了过语义检查不推荐给该变量写声明，而是在被导入的模块中用到该变量的地方添加忽略语义检查的命令。（参考`/core/ui.ts`中对于`setting`变量的做法）

### 全局变量
这里所指的“全局变量”与上文的是可在模块中像`window`、`console`等一样直接使用的变量，具体类型可以是对象、函数、变量等。
1. `API`：作为模块间共享数据的指定对象，是类似于顶层对象`window`那样的存在，其意义本身也就是作为避免污染`window`对象而设定的“替身”一样的存在，上面有一系列项目提供的函数、变量等数据以属性/方法的形式存在，模块也可以将任何数据以该对象的属性或方法暴露出去给其他模块使用。  
2. `GM`：本项目将可能用到的`Tampermonkey`提供的类似于`GM_*`的高级API封装为了该对象的方法，因为模块实际运行环境已无法直接使用`GM_*`这样的高级API，所以曲线救国似的用了这种封装方式将这些API传递给了需要用到它们的模块。本对象同时还作为对象`API`的属性存在。
3. `config`：脚本设置数据所在对象，通过本项目指定的添加设置的方法添加的能够被用户自定义修改的数据都以该变量的属性的方式提供给了模块，模块无需接管这些数据的维护可以直接使用。本对象同时还作为对象`API`的属性存在。
4. `importModule`：本项目指定的导入其他模块的方法，本质上是一个函数。一般如果要用到某个数据，该数据在另一个模块中定义并以对象`API`的属性/方法的形式共享，只是那个模块是按需运行的，此时对象`API`上还没有需要的数据。此时可以通过本函数同步导入那个模块，然后所需数据就挂载到了对象`API`上可以使用了。本函数的第一个参数就是要导入模块的**文件名**，第二个是可选参数，用来指定要传递的额外的“全局变量”的。本函数默认会忽略对一个模块的多次导入，因为导入一次就数据就已经在对象`API`上了。但若是模块没有按规范通过`API`共享数据，每次用到时都需要导入一次的话，本函数的第三个可选参数可作为补救方案：这是布尔值，将其传入真值将强制导入指定模块不管该模块是否已经导入过。本函数同时还作为对象`API`的方法存在。